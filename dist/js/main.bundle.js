/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{var e,t,n,s,a={955:function(e,t,n){var s;e.exports=(s=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=s,t=e.lib.BlockCipher,n=e.algo,a=[],r=[],i=[],o=[],c=[],l=[],d=[],u=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,s=0;for(t=0;t<256;t++){var f=s^s<<1^s<<2^s<<3^s<<4;f=f>>>8^255&f^99,a[n]=f,r[f]=n;var m=e[n],y=e[m],g=e[y],w=257*e[f]^16843008*f;i[n]=w<<24|w>>>8,o[n]=w<<16|w>>>16,c[n]=w<<8|w>>>24,l[n]=w,w=16843009*g^65537*y^257*m^16843008*n,d[f]=w<<24|w>>>8,u[f]=w<<16|w>>>16,p[f]=w<<8|w>>>24,h[f]=w,n?(n=m^e[e[e[g^m]]],s^=e[e[s]]):n=s=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,s=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],i=0;i<s;i++)i<n?r[i]=t[i]:(l=r[i-1],i%n?n>6&&i%n==4&&(l=a[l>>>24]<<24|a[l>>>16&255]<<16|a[l>>>8&255]<<8|a[255&l]):(l=a[(l=l<<8|l>>>24)>>>24]<<24|a[l>>>16&255]<<16|a[l>>>8&255]<<8|a[255&l],l^=f[i/n|0]<<24),r[i]=r[i-n]^l);for(var o=this._invKeySchedule=[],c=0;c<s;c++){if(i=s-c,c%4)var l=r[i];else l=r[i-4];o[c]=c<4||i<=4?l:d[a[l>>>24]]^u[a[l>>>16&255]]^p[a[l>>>8&255]]^h[a[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,o,c,l,a)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,d,u,p,h,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,s,a,r,i,o){for(var c=this._nRounds,l=e[t]^n[0],d=e[t+1]^n[1],u=e[t+2]^n[2],p=e[t+3]^n[3],h=4,f=1;f<c;f++){var m=s[l>>>24]^a[d>>>16&255]^r[u>>>8&255]^i[255&p]^n[h++],y=s[d>>>24]^a[u>>>16&255]^r[p>>>8&255]^i[255&l]^n[h++],g=s[u>>>24]^a[p>>>16&255]^r[l>>>8&255]^i[255&d]^n[h++],w=s[p>>>24]^a[l>>>16&255]^r[d>>>8&255]^i[255&u]^n[h++];l=m,d=y,u=g,p=w}m=(o[l>>>24]<<24|o[d>>>16&255]<<16|o[u>>>8&255]<<8|o[255&p])^n[h++],y=(o[d>>>24]<<24|o[u>>>16&255]<<16|o[p>>>8&255]<<8|o[255&l])^n[h++],g=(o[u>>>24]<<24|o[p>>>16&255]<<16|o[l>>>8&255]<<8|o[255&d])^n[h++],w=(o[p>>>24]<<24|o[l>>>16&255]<<16|o[d>>>8&255]<<8|o[255&u])^n[h++],e[t]=m,e[t+1]=y,e[t+2]=g,e[t+3]=w},keySize:8});e.AES=t._createHelper(m)}(),s.AES)},3128:function(e,t,n){var s;e.exports=(s=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=s,t=e.lib.BlockCipher,n=e.algo;const a=16,r=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],i=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var o={pbox:[],sbox:[]};function c(e,t){let n=t>>24&255,s=t>>16&255,a=t>>8&255,r=255&t,i=e.sbox[0][n]+e.sbox[1][s];return i^=e.sbox[2][a],i+=e.sbox[3][r],i}function l(e,t,n){let s,r=t,i=n;for(let t=0;t<a;++t)r^=e.pbox[t],i=c(e,r)^i,s=r,r=i,i=s;return s=r,r=i,i=s,i^=e.pbox[a],r^=e.pbox[a+1],{left:r,right:i}}var d=n.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;!function(e,t,n){for(let t=0;t<4;t++){e.sbox[t]=[];for(let n=0;n<256;n++)e.sbox[t][n]=i[t][n]}let s=0;for(let i=0;i<a+2;i++)e.pbox[i]=r[i]^t[s],s++,s>=n&&(s=0);let o=0,c=0,d=0;for(let t=0;t<a+2;t+=2)d=l(e,o,c),o=d.left,c=d.right,e.pbox[t]=o,e.pbox[t+1]=c;for(let t=0;t<4;t++)for(let n=0;n<256;n+=2)d=l(e,o,c),o=d.left,c=d.right,e.sbox[t][n]=o,e.sbox[t][n+1]=c}(o,t,n)}},encryptBlock:function(e,t){var n=l(o,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=function(e,t,n){let s,r=t,i=n;for(let t=a+1;t>1;--t)r^=e.pbox[t],i=c(e,r)^i,s=r,r=i,i=s;return s=r,r=i,i=s,i^=e.pbox[1],r^=e.pbox[0],{left:r,right:i}}(o,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(d)}(),s.Blowfish)},7165:function(e,t,n){var s,a,r,i,o,c,l,d,u,p,h,f,m,y,g,w,A,b,E;e.exports=(s=n(9021),n(9506),void(s.lib.Cipher||(a=s,r=a.lib,i=r.Base,o=r.WordArray,c=r.BufferedBlockAlgorithm,l=a.enc,l.Utf8,d=l.Base64,u=a.algo.EvpKDF,p=r.Cipher=c.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?E:A}return function(t){return{encrypt:function(n,s,a){return e(s).encrypt(t,n,s,a)},decrypt:function(n,s,a){return e(s).decrypt(t,n,s,a)}}}}()}),r.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),h=a.mode={},f=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=h.CBC=function(){var e=f.extend();function t(e,t,n){var s,a=this._iv;a?(s=a,this._iv=void 0):s=this._prevBlock;for(var r=0;r<n;r++)e[t+r]^=s[r]}return e.Encryptor=e.extend({processBlock:function(e,n){var s=this._cipher,a=s.blockSize;t.call(this,e,n,a),s.encryptBlock(e,n),this._prevBlock=e.slice(n,n+a)}}),e.Decryptor=e.extend({processBlock:function(e,n){var s=this._cipher,a=s.blockSize,r=e.slice(n,n+a);s.decryptBlock(e,n),t.call(this,e,n,a),this._prevBlock=r}}),e}(),y=(a.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,s=n-e.sigBytes%n,a=s<<24|s<<16|s<<8|s,r=[],i=0;i<s;i+=4)r.push(a);var c=o.create(r,s);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.BlockCipher=p.extend({cfg:p.cfg.extend({mode:m,padding:y}),reset:function(){var e;p.reset.call(this);var t=this.cfg,n=t.iv,s=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=s.createEncryptor:(e=s.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(s,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),g=r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),w=(a.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?o.create([1398893684,1701076831]).concat(n).concat(t):t).toString(d)},parse:function(e){var t,n=d.parse(e),s=n.words;return 1398893684==s[0]&&1701076831==s[1]&&(t=o.create(s.slice(2,4)),s.splice(0,4),n.sigBytes-=16),g.create({ciphertext:n,salt:t})}},A=r.SerializableCipher=i.extend({cfg:i.extend({format:w}),encrypt:function(e,t,n,s){s=this.cfg.extend(s);var a=e.createEncryptor(n,s),r=a.finalize(t),i=a.cfg;return g.create({ciphertext:r,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:s.format})},decrypt:function(e,t,n,s){return s=this.cfg.extend(s),t=this._parse(t,s.format),e.createDecryptor(n,s).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(a.kdf={}).OpenSSL={execute:function(e,t,n,s,a){if(s||(s=o.random(8)),a)r=u.create({keySize:t+n,hasher:a}).compute(e,s);else var r=u.create({keySize:t+n}).compute(e,s);var i=o.create(r.words.slice(t),4*n);return r.sigBytes=4*t,g.create({key:r,iv:i,salt:s})}},E=r.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:b}),encrypt:function(e,t,n,s){var a=(s=this.cfg.extend(s)).kdf.execute(n,e.keySize,e.ivSize,s.salt,s.hasher);s.iv=a.iv;var r=A.encrypt.call(this,e,t,a.key,s);return r.mixIn(a),r},decrypt:function(e,t,n,s){s=this.cfg.extend(s),t=this._parse(t,s.format);var a=s.kdf.execute(n,e.keySize,e.ivSize,t.salt,s.hasher);return s.iv=a.iv,A.decrypt.call(this,e,t,a.key,s)}}))))},9021:function(e,t,n){var s;e.exports=(s=s||function(e,t){var s;if("undefined"!=typeof window&&window.crypto&&(s=window.crypto),"undefined"!=typeof self&&self.crypto&&(s=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(s=globalThis.crypto),!s&&"undefined"!=typeof window&&window.msCrypto&&(s=window.msCrypto),!s&&void 0!==n.g&&n.g.crypto&&(s=n.g.crypto),!s)try{s=n(477)}catch(e){}var a=function(){if(s){if("function"==typeof s.getRandomValues)try{return s.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof s.randomBytes)try{return s.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},o=i.lib={},c=o.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=o.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,s=this.sigBytes,a=e.sigBytes;if(this.clamp(),s%4)for(var r=0;r<a;r++){var i=n[r>>>2]>>>24-r%4*8&255;t[s+r>>>2]|=i<<24-(s+r)%4*8}else for(var o=0;o<a;o+=4)t[s+o>>>2]=n[o>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(a());return new l.init(t,e)}}),d=i.enc={},u=d.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,s=[],a=0;a<n;a++){var r=t[a>>>2]>>>24-a%4*8&255;s.push((r>>>4).toString(16)),s.push((15&r).toString(16))}return s.join("")},parse:function(e){for(var t=e.length,n=[],s=0;s<t;s+=2)n[s>>>3]|=parseInt(e.substr(s,2),16)<<24-s%8*4;return new l.init(n,t/2)}},p=d.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,s=[],a=0;a<n;a++){var r=t[a>>>2]>>>24-a%4*8&255;s.push(String.fromCharCode(r))}return s.join("")},parse:function(e){for(var t=e.length,n=[],s=0;s<t;s++)n[s>>>2]|=(255&e.charCodeAt(s))<<24-s%4*8;return new l.init(n,t)}},h=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},f=o.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,s=this._data,a=s.words,r=s.sigBytes,i=this.blockSize,o=r/(4*i),c=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*i,d=e.min(4*c,r);if(c){for(var u=0;u<c;u+=i)this._doProcessBlock(a,u);n=a.splice(0,c),s.sigBytes-=d}return new l.init(n,d)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(o.Hasher=f.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math),s)},754:function(e,t,n){var s,a,r;e.exports=(s=n(9021),r=(a=s).lib.WordArray,a.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,s=this._map;e.clamp();for(var a=[],r=0;r<n;r+=3)for(var i=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,o=0;o<4&&r+.75*o<n;o++)a.push(s.charAt(i>>>6*(3-o)&63));var c=s.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e){var t=e.length,n=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var a=0;a<n.length;a++)s[n.charCodeAt(a)]=a}var i=n.charAt(64);if(i){var o=e.indexOf(i);-1!==o&&(t=o)}return function(e,t,n){for(var s=[],a=0,i=0;i<t;i++)if(i%4){var o=n[e.charCodeAt(i-1)]<<i%4*2|n[e.charCodeAt(i)]>>>6-i%4*2;s[a>>>2]|=o<<24-a%4*8,a++}return r.create(s,a)}(e,t,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},s.enc.Base64)},4725:function(e,t,n){var s,a,r;e.exports=(s=n(9021),r=(a=s).lib.WordArray,a.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,s=e.sigBytes,a=t?this._safe_map:this._map;e.clamp();for(var r=[],i=0;i<s;i+=3)for(var o=(n[i>>>2]>>>24-i%4*8&255)<<16|(n[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|n[i+2>>>2]>>>24-(i+2)%4*8&255,c=0;c<4&&i+.75*c<s;c++)r.push(a.charAt(o>>>6*(3-c)&63));var l=a.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e,t){void 0===t&&(t=!0);var n=e.length,s=t?this._safe_map:this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var i=0;i<s.length;i++)a[s.charCodeAt(i)]=i}var o=s.charAt(64);if(o){var c=e.indexOf(o);-1!==c&&(n=c)}return function(e,t,n){for(var s=[],a=0,i=0;i<t;i++)if(i%4){var o=n[e.charCodeAt(i-1)]<<i%4*2|n[e.charCodeAt(i)]>>>6-i%4*2;s[a>>>2]|=o<<24-a%4*8,a++}return r.create(s,a)}(e,n,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},s.enc.Base64url)},5503:function(e,t,n){var s;e.exports=(s=n(9021),function(){var e=s,t=e.lib.WordArray,n=e.enc;function a(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,s=[],a=0;a<n;a+=2){var r=t[a>>>2]>>>16-a%4*8&65535;s.push(String.fromCharCode(r))}return s.join("")},parse:function(e){for(var n=e.length,s=[],a=0;a<n;a++)s[a>>>1]|=e.charCodeAt(a)<<16-a%2*16;return t.create(s,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,s=[],r=0;r<n;r+=2){var i=a(t[r>>>2]>>>16-r%4*8&65535);s.push(String.fromCharCode(i))}return s.join("")},parse:function(e){for(var n=e.length,s=[],r=0;r<n;r++)s[r>>>1]|=a(e.charCodeAt(r)<<16-r%2*16);return t.create(s,2*n)}}}(),s.enc.Utf16)},9506:function(e,t,n){var s,a,r,i,o,c,l,d;e.exports=(d=n(9021),n(5471),n(1025),r=(a=(s=d).lib).Base,i=a.WordArray,c=(o=s.algo).MD5,l=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,s=this.cfg,a=s.hasher.create(),r=i.create(),o=r.words,c=s.keySize,l=s.iterations;o.length<c;){n&&a.update(n),n=a.update(e).finalize(t),a.reset();for(var d=1;d<l;d++)n=a.finalize(n),a.reset();r.concat(n)}return r.sigBytes=4*c,r}}),s.EvpKDF=function(e,t,n){return l.create(n).compute(e,t)},d.EvpKDF)},25:function(e,t,n){var s,a,r,i;e.exports=(i=n(9021),n(7165),a=(s=i).lib.CipherParams,r=s.enc.Hex,s.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return a.create({ciphertext:t})}},i.format.Hex)},1025:function(e,t,n){var s,a,r;e.exports=(a=(s=n(9021)).lib.Base,r=s.enc.Utf8,void(s.algo.HMAC=a.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,s=4*n;t.sigBytes>s&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),i=this._iKey=t.clone(),o=a.words,c=i.words,l=0;l<n;l++)o[l]^=1549556828,c[l]^=909522486;a.sigBytes=i.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},1396:function(e,t,n){var s;e.exports=(s=n(9021),n(3240),n(6440),n(5503),n(754),n(4725),n(4636),n(5471),n(3009),n(6308),n(1380),n(9557),n(5953),n(8056),n(1025),n(19),n(9506),n(7165),n(2169),n(6939),n(6372),n(3797),n(8454),n(2073),n(4905),n(482),n(2155),n(8124),n(25),n(955),n(7628),n(7193),n(6298),n(2696),n(3128),s)},6440:function(e,t,n){var s;e.exports=(s=n(9021),function(){if("function"==typeof ArrayBuffer){var e=s.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,s=[],a=0;a<n;a++)s[a>>>2]|=e[a]<<24-a%4*8;t.call(this,s,n)}else t.apply(this,arguments)};n.prototype=e}}(),s.lib.WordArray)},4636:function(e,t,n){var s;e.exports=(s=n(9021),function(e){var t=s,n=t.lib,a=n.WordArray,r=n.Hasher,i=t.algo,o=[];!function(){for(var t=0;t<64;t++)o[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=i.MD5=r.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var s=t+n,a=e[s];e[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var r=this._hash.words,i=e[t+0],c=e[t+1],h=e[t+2],f=e[t+3],m=e[t+4],y=e[t+5],g=e[t+6],w=e[t+7],A=e[t+8],b=e[t+9],E=e[t+10],v=e[t+11],k=e[t+12],C=e[t+13],T=e[t+14],L=e[t+15],x=r[0],I=r[1],B=r[2],M=r[3];x=l(x,I,B,M,i,7,o[0]),M=l(M,x,I,B,c,12,o[1]),B=l(B,M,x,I,h,17,o[2]),I=l(I,B,M,x,f,22,o[3]),x=l(x,I,B,M,m,7,o[4]),M=l(M,x,I,B,y,12,o[5]),B=l(B,M,x,I,g,17,o[6]),I=l(I,B,M,x,w,22,o[7]),x=l(x,I,B,M,A,7,o[8]),M=l(M,x,I,B,b,12,o[9]),B=l(B,M,x,I,E,17,o[10]),I=l(I,B,M,x,v,22,o[11]),x=l(x,I,B,M,k,7,o[12]),M=l(M,x,I,B,C,12,o[13]),B=l(B,M,x,I,T,17,o[14]),x=d(x,I=l(I,B,M,x,L,22,o[15]),B,M,c,5,o[16]),M=d(M,x,I,B,g,9,o[17]),B=d(B,M,x,I,v,14,o[18]),I=d(I,B,M,x,i,20,o[19]),x=d(x,I,B,M,y,5,o[20]),M=d(M,x,I,B,E,9,o[21]),B=d(B,M,x,I,L,14,o[22]),I=d(I,B,M,x,m,20,o[23]),x=d(x,I,B,M,b,5,o[24]),M=d(M,x,I,B,T,9,o[25]),B=d(B,M,x,I,f,14,o[26]),I=d(I,B,M,x,A,20,o[27]),x=d(x,I,B,M,C,5,o[28]),M=d(M,x,I,B,h,9,o[29]),B=d(B,M,x,I,w,14,o[30]),x=u(x,I=d(I,B,M,x,k,20,o[31]),B,M,y,4,o[32]),M=u(M,x,I,B,A,11,o[33]),B=u(B,M,x,I,v,16,o[34]),I=u(I,B,M,x,T,23,o[35]),x=u(x,I,B,M,c,4,o[36]),M=u(M,x,I,B,m,11,o[37]),B=u(B,M,x,I,w,16,o[38]),I=u(I,B,M,x,E,23,o[39]),x=u(x,I,B,M,C,4,o[40]),M=u(M,x,I,B,i,11,o[41]),B=u(B,M,x,I,f,16,o[42]),I=u(I,B,M,x,g,23,o[43]),x=u(x,I,B,M,b,4,o[44]),M=u(M,x,I,B,k,11,o[45]),B=u(B,M,x,I,L,16,o[46]),x=p(x,I=u(I,B,M,x,h,23,o[47]),B,M,i,6,o[48]),M=p(M,x,I,B,w,10,o[49]),B=p(B,M,x,I,T,15,o[50]),I=p(I,B,M,x,y,21,o[51]),x=p(x,I,B,M,k,6,o[52]),M=p(M,x,I,B,f,10,o[53]),B=p(B,M,x,I,E,15,o[54]),I=p(I,B,M,x,c,21,o[55]),x=p(x,I,B,M,A,6,o[56]),M=p(M,x,I,B,L,10,o[57]),B=p(B,M,x,I,g,15,o[58]),I=p(I,B,M,x,C,21,o[59]),x=p(x,I,B,M,m,6,o[60]),M=p(M,x,I,B,v,10,o[61]),B=p(B,M,x,I,h,15,o[62]),I=p(I,B,M,x,b,21,o[63]),r[0]=r[0]+x|0,r[1]=r[1]+I|0,r[2]=r[2]+B|0,r[3]=r[3]+M|0},_doFinalize:function(){var t=this._data,n=t.words,s=8*this._nDataBytes,a=8*t.sigBytes;n[a>>>5]|=128<<24-a%32;var r=e.floor(s/4294967296),i=s;n[15+(a+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(a+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process();for(var o=this._hash,c=o.words,l=0;l<4;l++){var d=c[l];c[l]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return o},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,s,a,r,i){var o=e+(t&n|~t&s)+a+i;return(o<<r|o>>>32-r)+t}function d(e,t,n,s,a,r,i){var o=e+(t&s|n&~s)+a+i;return(o<<r|o>>>32-r)+t}function u(e,t,n,s,a,r,i){var o=e+(t^n^s)+a+i;return(o<<r|o>>>32-r)+t}function p(e,t,n,s,a,r,i){var o=e+(n^(t|~s))+a+i;return(o<<r|o>>>32-r)+t}t.MD5=r._createHelper(c),t.HmacMD5=r._createHmacHelper(c)}(Math),s.MD5)},2169:function(e,t,n){var s;e.exports=(s=n(9021),n(7165),s.mode.CFB=function(){var e=s.lib.BlockCipherMode.extend();function t(e,t,n,s){var a,r=this._iv;r?(a=r.slice(0),this._iv=void 0):a=this._prevBlock,s.encryptBlock(a,0);for(var i=0;i<n;i++)e[t+i]^=a[i]}return e.Encryptor=e.extend({processBlock:function(e,n){var s=this._cipher,a=s.blockSize;t.call(this,e,n,a,s),this._prevBlock=e.slice(n,n+a)}}),e.Decryptor=e.extend({processBlock:function(e,n){var s=this._cipher,a=s.blockSize,r=e.slice(n,n+a);t.call(this,e,n,a,s),this._prevBlock=r}}),e}(),s.mode.CFB)},6372:function(e,t,n){var s;e.exports=(s=n(9021),n(7165),s.mode.CTRGladman=function(){var e=s.lib.BlockCipherMode.extend();function t(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,n=e>>8&255,s=255&e;255===t?(t=0,255===n?(n=0,255===s?s=0:++s):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=s}return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var s=this._cipher,a=s.blockSize,r=this._iv,i=this._counter;r&&(i=this._counter=r.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(i);var o=i.slice(0);s.encryptBlock(o,0);for(var c=0;c<a;c++)e[n+c]^=o[c]}});return e.Decryptor=n,e}(),s.mode.CTRGladman)},6939:function(e,t,n){var s,a,r;e.exports=(r=n(9021),n(7165),r.mode.CTR=(a=(s=r.lib.BlockCipherMode.extend()).Encryptor=s.extend({processBlock:function(e,t){var n=this._cipher,s=n.blockSize,a=this._iv,r=this._counter;a&&(r=this._counter=a.slice(0),this._iv=void 0);var i=r.slice(0);n.encryptBlock(i,0),r[s-1]=r[s-1]+1|0;for(var o=0;o<s;o++)e[t+o]^=i[o]}}),s.Decryptor=a,s),r.mode.CTR)},8454:function(e,t,n){var s,a;e.exports=(a=n(9021),n(7165),a.mode.ECB=((s=a.lib.BlockCipherMode.extend()).Encryptor=s.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),s.Decryptor=s.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),s),a.mode.ECB)},3797:function(e,t,n){var s,a,r;e.exports=(r=n(9021),n(7165),r.mode.OFB=(a=(s=r.lib.BlockCipherMode.extend()).Encryptor=s.extend({processBlock:function(e,t){var n=this._cipher,s=n.blockSize,a=this._iv,r=this._keystream;a&&(r=this._keystream=a.slice(0),this._iv=void 0),n.encryptBlock(r,0);for(var i=0;i<s;i++)e[t+i]^=r[i]}}),s.Decryptor=a,s),r.mode.OFB)},2073:function(e,t,n){var s;e.exports=(s=n(9021),n(7165),s.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,s=4*t,a=s-n%s,r=n+a-1;e.clamp(),e.words[r>>>2]|=a<<24-r%4*8,e.sigBytes+=a},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},s.pad.Ansix923)},4905:function(e,t,n){var s;e.exports=(s=n(9021),n(7165),s.pad.Iso10126={pad:function(e,t){var n=4*t,a=n-e.sigBytes%n;e.concat(s.lib.WordArray.random(a-1)).concat(s.lib.WordArray.create([a<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},s.pad.Iso10126)},482:function(e,t,n){var s;e.exports=(s=n(9021),n(7165),s.pad.Iso97971={pad:function(e,t){e.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(e,t)},unpad:function(e){s.pad.ZeroPadding.unpad(e),e.sigBytes--}},s.pad.Iso97971)},8124:function(e,t,n){var s;e.exports=(s=n(9021),n(7165),s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding)},2155:function(e,t,n){var s;e.exports=(s=n(9021),n(7165),s.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},s.pad.ZeroPadding)},19:function(e,t,n){var s,a,r,i,o,c,l,d,u;e.exports=(u=n(9021),n(3009),n(1025),r=(a=(s=u).lib).Base,i=a.WordArray,c=(o=s.algo).SHA256,l=o.HMAC,d=o.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:c,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,s=l.create(n.hasher,e),a=i.create(),r=i.create([1]),o=a.words,c=r.words,d=n.keySize,u=n.iterations;o.length<d;){var p=s.update(t).finalize(r);s.reset();for(var h=p.words,f=h.length,m=p,y=1;y<u;y++){m=s.finalize(m),s.reset();for(var g=m.words,w=0;w<f;w++)h[w]^=g[w]}a.concat(p),c[0]++}return a.sigBytes=4*d,a}}),s.PBKDF2=function(e,t,n){return d.create(n).compute(e,t)},u.PBKDF2)},2696:function(e,t,n){var s;e.exports=(s=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=s,t=e.lib.StreamCipher,n=e.algo,a=[],r=[],i=[],o=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],s=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var a=0;a<4;a++)c.call(this);for(a=0;a<8;a++)s[a]^=n[a+4&7];if(t){var r=t.words,i=r[0],o=r[1],l=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=l>>>16|4294901760&d,p=d<<16|65535&l;for(s[0]^=l,s[1]^=u,s[2]^=d,s[3]^=p,s[4]^=l,s[5]^=u,s[6]^=d,s[7]^=p,a=0;a<4;a++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),a[0]=n[0]^n[5]>>>16^n[3]<<16,a[1]=n[2]^n[7]>>>16^n[5]<<16,a[2]=n[4]^n[1]>>>16^n[7]<<16,a[3]=n[6]^n[3]>>>16^n[1]<<16;for(var s=0;s<4;s++)a[s]=16711935&(a[s]<<8|a[s]>>>24)|4278255360&(a[s]<<24|a[s]>>>8),e[t+s]^=a[s]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)r[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<r[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<r[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<r[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<r[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<r[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<r[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<r[6]>>>0?1:0)|0,this._b=t[7]>>>0<r[7]>>>0?1:0,n=0;n<8;n++){var s=e[n]+t[n],a=65535&s,o=s>>>16,c=((a*a>>>17)+a*o>>>15)+o*o,l=((4294901760&s)*s|0)+((65535&s)*s|0);i[n]=c^l}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}e.RabbitLegacy=t._createHelper(o)}(),s.RabbitLegacy)},6298:function(e,t,n){var s;e.exports=(s=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=s,t=e.lib.StreamCipher,n=e.algo,a=[],r=[],i=[],o=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var s=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],a=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)a[n]^=s[n+4&7];if(t){var r=t.words,i=r[0],o=r[1],l=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=l>>>16|4294901760&d,p=d<<16|65535&l;for(a[0]^=l,a[1]^=u,a[2]^=d,a[3]^=p,a[4]^=l,a[5]^=u,a[6]^=d,a[7]^=p,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),a[0]=n[0]^n[5]>>>16^n[3]<<16,a[1]=n[2]^n[7]>>>16^n[5]<<16,a[2]=n[4]^n[1]>>>16^n[7]<<16,a[3]=n[6]^n[3]>>>16^n[1]<<16;for(var s=0;s<4;s++)a[s]=16711935&(a[s]<<8|a[s]>>>24)|4278255360&(a[s]<<24|a[s]>>>8),e[t+s]^=a[s]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)r[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<r[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<r[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<r[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<r[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<r[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<r[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<r[6]>>>0?1:0)|0,this._b=t[7]>>>0<r[7]>>>0?1:0,n=0;n<8;n++){var s=e[n]+t[n],a=65535&s,o=s>>>16,c=((a*a>>>17)+a*o>>>15)+o*o,l=((4294901760&s)*s|0)+((65535&s)*s|0);i[n]=c^l}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}e.Rabbit=t._createHelper(o)}(),s.Rabbit)},7193:function(e,t,n){var s;e.exports=(s=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=s,t=e.lib.StreamCipher,n=e.algo,a=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,s=this._S=[],a=0;a<256;a++)s[a]=a;a=0;for(var r=0;a<256;a++){var i=a%n,o=t[i>>>2]>>>24-i%4*8&255;r=(r+s[a]+o)%256;var c=s[a];s[a]=s[r],s[r]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=r.call(this)},keySize:8,ivSize:0});function r(){for(var e=this._S,t=this._i,n=this._j,s=0,a=0;a<4;a++){n=(n+e[t=(t+1)%256])%256;var r=e[t];e[t]=e[n],e[n]=r,s|=e[(e[t]+e[n])%256]<<24-8*a}return this._i=t,this._j=n,s}e.RC4=t._createHelper(a);var i=n.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)r.call(this)}});e.RC4Drop=t._createHelper(i)}(),s.RC4)},8056:function(e,t,n){var s;e.exports=(s=n(9021),function(e){var t=s,n=t.lib,a=n.WordArray,r=n.Hasher,i=t.algo,o=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=a.create([0,1518500249,1859775393,2400959708,2840853838]),p=a.create([1352829926,1548603684,1836072691,2053994217,0]),h=i.RIPEMD160=r.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var s=t+n,a=e[s];e[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var r,i,h,b,E,v,k,C,T,L,x,I=this._hash.words,B=u.words,M=p.words,N=o.words,R=c.words,O=l.words,S=d.words;for(v=r=I[0],k=i=I[1],C=h=I[2],T=b=I[3],L=E=I[4],n=0;n<80;n+=1)x=r+e[t+N[n]]|0,x+=n<16?f(i,h,b)+B[0]:n<32?m(i,h,b)+B[1]:n<48?y(i,h,b)+B[2]:n<64?g(i,h,b)+B[3]:w(i,h,b)+B[4],x=(x=A(x|=0,O[n]))+E|0,r=E,E=b,b=A(h,10),h=i,i=x,x=v+e[t+R[n]]|0,x+=n<16?w(k,C,T)+M[0]:n<32?g(k,C,T)+M[1]:n<48?y(k,C,T)+M[2]:n<64?m(k,C,T)+M[3]:f(k,C,T)+M[4],x=(x=A(x|=0,S[n]))+L|0,v=L,L=T,T=A(C,10),C=k,k=x;x=I[1]+h+T|0,I[1]=I[2]+b+L|0,I[2]=I[3]+E+v|0,I[3]=I[4]+r+k|0,I[4]=I[0]+i+C|0,I[0]=x},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;t[s>>>5]|=128<<24-s%32,t[14+(s+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var a=this._hash,r=a.words,i=0;i<5;i++){var o=r[i];r[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return a},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function y(e,t,n){return(e|~t)^n}function g(e,t,n){return e&n|t&~n}function w(e,t,n){return e^(t|~n)}function A(e,t){return e<<t|e>>>32-t}t.RIPEMD160=r._createHelper(h),t.HmacRIPEMD160=r._createHmacHelper(h)}(Math),s.RIPEMD160)},5471:function(e,t,n){var s,a,r,i,o,c,l,d;e.exports=(a=(s=d=n(9021)).lib,r=a.WordArray,i=a.Hasher,o=s.algo,c=[],l=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,s=n[0],a=n[1],r=n[2],i=n[3],o=n[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var d=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=d<<1|d>>>31}var u=(s<<5|s>>>27)+o+c[l];u+=l<20?1518500249+(a&r|~a&i):l<40?1859775393+(a^r^i):l<60?(a&r|a&i|r&i)-1894007588:(a^r^i)-899497514,o=i,i=r,r=a<<30|a>>>2,a=s,s=u}n[0]=n[0]+s|0,n[1]=n[1]+a|0,n[2]=n[2]+r|0,n[3]=n[3]+i|0,n[4]=n[4]+o|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;return t[s>>>5]|=128<<24-s%32,t[14+(s+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(s+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),s.SHA1=i._createHelper(l),s.HmacSHA1=i._createHmacHelper(l),d.SHA1)},6308:function(e,t,n){var s,a,r,i,o,c;e.exports=(c=n(9021),n(3009),a=(s=c).lib.WordArray,r=s.algo,i=r.SHA256,o=r.SHA224=i.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}}),s.SHA224=i._createHelper(o),s.HmacSHA224=i._createHmacHelper(o),c.SHA224)},3009:function(e,t,n){var s;e.exports=(s=n(9021),function(e){var t=s,n=t.lib,a=n.WordArray,r=n.Hasher,i=t.algo,o=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),s=2;s<=n;s++)if(!(t%s))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var s=2,a=0;a<64;)t(s)&&(a<8&&(o[a]=n(e.pow(s,.5))),c[a]=n(e.pow(s,1/3)),a++),s++}();var l=[],d=i.SHA256=r.extend({_doReset:function(){this._hash=new a.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,s=n[0],a=n[1],r=n[2],i=n[3],o=n[4],d=n[5],u=n[6],p=n[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var f=l[h-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,y=l[h-2],g=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;l[h]=m+l[h-7]+g+l[h-16]}var w=s&a^s&r^a&r,A=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),b=p+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&d^~o&u)+c[h]+l[h];p=u,u=d,d=o,o=i+b|0,i=r,r=a,a=s,s=b+(A+w)|0}n[0]=n[0]+s|0,n[1]=n[1]+a|0,n[2]=n[2]+r|0,n[3]=n[3]+i|0,n[4]=n[4]+o|0,n[5]=n[5]+d|0,n[6]=n[6]+u|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,s=8*this._nDataBytes,a=8*t.sigBytes;return n[a>>>5]|=128<<24-a%32,n[14+(a+64>>>9<<4)]=e.floor(s/4294967296),n[15+(a+64>>>9<<4)]=s,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=r._createHelper(d),t.HmacSHA256=r._createHmacHelper(d)}(Math),s.SHA256)},5953:function(e,t,n){var s;e.exports=(s=n(9021),n(3240),function(e){var t=s,n=t.lib,a=n.WordArray,r=n.Hasher,i=t.x64.Word,o=t.algo,c=[],l=[],d=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var s=(2*e+3*t)%5;e=t%5,t=s}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var a=1,r=0;r<24;r++){for(var o=0,u=0,p=0;p<7;p++){if(1&a){var h=(1<<p)-1;h<32?u^=1<<h:o^=1<<h-32}128&a?a=a<<1^113:a<<=1}d[r]=i.create(o,u)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=i.create()}();var p=o.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,s=this.blockSize/2,a=0;a<s;a++){var r=e[t+2*a],i=e[t+2*a+1];r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),(I=n[a]).high^=i,I.low^=r}for(var o=0;o<24;o++){for(var p=0;p<5;p++){for(var h=0,f=0,m=0;m<5;m++)h^=(I=n[p+5*m]).high,f^=I.low;var y=u[p];y.high=h,y.low=f}for(p=0;p<5;p++){var g=u[(p+4)%5],w=u[(p+1)%5],A=w.high,b=w.low;for(h=g.high^(A<<1|b>>>31),f=g.low^(b<<1|A>>>31),m=0;m<5;m++)(I=n[p+5*m]).high^=h,I.low^=f}for(var E=1;E<25;E++){var v=(I=n[E]).high,k=I.low,C=c[E];C<32?(h=v<<C|k>>>32-C,f=k<<C|v>>>32-C):(h=k<<C-32|v>>>64-C,f=v<<C-32|k>>>64-C);var T=u[l[E]];T.high=h,T.low=f}var L=u[0],x=n[0];for(L.high=x.high,L.low=x.low,p=0;p<5;p++)for(m=0;m<5;m++){var I=n[E=p+5*m],B=u[E],M=u[(p+1)%5+5*m],N=u[(p+2)%5+5*m];I.high=B.high^~M.high&N.high,I.low=B.low^~M.low&N.low}I=n[0];var R=d[o];I.high^=R.high,I.low^=R.low}},_doFinalize:function(){var t=this._data,n=t.words,s=(this._nDataBytes,8*t.sigBytes),r=32*this.blockSize;n[s>>>5]|=1<<24-s%32,n[(e.ceil((s+1)/r)*r>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var i=this._state,o=this.cfg.outputLength/8,c=o/8,l=[],d=0;d<c;d++){var u=i[d],p=u.high,h=u.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),l.push(h),l.push(p)}return new a.init(l,o)},clone:function(){for(var e=r.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=r._createHelper(p),t.HmacSHA3=r._createHmacHelper(p)}(Math),s.SHA3)},9557:function(e,t,n){var s,a,r,i,o,c,l,d;e.exports=(d=n(9021),n(3240),n(1380),a=(s=d).x64,r=a.Word,i=a.WordArray,o=s.algo,c=o.SHA512,l=o.SHA384=c.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),s.SHA384=c._createHelper(l),s.HmacSHA384=c._createHmacHelper(l),d.SHA384)},1380:function(e,t,n){var s;e.exports=(s=n(9021),n(3240),function(){var e=s,t=e.lib.Hasher,n=e.x64,a=n.Word,r=n.WordArray,i=e.algo;function o(){return a.create.apply(a,arguments)}var c=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=o()}();var d=i.SHA512=t.extend({_doReset:function(){this._hash=new r.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,s=n[0],a=n[1],r=n[2],i=n[3],o=n[4],d=n[5],u=n[6],p=n[7],h=s.high,f=s.low,m=a.high,y=a.low,g=r.high,w=r.low,A=i.high,b=i.low,E=o.high,v=o.low,k=d.high,C=d.low,T=u.high,L=u.low,x=p.high,I=p.low,B=h,M=f,N=m,R=y,O=g,S=w,P=A,_=b,D=E,U=v,F=k,H=C,G=T,j=L,z=x,Q=I,J=0;J<80;J++){var V,W,K=l[J];if(J<16)W=K.high=0|e[t+2*J],V=K.low=0|e[t+2*J+1];else{var Z=l[J-15],q=Z.high,X=Z.low,$=(q>>>1|X<<31)^(q>>>8|X<<24)^q>>>7,Y=(X>>>1|q<<31)^(X>>>8|q<<24)^(X>>>7|q<<25),ee=l[J-2],te=ee.high,ne=ee.low,se=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ae=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),re=l[J-7],ie=re.high,oe=re.low,ce=l[J-16],le=ce.high,de=ce.low;W=(W=(W=$+ie+((V=Y+oe)>>>0<Y>>>0?1:0))+se+((V+=ae)>>>0<ae>>>0?1:0))+le+((V+=de)>>>0<de>>>0?1:0),K.high=W,K.low=V}var ue,pe=D&F^~D&G,he=U&H^~U&j,fe=B&N^B&O^N&O,me=M&R^M&S^R&S,ye=(B>>>28|M<<4)^(B<<30|M>>>2)^(B<<25|M>>>7),ge=(M>>>28|B<<4)^(M<<30|B>>>2)^(M<<25|B>>>7),we=(D>>>14|U<<18)^(D>>>18|U<<14)^(D<<23|U>>>9),Ae=(U>>>14|D<<18)^(U>>>18|D<<14)^(U<<23|D>>>9),be=c[J],Ee=be.high,ve=be.low,ke=z+we+((ue=Q+Ae)>>>0<Q>>>0?1:0),Ce=ge+me;z=G,Q=j,G=F,j=H,F=D,H=U,D=P+(ke=(ke=(ke=ke+pe+((ue+=he)>>>0<he>>>0?1:0))+Ee+((ue+=ve)>>>0<ve>>>0?1:0))+W+((ue+=V)>>>0<V>>>0?1:0))+((U=_+ue|0)>>>0<_>>>0?1:0)|0,P=O,_=S,O=N,S=R,N=B,R=M,B=ke+(ye+fe+(Ce>>>0<ge>>>0?1:0))+((M=ue+Ce|0)>>>0<ue>>>0?1:0)|0}f=s.low=f+M,s.high=h+B+(f>>>0<M>>>0?1:0),y=a.low=y+R,a.high=m+N+(y>>>0<R>>>0?1:0),w=r.low=w+S,r.high=g+O+(w>>>0<S>>>0?1:0),b=i.low=b+_,i.high=A+P+(b>>>0<_>>>0?1:0),v=o.low=v+U,o.high=E+D+(v>>>0<U>>>0?1:0),C=d.low=C+H,d.high=k+F+(C>>>0<H>>>0?1:0),L=u.low=L+j,u.high=T+G+(L>>>0<j>>>0?1:0),I=p.low=I+Q,p.high=x+z+(I>>>0<Q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;return t[s>>>5]|=128<<24-s%32,t[30+(s+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(s+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(d),e.HmacSHA512=t._createHmacHelper(d)}(),s.SHA512)},7628:function(e,t,n){var s;e.exports=(s=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=s,t=e.lib,n=t.WordArray,a=t.BlockCipher,r=e.algo,i=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=r.DES=a.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var s=i[n]-1;t[n]=e[s>>>5]>>>31-s%32&1}for(var a=this._subKeys=[],r=0;r<16;r++){var l=a[r]=[],d=c[r];for(n=0;n<24;n++)l[n/6|0]|=t[(o[n]-1+d)%28]<<31-n%6,l[4+(n/6|0)]|=t[28+(o[n+24]-1+d)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var u=this._invSubKeys=[];for(n=0;n<16;n++)u[n]=a[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],p.call(this,4,252645135),p.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),p.call(this,1,1431655765);for(var s=0;s<16;s++){for(var a=n[s],r=this._lBlock,i=this._rBlock,o=0,c=0;c<8;c++)o|=l[c][((i^a[c])&d[c])>>>0];this._lBlock=i,this._rBlock=r^o}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,p.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=a._createHelper(u);var f=r.TripleDES=a.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),s=e.length<4?e.slice(0,2):e.slice(2,4),a=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=u.createEncryptor(n.create(t)),this._des2=u.createEncryptor(n.create(s)),this._des3=u.createEncryptor(n.create(a))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=a._createHelper(f)}(),s.TripleDES)},3240:function(e,t,n){var s,a,r,i,o,c;e.exports=(s=n(9021),r=(a=s).lib,i=r.Base,o=r.WordArray,(c=a.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),c.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],s=0;s<t;s++){var a=e[s];n.push(a.high),n.push(a.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,s=0;s<n;s++)t[s]=t[s].clone();return e}}),s)},7927:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var s=n(9188),a=n(5854),r=n(415),i=n(4289),o=n(3643),c=n(417),l=n(6037),d=n(2224),u=n(6793),p=n(8625),h=n(5403),f=n(8316),m=n(3400),y=n(2081),g=n(8426),w=n(8897),A=n(6604),b=n(7882),E=n(7632),v=n(4156),k=e([f,y,w,E]);[f,y,w,E]=k.then?(await k)():k,document.getElementById("headerTitle").innerHTML=s.MP.HEADER_TITLE,document.getElementById("pageTitle").innerHTML=s.MP.HEADER_TITLE;const C=document.getElementById("mainContents");async function T(){await E.A.getUI()}async function L(){null!=(await g.Ay.checkBalance()).eoa?await h.A.getUI():w.Ay.isNotConnect()}async function x(){null!=(await g.Ay.checkBalance()).eoa?await p.A.getUI():w.Ay.isNotConnect()}async function I(){null!=(await g.Ay.checkBalance()).eoa?await u.A.getUI():w.Ay.isNotConnect()}async function B(){null!=(await g.Ay.checkBalance()).eoa?await d.A.getUI():w.Ay.isNotConnect()}async function M(){await v.Ay.getUI()}async function N(){y.A.getMdPath()}async function R(e){y.A.getMdDir(e)}const O=async()=>{y.A.getMdSiteMap()};async function S(e){const t=await g.Ay.checkBalance(),n=await c.A.getManager("creators"),r=document.createElement("div");r.classList.add("calcratorArea"),C.appendChild(r);for(const e in n)if(n[e][0]==t.eoa){const e=document.createElement("div");e.classList.add("donateArea"),C.appendChild(e),w.Ay.creatorDonateList(e,t.eoa)}const i=document.createElement("div");i.classList.add("donateArea"),C.appendChild(i);const l=await c.A.getCA("donate"),d=document.createElement("h2");d.innerHTML="Donation",d.appendChild(b.Ay.span(" CA: ")),d.appendChild(b.Ay.eoa(l)),i.appendChild(d);const u=a.Q.lang+"/common/donate",p=s.MP.BOT_API_URL+"contents/get/"+u,h=`${u}.md`;y.A.parseMdPage(p,h,i);const f=document.createElement("div");f.classList.add("creatorDonateHistory"),i.appendChild(f);const m=await(0,o.AU)("getDonationHistory",l);for(let e=m.length-1;e>=0;e--){const t=m[e],n=document.createElement("p");n.appendChild(b.Ay.span(g.Ay.formatUnixTime(1e3*Number(t[1])))),n.appendChild(b.Ay.donateDetail(t[2])),n.appendChild(b.Ay.span(g.Ay.waiToEth(t[0])+" "+s.MP.DEFAULT_SYMBOL)),f.appendChild(n)}const A=await(0,o.ey)("allTotalUsed",l,e),E=await(0,o.ey)("allTotalDonation",l,e),v=document.createElement("div");if(i.appendChild(v),null!=t.eoa){const t=await(0,o.AU)("balance",l,e),n=await(0,o.AU)("usedpoints",l,e),a=await(0,o.AU)("totaldonations",l,e);a>0&&(v.innerHTML+="<p>Total donations : "+a+" "+s.MP.DONATE_SYMBOL+"</p>"),n>0&&(v.innerHTML+="<p>Used points : "+n+" "+s.MP.DONATE_SYMBOL+"</p>"),t>0&&(v.innerHTML+="<p>Balance : "+t+" "+s.MP.DONATE_SYMBOL+"</p>")}E>0&&(v.innerHTML+="<p>Total donation (All dao) : "+E+" "+s.MP.DONATE_SYMBOL+"</p>"),A>0&&(v.innerHTML+="<p>Total used point (All dao) : "+A+" "+s.MP.DONATE_SYMBOL+"</p>"),i.appendChild(v)}const P=async()=>{C.appendChild(await f.A.getHome()),await f.A.getHomeContents(),C.appendChild(await f.A.getItems()),C.appendChild(await f.A.getGallarys())},_=async()=>{await w.Ay.displayManagedData("contracts","CONTRACTS",(e=>1==e[3]))},D=async()=>{await w.Ay.displayManagedData("creators","CREATORS",!1)},U=async()=>{const e=a.Q.lang+"/creator/"+a.Q.params[2],t=s.MP.BOT_API_URL+"contents/get/"+e,n=`${e}.md`;y.A.parseMdPage(t,n),Q((e=>1==e[3]))},F=async()=>{await w.Ay.displayManagedData("admins","Admins",!1)},H=async e=>{const t=document.createElement("div");t.classList.add("ownerArea"),C.appendChild(t);const n=document.createElement("h2");n.textContent="Owner Info",t.appendChild(n);const a=await i.Ay.checkOwner(e),r=await l.A.setManager("checkUser"),o=await g.Ay.checkBalance(),c=o.eoa;if(("admin"==r||"creator"==r)&&Number(e)==Number(o.eoa)){var d=document.createElement("a");d.classList.add("litelink"),d.href="/setting/",d.textContent="  setting",n.appendChild(d)}A.A.showAccount(e,a,t);const u=await g.Ay.getUserByEoa(c);if(console.log("soul bind check"),console.dir(u),c==a||u.discordUser&&u.discordUser.Roles&&u.discordUser.Roles.includes(s.MP.SOUL_BINDER_ROLE_ID)){console.log("This tba ca:"+e),console.log("this tba owner:"+a),console.log("minter eoa:"+c);const t=document.createElement("div");t.classList.add("mintableArea"),t.innerHTML="<span><div class='minispinner'></div>mintable contract loading...</span>",t.style.display="none",C.appendChild(t),w.Ay.setMintableForm(t,e)}G(e)},G=async e=>{const t=document.createElement("div");t.classList.add("assetArea"),C.appendChild(t);const n=await c.A.getManager("contracts");w.Ay.displayOwns(t,n,e)},j=async e=>{null==(await g.Ay.checkBalance()).eoa&&(window.location.href="/tokens");const t=await c.A.getManager("contracts");w.Ay.displayAssets(t,e)},z=async e=>{const t=await c.A.getManager("contracts");w.Ay.displayTokenContracts(t,e)},Q=async e=>{const t=await c.A.getManager("contracts");for(const n in t)"nft"==t[n][2]&&(console.log("Check Type:"+t[n][0]),r.Ay.getToken("creator",t[n][0],"").then((s=>{console.log("setOwnTokenContracts checkCreator :"+t[n]),console.dir("creator: "+s),console.dir("EOA: "+a.Q.params[2]),s==a.Q.params[2]&&w.Ay.displayTokenContracts([t[n]],e)})))},J=async()=>{const e=a.Q.params,t=await i.Ay.getTbaInfo(e[2],e[3]),n=await i.Ay.checkOwner(t),s=document.createElement("div");s.classList.add("nftArea"),C.appendChild(s),w.Ay.displayToken(s,e[2],e[3],t,n),n&&G(t)},V=async()=>{const e=a.Q.params,t=document.createElement("div");C.appendChild(t),w.Ay.displayMintUI(t,e)},W=async()=>{const e=document.createElement("div");e.classList.add("tokensList"),C.appendChild(e),e.innerHTML="";const t=document.createElement("div");e.appendChild(t);const n=document.createElement("h3");t.appendChild(n);var i=document.createElement("a");i.href="/tokens/",i.textContent="NftCollection",n.appendChild(i);const o=document.createElement("span");o.textContent=" | ",n.appendChild(o);const c=document.createElement("span");c.textContent=await r.Ay.getToken("name",a.Q.params[2],""),n.appendChild(c);const l=await r.Ay.getToken("symbol",a.Q.params[2],""),d=await g.Ay.checkBalance(),u=await g.Ay.getUserByEoa(d.eoa);if(console.log("soul bind check"),console.dir(u),"SBT"!=l||u.discordUser&&u.discordUser.Roles&&u.discordUser.Roles.includes(s.MP.SOUL_BINDER_ROLE_ID)){const e=document.createElement("span");n.appendChild(e),w.Ay.createMintLinkElm(a.Q.params[2],e)}w.Ay.displayTokens(e,a.Q.params[2],!1)},K=()=>{const e=a.Q.params,t=e[1],n=e[2],s=e[3],r=e[4],i=e[5];""==t?P():"contents"===t&&n&&s?N():"contents"===t&&n&&!s?R(n):"contents"===t?O():"contract1"===t?_():"creators"===t&&n?U():"creators"===t?D():"article"===t?N():"donate"===t?S(e):"admins"===t&&n&&s&&r&&i?m.Ay.control4Set(n,s,r,i):"admins"===t&&n&&s&&r?m.Ay.control3Set(n,s,r):"admins"===t&&n&&s?m.Ay.control2Set(n,s):"admins"===t&&n?U():"admins"===t?F():"account"===t&&n?H(n):"account"===t?j((e=>1==e[3])):"tokens"===t&&n&&"mint"==s?V():"tokens"===t&&n&&s?J():"tokens"===t&&n&&!s?W():"tokens"===t?z((e=>1==e[3])):"meta"===t?M():"regist"===t?B():"editor"===t?I():"disconnect"===t?x():"membersbt"===t?L():"setting"===t&&T()};if(g.Ay.containsBrowserName("mobile")){document.querySelector("html").style.fontSize="30px",document.body.classList.add("mobile");const $=document.querySelector(".headerArea"),Y=document.getElementById("footerArea");$&&($.style.display="none"),Y&&(Y.style.display="none");const ee=document.querySelector(".mobileHeaderArea"),te=document.getElementById("mobileBottomNav");ee&&(ee.style.display="block"),te&&(te.style.display="flex");const ne=document.getElementById("mobileHeaderTitle");ne&&(ne.innerHTML=s.MP.HEADER_TITLE);const se=document.getElementById("hamburgerMenu"),ae=document.getElementById("mobileSidebar"),re=document.getElementById("closeSidebar");se&&ae&&se.addEventListener("click",(()=>{ae.classList.add("active"),document.body.classList.add("sidebar-open")})),re&&ae&&re.addEventListener("click",(()=>{ae.classList.remove("active"),document.body.classList.remove("sidebar-open")})),ae&&document.addEventListener("click",(e=>{const t=e.target;ae.contains(t)||se?.contains(t)||!ae.classList.contains("active")||(ae.classList.remove("active"),document.body.classList.remove("sidebar-open"))}));const ie=ae?.querySelectorAll("a");ie?.forEach((e=>{e.addEventListener("click",(()=>{ae?.classList.remove("active"),document.body.classList.remove("sidebar-open")}))})),q()}const Z=async e=>{e.innerHTML="";const t=await g.Ay.checkBalance();if(!t.eoa)return;const n=document.createElement("div");n.className="mobile-wallet-info";try{const e=await g.Ay.getUserByEoa(t.eoa);if("discordConnect"===e.type&&e.discordUser){const t=document.createElement("div");if(t.className="mobile-discord-section",e.discordUser.Icon){const n=document.createElement("img");n.src=e.discordUser.Icon,n.alt=e.discordUser.Name||"",n.className="mobile-discord-avatar",t.appendChild(n)}if(e.discordUser.Name){const n=document.createElement("span");n.className="mobile-discord-name",n.textContent=e.discordUser.Name,t.appendChild(n)}n.appendChild(t)}}catch(e){console.error("Failed to get Discord user info:",e)}const s=document.createElement("div");s.className="mobile-wallet-section";const a=document.createElement("i");a.className="fa-solid fa-wallet",s.appendChild(a);const r=document.createElement("a");r.href=`/account/${t.eoa}`,r.textContent=`${t.eoa.substring(0,6)}...${t.eoa.substring(t.eoa.length-4)}`,s.appendChild(r);const i=document.createElement("button");i.className="mobile-copy-btn",i.innerHTML='<i class="fa fa-copy"></i>',i.onclick=()=>{navigator.clipboard.writeText(t.eoa).then((()=>{i.innerHTML='<i class="fa fa-check"></i>',setTimeout((()=>{i.innerHTML='<i class="fa fa-copy"></i>'}),2e3)})).catch((e=>console.error("Copy failed:",e)))},s.appendChild(i),n.appendChild(s);const o=document.createElement("div");o.className="mobile-balance-section";const c=document.createElement("i");c.className="fa-solid fa-coins",o.appendChild(c);const l=document.createElement("span");if(l.textContent=String(g.Ay.waiToEth(t.balance)),o.appendChild(l),n.appendChild(o),t.dpoint>0){const e=document.createElement("div");e.className="mobile-dpoint-section";const s=document.createElement("i");s.className="fa-solid fa-database",e.appendChild(s);const a=document.createElement("span");a.textContent=String(t.dpoint),e.appendChild(a),n.appendChild(e)}e.appendChild(n)};function q(){if(!document.body.classList.contains("mobile")){const e=()=>{const e=document.getElementById("sidebarWalletInfo"),t=document.getElementById("connectWallet");e&&t&&(e.innerHTML=t.innerHTML)},t=new MutationObserver((()=>{e()})),n=document.getElementById("connectWallet");n&&t.observe(n,{childList:!0,subtree:!0}),e()}}K(),g.Ay.checkMetamask();const X=async()=>{if(document.body.classList.contains("mobile")){const e=document.getElementById("sidebarWalletInfo");e&&(e.innerHTML="",await Z(e))}};setTimeout((()=>{X()}),1500),window.ethereum&&window.ethereum.on("accountsChanged",(()=>{setTimeout((()=>{X()}),500)})),t()}catch(oe){t(oe)}}))},5038:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var s=n(5854),a=n(2563),r=n(8426),i=n(417),o=n(6037),c=n(6907),l=n(7882);const d={getUI:async e=>{const t=await r.Ay.checkBalance(),n=(s.Q.params,document.createElement("div"));n.classList.add("adminSettings"),e.appendChild(n);const d=document.createElement("div"),u=document.createElement("div");n.id="meta-section",d.id="meta-disp",u.id="meta-control",n.appendChild(d),n.appendChild(u);const p=document.createElement("H2");if(p.classList.add("controlLavel"),p.innerHTML="Admin List",d.appendChild(p),null!=t.eoa){const e=await i.A.getManager("admins");for(const n in e){const s=document.createElement("p"),r=String(e[n]);if(s.appendChild(l.Ay.span("AdminEOA : ")),s.appendChild(l.Ay.eoa(r)),s.appendChild(await l.Ay.discordByEoa(r,"span",{class:"doelm"})),Number(e[n])!=Number(t.eoa)){s.appendChild(l.Ay.span(" "));const t=document.createElement("button");t.classList.add("itemTag"),t.innerHTML="delete",t.addEventListener("click",(async()=>{confirm(e[n]+(0,a.X)("DEL_CONFIRM"))&&await o.A.setManager("delAdmin",e[n])})),s.appendChild(t)}u.appendChild(s)}const n=document.createElement("H3");n.innerHTML="Add Admin EOA",u.appendChild(n);const s=document.createElement("div");u.appendChild(s);const r=c.Ay.makeInput("input","sendTo","BaseInput","EOA");r.classList.add("w7p"),u.appendChild(r);const d=c.Ay.makeInput("submit","submitID","BaseSubmit","Add Admin","Add Admin");d.classList.add("w3p"),u.appendChild(d),r.addEventListener("input",(async e=>{if(s.innerHTML="",s.classList.remove("sendToUser"),""!=r.value){const e=await l.Ay.userTypeByEoa(r.value,s);alert(" "+e+" ")}})),d.addEventListener("click",(async()=>{confirm(r.value+(0,a.X)("ADD_CONFIRM"))&&(await o.A.setManager("setAdmin",[r.value]),window.location.href="/setting/admin")}))}else{const e=document.createElement("p");e.innerHTML="Please connect Wallet",u.appendChild(e)}}}},9599:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var s=n(5854),a=n(2563),r=n(8426),i=n(417),o=n(6037),c=n(7882),l=n(6907),d=n(4552);const u={getUI:async e=>{const t=await r.Ay.checkBalance(),n=(s.Q.params,document.createElement("div"));n.classList.add("adminSettings"),e.appendChild(n);const u=document.createElement("div"),p=document.createElement("div");n.id="meta-section",u.id="meta-disp",p.id="meta-control",n.appendChild(u),n.appendChild(p);const h=document.createElement("H2");if(h.classList.add("controlLavel"),h.innerHTML="Contract List",u.appendChild(h),null!=t.eoa){const e=await i.A.getManager("contracts");for(const t in e)if(console.dir(e[t]),e[t][3]){const n=document.createElement("p");"tba"===e[t][2]?(n.appendChild(c.Ay.link("tokenBoundAccount","/setting/contract/"+t)),n.appendChild(c.Ay.span(" ")),n.appendChild(c.Ay.eoa(e[t][0])),n.appendChild(c.Ay.span(" : ")),n.appendChild(c.Ay.bold(" [ tba ] "))):(n.appendChild(c.Ay.link(e[t][1],"/setting/contract/"+t)),n.appendChild(c.Ay.span(" ")),n.appendChild(c.Ay.eoa(e[t][0])),n.appendChild(c.Ay.span(" : ")),n.appendChild(c.Ay.bold(" [ "+e[t][2]+" ] ")));const s=document.createElement("button");s.classList.add("itemTag"),s.innerHTML="delete",s.addEventListener("click",(async()=>{confirm(e[t][1]+"["+e[t][2]+"]"+(0,a.X)("DEL_CONFIRM"))&&(await o.A.setManager("deleteContract",[e[t][0]]),alert(u.value+(0,a.X)("DEL_COMPLETE")),window.location.href="/setting/contract")})),n.appendChild(s),p.appendChild(n)}const t=document.createElement("div");t.classList.add("w2p"),t.classList.add("wInline"),t.classList.add("controlLavel"),t.innerHTML="Contract Address",p.appendChild(t);const n=l.Ay.makeInput("input","sendTo","BaseInput","CONTRACT ADDRESS");n.classList.add("w8p"),p.appendChild(n);const r=document.createElement("div");r.classList.add("w2p"),r.classList.add("wInline"),r.classList.add("controlLavel"),r.innerHTML="Contract Name",p.appendChild(r);const u=l.Ay.makeInput("input","sendTo","BaseInput","CONTRACT NAME");u.classList.add("w8p"),p.appendChild(u);const h=l.Ay.makeSelect("ContractType","BaseInput");for(const e in d.vt){const t=document.createElement("option");t.value=d.vt[e],t.innerHTML=d.vt[e],h.appendChild(t)}h.classList.add("w7p"),p.appendChild(h),h.addEventListener("change",(async()=>{"tba"==h.value?(t.innerHTML="Account CA",r.innerHTML="Register CA"):(t.innerHTML="Contract Address",r.innerHTML="Contract Name")}));const f=l.Ay.makeInput("submit","submitID","BaseSubmit","SET","SET");if(f.classList.add("w3p"),p.appendChild(f),null!=s.Q.params[3]){const t=e[s.Q.params[3]];console.dir(t),n.value=t[0],u.value=t[1],h.value=t[2]}f.addEventListener("click",(async()=>{null==s.Q.params[3]?confirm(u.value+(0,a.X)("ADD_CONFIRM"))&&(await o.A.setManager("setContract",[n.value,u.value,h.value]),window.location.href="/setting/contract"):confirm(u.value+(0,a.X)("UPDATE_CONFIRM"))&&(await o.A.setManager("setContractInfo",[n.value,u.value,h.value]),window.location.href="/setting/contract/"+s.Q.params[3])}))}else{const e=document.createElement("p");e.innerHTML="Please connect Wallet",p.appendChild(e)}}}},5729:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var s=n(5854),a=n(2563),r=n(8426),i=n(417),o=n(6037),c=n(7882),l=n(6907),d=n(4552);const u={getUI:async e=>{const t=await r.Ay.checkBalance(),n=document.createElement("div");n.classList.add("adminSettings"),e.appendChild(n);const u=document.createElement("div"),p=document.createElement("div");n.id="meta-section",u.id="meta-disp",p.id="meta-control",n.appendChild(u),n.appendChild(p);const h=document.createElement("H2");if(h.classList.add("controlLavel"),h.innerHTML="Creator List",u.appendChild(h),null!=t.eoa){const e=await i.A.getManager("creators");for(const t in e)if(e[t][3]){const n=document.createElement("p");n.appendChild(c.Ay.span("Creator: ")),n.appendChild(c.Ay.eoa(e[t][0])),n.appendChild(c.Ay.span(" "+JSON.parse(e[t][1])[s.Q.lang]+" [ "+e[t][2]+" ] "));const r=document.createElement("button");r.classList.add("itemTag"),r.innerHTML="delete",r.addEventListener("click",(async()=>{confirm(JSON.parse(e[t][1])[s.Q.lang]+(0,a.X)("DEL_CONFIRM"))&&(await o.A.setManager("delCreator",[e[t][0]]),alert(JSON.parse(e[t][1])[s.Q.lang]+(0,a.X)("DEL_COMPLETE")),window.location.href="/setting/creator")})),n.appendChild(r),p.appendChild(n)}const t=document.createElement("div");t.classList.add("w2p"),t.classList.add("wInline"),t.innerHTML="Creator EOA",p.appendChild(t);const n=l.Ay.makeInput("input","sendTo","BaseInput","CREATOR EOA");n.classList.add("w8p"),p.appendChild(n);const r=document.createElement("div");r.classList.add("w2p"),r.classList.add("wInline"),r.innerHTML="Creator Name",p.appendChild(r);const u=l.Ay.makeInput("input","sendTo","BaseInput","name(en)");u.classList.add("w4p"),p.appendChild(u);const h=l.Ay.makeInput("input","sendTo","BaseInput","name(jp)");h.classList.add("w4p"),p.appendChild(h);const f=l.Ay.makeSelect("ContractType","BaseInput");for(const e in d.Bi){const t=document.createElement("option");t.value=d.Bi[e],t.innerHTML=d.Bi[e],f.appendChild(t)}f.classList.add("w7p"),p.appendChild(f);const m=l.Ay.makeInput("submit","submitID","BaseSubmit","SET","SET");m.classList.add("w3p"),p.appendChild(m),m.addEventListener("click",(async()=>{confirm(h.value+(0,a.X)("ADD_CONFIRM"))&&(await o.A.setManager("setCreator",[n.value,JSON.stringify({en:u.value,ja:h.value}),f.value]),alert(h.value+(0,a.X)("ADD_COMPLETE")),window.location.href="/setting/creator")}))}else{const e=document.createElement("p");e.innerHTML="Please connect Wallet",p.appendChild(e)}}}},6439:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{A:()=>C});var a=n(5854),r=n(8426),i=n(2563),o=n(8172),c=n(7882),l=n(6907),d=n(1396),u=n.n(d),p=n(6555),h=n(9188),f=n(6037),m=n(4552);const e=h.MP.CRYPTO_SECRET,y=await f.A.setManager("checkUser"),g=await r.Ay.checkBalance(),w=a.Q.params;let A=0;const b=async e=>{const t=document.createElement("div");t.classList.add("adminSettings"),e.appendChild(t);const n=document.createElement("div"),s=document.createElement("div");t.id="meta-section",n.id="meta-disp",s.id="meta-control",t.appendChild(n),t.appendChild(s),console.dir(w);const r=document.createElement("H2");if(r.classList.add("controlLavel"),r.innerHTML="Gallary List",n.appendChild(r),null!=g.eoa){const e=await o.A.getDynamoApi("shop");for(const t in e)if(g.eoa==e[t].Eoa||"admin"==y){null!=w[3]&&""!=w[3]||"admin"==y||(window.location.href="/setting/gallary/"+e[t].Id),A++;const n=JSON.parse(e[t].Json)[a.Q.lang],r=document.createElement("p"),l=document.createElement("span");l.appendChild(c.Ay.link(e[t].Name,"/setting/gallary/"+e[t].Id)),l.appendChild(c.Ay.span(" "+n.workplace+" ")),l.appendChild(c.Ay.span(" ["+m.wJ[e[t].Status]+"]")),r.appendChild(l);const d=document.createElement("button");d.classList.add("itemTag"),d.innerHTML="delete",d.addEventListener("click",(async()=>{confirm(e[t].Name+(0,i.X)("DEL_CONFIRM"))&&(await o.A.postDynamoApi("shop/delete",{id:e[t].Id}),window.location.href="/setting/gallary")})),r.appendChild(d),s.appendChild(r)}if(null!=a.Q.params[3]){const e=await o.A.getDynamoApi("shop/id/"+a.Q.params[3]);console.dir(e),E(s,e,"Edit Gallary")}else E(s,p.h.GALLARY_DEFAULT_FORMAT,"Add Gallary")}else{const e=document.createElement("p");e.innerHTML="Please connect Wallet",s.appendChild(e)}},E=async(t,n,s)=>{const r=document.createElement("H2");r.innerHTML=s,t.appendChild(r);const c=document.createElement("div");c.classList.add("w2p"),c.classList.add("wInline"),c.innerHTML="name",t.appendChild(c);const d=l.Ay.makeInput("input","creatorName","BaseInput","name");d.classList.add("w8p"),d.value=n.Name,t.appendChild(d);const p=document.createElement("div");p.classList.add("w2p"),p.classList.add("wInline"),p.innerHTML="EOA",t.appendChild(p);const h=l.Ay.makeInput("input","creatorEoa","BaseInput","EOA");h.classList.add("w8p"),h.value=n.Eoa,"admin"!=y&&(h.disabled=!0),t.appendChild(h);const f=document.createElement("div");f.classList.add("w2p"),f.classList.add("wInline"),f.innerHTML="image URL",t.appendChild(f);const w=l.Ay.makeInput("input","imageurl","BaseInput","Image URL");w.classList.add("w8p"),w.value=n.Imgurl,t.appendChild(w);const b=document.createElement("div");b.classList.add("w2p"),b.classList.add("wInline"),b.innerHTML="SEED",t.appendChild(b);const E=l.Ay.makeInput("input","seed","BaseInput","secret key"),C=u().AES.decrypt(n.Seed,e).toString(u().enc.Utf8);E.classList.add("w8p"),E.value=C,t.appendChild(E);const T=document.createElement("div");T.classList.add("w2p"),T.classList.add("wInline"),T.innerHTML="channelId",t.appendChild(T);const L=l.Ay.makeInput("input","channelId","BaseInput","channel ID");L.classList.add("w8p"),L.value=n.ChannelId,t.appendChild(L);const x=JSON.parse(n.Json);v(t,x);const I=l.Ay.makeTextarea("attrvalue","BaseTextarea","VALUE","");I.classList.add("wfull"),I.value=n.Json,t.appendChild(I);const B=l.Ay.makeSelect("ContractType","BaseInput");for(const e in m.o8){const t=document.createElement("option");t.value=m.o8[e],t.innerHTML=m.o8[e],B.appendChild(t)}B.classList.add("w35p"),B.value=n.Type,t.appendChild(B);const M=l.Ay.makeSelect("ContractType","BaseInput");for(const e in m.wJ){const t=document.createElement("option");t.value=e,t.innerHTML=m.wJ[e],M.appendChild(t)}M.classList.add("w35p"),M.value=n.Status,t.appendChild(M);const N=l.Ay.makeInput("submit","submitID","BaseSubmit","SET","SET");N.classList.add("w3p"),t.appendChild(N),N.addEventListener("click",(async()=>{const t=u().AES.encrypt(E.value,e).toString();"admin"!=y&&(h.value=g.eoa);const s={eoa:h.value,name:d.value,seed:t,channelId:L.value,imgurl:w.value,type:B.value,status:M.value,json:I.value};console.log(JSON.stringify(s));try{g.eoa!=h.value&&"admin"!=y?alert((0,i.X)("CAN_NOT_CREATE")):A>0&&"admin"!=y&&null==a.Q.params[3]?alert((0,i.X)("CAN_NOT_W_CREATE")):null==a.Q.params[3]?confirm(d.value+(0,i.X)("ADD_CONFIRM"))&&(await o.A.postDynamoApi("shop/add/",s),alert(d.value+(0,i.X)("ADD_COMPLETE")),window.location.href="/setting/gallary"):confirm(d.value+(0,i.X)("UPDATE_CONFIRM"))&&(await o.A.postDynamoApi("shop/update/"+n.Id,s),window.location.href="/setting/gallary")}catch(e){console.error(e)}})),I.addEventListener("input",(async()=>{const e=JSON.parse(I.value);k(e)}))},v=async(e,t)=>{const n=document.createElement("H2");n.innerHTML="Attrebutes",e.appendChild(n);const s=document.createElement("div");s.classList.add("w1p"),s.classList.add("wInline"),s.innerHTML="name",e.appendChild(s);const a=l.Ay.makeInput("input","en_name","BaseInput","name(en)");a.classList.add("w45p"),a.value=t.en.name,e.appendChild(a);const r=l.Ay.makeInput("input","ja_name","BaseInput","name(ja)");r.classList.add("w45p"),r.value=t.ja.name,e.appendChild(r);const i=document.createElement("div");i.classList.add("w1p"),i.classList.add("wInline"),i.innerHTML="profile",e.appendChild(i);const o=l.Ay.makeInput("input","en_profile","BaseInput","profile(en)");o.classList.add("w45p"),o.value=t.en.profile,e.appendChild(o);const c=l.Ay.makeInput("input","ja_profile","BaseInput","profile(ja)");c.classList.add("w45p"),c.value=t.ja.profile,e.appendChild(c);const d=document.createElement("div");d.classList.add("w1p"),d.classList.add("wInline"),d.innerHTML="place",e.appendChild(d);const u=l.Ay.makeInput("input","en_workplace","BaseInput","workplace(en)");u.classList.add("w45p"),u.value=t.en.workplace,e.appendChild(u);const p=l.Ay.makeInput("input","ja_workplace","BaseInput","workplace(ja)");p.classList.add("w45p"),p.value=t.ja.workplace,e.appendChild(p);const h=document.createElement("div");h.classList.add("w1p"),h.classList.add("wInline"),h.innerHTML="location",e.appendChild(h);const f=l.Ay.makeInput("input","en_location","BaseInput","location(en)");f.classList.add("w45p"),f.value=t.en.location,e.appendChild(f);const m=l.Ay.makeInput("input","ja_location","BaseInput","location(ja)");m.classList.add("w45p"),m.value=t.ja.location,e.appendChild(m);const y=document.createElement("div");y.classList.add("w1p"),y.classList.add("wInline"),y.innerHTML="station",e.appendChild(y);const g=l.Ay.makeInput("input","en_station","BaseInput","station(en)");g.classList.add("w45p"),g.value=t.en.station,e.appendChild(g);const w=l.Ay.makeInput("input","ja_station","BaseInput","station(ja)");w.classList.add("w45p"),w.value=t.ja.station,e.appendChild(w);const A=()=>{const e=document.getElementById("attrvalue");e.value=JSON.stringify(t),console.log(e.value)};a.addEventListener("input",(async()=>{t.en.name=a.value,A()})),r.addEventListener("input",(async()=>{t.ja.name=r.value,A()})),o.addEventListener("input",(async()=>{t.en.profile=o.value,A()})),c.addEventListener("input",(async()=>{t.ja.profile=c.value,A()})),u.addEventListener("input",(async()=>{t.en.workplace=u.value,A()})),p.addEventListener("input",(async()=>{t.ja.workplace=p.value,A()})),f.addEventListener("input",(async()=>{t.en.location=f.value,A()})),m.addEventListener("input",(async()=>{t.ja.location=m.value,A()})),g.addEventListener("input",(async()=>{t.en.station=g.value,A()})),w.addEventListener("input",(async()=>{t.ja.station=w.value,A()}))},k=async e=>{console.log(e);for(const t in e)for(const n in e[t])console.log(t+"_"+n+" : "+e[t][n]),document.getElementById(t+"_"+n).value=e[t][n]},C={getUI:b};s()}catch(e){s(e)}}),1)},8390:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{A:()=>k});var a=n(5854),r=n(2563),i=n(8426),o=n(8172),c=n(7882),l=n(6907),d=n(6555),u=n(415),p=n(4552),h=n(6037),f=n(1534);const e=await h.A.setManager("checkUser"),m=async t=>{const n=await i.Ay.checkBalance(),s=(a.Q.params,document.createElement("div"));s.classList.add("adminSettings"),t.appendChild(s);const l=document.createElement("div"),u=document.createElement("div");s.id="meta-section",l.id="meta-disp",u.id="meta-control",s.appendChild(l),s.appendChild(u);const h=document.createElement("H2");if(h.classList.add("controlLavel"),h.innerHTML="Item List",l.appendChild(h),null!=n.eoa){const t=await o.A.getDynamoApi("item");for(const s in t){JSON.parse(t[s].Json)[a.Q.lang];const i=document.createElement("p"),l=document.createElement("span");if(l.appendChild(c.Ay.link(t[s].Name,"/setting/item/"+t[s].Id)),l.appendChild(c.Ay.linkCopy(t[s].Contract+"/"+t[s].TokenId)),l.appendChild(c.Ay.span(" ["+p.hw[t[s].Status]+"]")),i.appendChild(l),n.eoa==t[s].Creator||"admin"==e){const e=document.createElement("button");e.classList.add("itemTag"),e.innerHTML="delete",e.addEventListener("click",(async()=>{confirm(t[s].Name+(0,r.X)("DEL_CONFIRM"))&&(await o.A.postDynamoApi("item/delete",{id:t[s].Id}),window.location.href="/setting/item")})),i.appendChild(e)}u.appendChild(i)}if(null!=a.Q.params[3]){const e=await o.A.getDynamoApi("item/id/"+a.Q.params[3]);y(u,e,n.eoa,"Edit Item")}else y(u,d.h.ITEM_DEFAULT_FORMAT,n.eoa,"Create Item")}else{const e=document.createElement("p");e.innerHTML="Please connect Wallet",u.appendChild(e)}},y=async(t,n,s,d)=>{const h=document.createElement("H2");h.innerHTML=d,t.appendChild(h);const m=document.createElement("div");m.classList.add("w2p"),m.classList.add("wInline"),m.innerHTML="NFT",t.appendChild(m);const y=await u.Ay.hasTokenList(s),A=l.Ay.makeSelect("nftSelect","BaseInput");A.classList.add("w8p");let b=[];(0,f.Pn)("NFT...");for(const e in y){const t=document.createElement("option");t.value=e;const n=y[e];(0,f.hf)(`NFT... (${Number(e)+1}/${y.length})`);const s=await i.Ay.fetchData(n.tokenUri);t.innerHTML=n.name+" #"+n.tokenId+" | "+s.name,A.appendChild(t),b.push(s)}(0,f.IB)(),t.appendChild(A),t.appendChild(c.Ay.hr()),A.addEventListener("change",(async()=>{const e=y[A.value].ca,t=String(y[A.value].tokenId);T.value=e,L.value=t;const n=await u.Ay.getToken("tokenURI",e,t);i.Ay.fetchData(n).then((async e=>{if(console.log("fetch NFT data"),console.dir(e),null!=e.name){document.getElementById("itemName").value=e.name;const t=document.getElementById("attrvalue"),n=JSON.parse(t.value);if(n.en.name=e.name,n.ja.name=e.name,null!=e.attributes)for(const t in e.attributes){const s=e.attributes[t];null!=s.trait_type&&"size"==s.trait_type.toLowerCase()&&(n.en.size=s.value,n.ja.size=s.value),null!=s.trait_type&&"weight"==s.trait_type.toLowerCase()&&(n.en.weight=s.value,n.ja.weight=s.value)}t.value=JSON.stringify(n),g(n)}}))}));const E=JSON.parse(n.Json),v=document.createElement("div");v.classList.add("w2p"),v.classList.add("wInline"),v.innerHTML="",t.appendChild(v);const k=l.Ay.makeInput("input","itemName","BaseInput","");k.classList.add("w8p"),k.value=n.Name,t.appendChild(k);const C=document.createElement("div");C.classList.add("w2p"),C.classList.add("wInline"),C.innerHTML="TokenInfo",t.appendChild(C);const T=l.Ay.makeInput("input","itemContract","BaseInput","ContractAddress");T.classList.add("w7p"),T.value=n.Contract,t.appendChild(T);const L=l.Ay.makeInput("input","itemTokenId","BaseInput","TokenID");L.classList.add("w1p"),L.value=n.TokenId,t.appendChild(L);const x=document.createElement("div");x.classList.add("w2p"),x.classList.add("wInline"),x.innerHTML="Sales Price",t.appendChild(x);const I=l.Ay.makeInput("input","itemPrice","BaseInput","Sales Price");I.classList.add("w8p"),I.value=n.Price,t.appendChild(I);const B=document.createElement("div");B.classList.add("w2p"),B.classList.add("wInline"),B.innerHTML="shop site URL",t.appendChild(B);const M=l.Ay.makeInput("input","itemBuyUrl","BaseInput","Shop Site URL");M.classList.add("w8p"),M.value=n.Link,t.appendChild(M),w(t,E);const N=l.Ay.makeTextarea("attrvalue","BaseTextarea","VALUE","");N.classList.add("wfull"),N.value=n.Json,t.appendChild(N);const R=l.Ay.makeSelect("ContractType","BaseInput");for(const e in p.hw){const t=document.createElement("option");t.value=e,t.innerHTML=p.hw[e],R.appendChild(t)}if(R.classList.add("w7p"),R.value=n.Status,t.appendChild(R),s==n.Creator||null==a.Q.params[3]||"admin"==e){const e=l.Ay.makeInput("submit","submitID","BaseSubmit","SET","SET");e.classList.add("w3p"),t.appendChild(e),e.addEventListener("click",(async()=>{const e={name:k.value,contract:T.value,tokenid:L.value,price:I.value,status:R.value,json:N.value,creator:s,link:M.value};try{null==a.Q.params[3]?confirm(k.value+(0,r.X)("ADD_CONFIRM"))&&(await o.A.postDynamoApi("item/add/",e),alert(k.value+(0,r.X)("ADD_COMPLETE")),window.location.href="/setting/item"):confirm(k.value+(0,r.X)("UPDATE_CONFIRM"))&&(await o.A.postDynamoApi("item/update/"+n.Id,e),alert(k.value+(0,r.X)("UPDATE_COMPLETE")),window.location.href="/setting/item"),window.location.href="/setting/item"}catch(e){console.error(e)}}))}N.addEventListener("input",(async()=>{const e=JSON.parse(N.value);g(e)}))},g=async e=>{for(const t in e)for(const n in e[t])"genre"!=n&&"type"!=n&&(document.getElementById(t+"_"+n).value=e[t][n])},w=async(e,t)=>{const n=document.createElement("div");e.appendChild(n);const s=document.createElement("H2");s.innerHTML="Attrebutes",n.appendChild(s);const a=document.createElement("div");a.classList.add("w1p"),a.classList.add("wInline"),a.innerHTML="name",n.appendChild(a);const r=l.Ay.makeInput("input","en_name","BaseInput","name(en)");r.classList.add("w45p"),r.value=t.en.name,n.appendChild(r);const d=l.Ay.makeInput("input","ja_name","BaseInput","name(ja)");d.classList.add("w45p"),d.value=t.ja.name,n.appendChild(d);const u=document.createElement("div");u.classList.add("w1p"),u.classList.add("wInline"),u.innerHTML="owner",n.appendChild(u);const p=l.Ay.makeInput("input","en_owner","BaseInput","owner(en)");p.classList.add("w45p"),p.value=t.en.owner,n.appendChild(p);const h=l.Ay.makeInput("input","ja_owner","BaseInput","owner(ja)");h.classList.add("w45p"),h.value=t.ja.owner,n.appendChild(h);const f=document.createElement("div");f.classList.add("w1p"),f.classList.add("wInline"),f.innerHTML="size",n.appendChild(f);const m=l.Ay.makeInput("input","en_size","BaseInput","size(en)");m.classList.add("w45p"),m.value=t.en.size,n.appendChild(m);const y=l.Ay.makeInput("input","ja_size","BaseInput","size(ja)");y.classList.add("w45p"),y.value=t.ja.size,n.appendChild(y);const g=document.createElement("div");g.classList.add("w1p"),g.classList.add("wInline"),g.innerHTML="weight",n.appendChild(g);const w=l.Ay.makeInput("input","en_weight","BaseInput","weight(en)");w.classList.add("w45p"),w.value=t.en.weight,n.appendChild(w);const b=l.Ay.makeInput("input","ja_weight","BaseInput","weight(ja)");b.classList.add("w45p"),b.value=t.ja.weight,n.appendChild(b);const E=document.createElement("div");E.classList.add("w1p"),E.classList.add("wInline"),E.innerHTML="place",n.appendChild(E);const k=l.Ay.makeInput("input","en_workplace","BaseInput","workplace(en)");k.classList.add("w45p"),k.value=t.en.workplace,n.appendChild(k);const C=l.Ay.makeInput("input","ja_workplace","BaseInput","workplace(ja)");C.classList.add("w45p"),C.value=t.ja.workplace,n.appendChild(C);const T=document.createElement("div");T.classList.add("w1p"),T.classList.add("wInline"),T.innerHTML="location",n.appendChild(T);const L=l.Ay.makeInput("input","en_location","BaseInput","location(en)");L.classList.add("w45p"),L.value=t.en.location,n.appendChild(L);const x=l.Ay.makeInput("input","ja_location","BaseInput","location(ja)");x.classList.add("w45p"),x.value=t.ja.location,n.appendChild(x);const I=document.createElement("div");I.classList.add("w1p"),I.classList.add("wInline"),I.innerHTML="station",n.appendChild(I);const B=l.Ay.makeInput("input","en_station","BaseInput","station(en)");B.classList.add("w45p"),B.value=t.en.station,n.appendChild(B);const M=l.Ay.makeInput("input","ja_station","BaseInput","station(ja)");M.classList.add("w45p"),M.value=t.ja.station,n.appendChild(M);const N=await i.Ay.checkBalance(),R=await o.A.getDynamoApi("shop/eoa/"+N.eoa),O=document.createElement("p");if(n.appendChild(O),null!=R.Eoa){const e=document.createElement("button");e.classList.add("button_selected"),e.innerHTML="Set gallary info",e.addEventListener("click",(async()=>{v(R)})),O.appendChild(e)}else O.appendChild(c.Ay.span("gallary info not exist")),O.appendChild(c.Ay.link("setup gallary","/setting/gallary"));n.appendChild(c.Ay.hr()),r.addEventListener("input",(async()=>{t.en.name=r.value,P()}));const S=document.createElement("div");n.appendChild(S),A(S,t);const P=()=>{const e=document.getElementById("attrvalue"),n=JSON.parse(e.value);t.en.genre=n.en.genre,t.ja.genre=n.ja.genre,t.en.type=n.en.type,t.ja.type=n.ja.type,e.value=JSON.stringify(t)};r.addEventListener("input",(async()=>{t.en.name=r.value,P()})),d.addEventListener("input",(async()=>{t.ja.name=d.value,P()})),p.addEventListener("input",(async()=>{t.en.owner=p.value,P()})),h.addEventListener("input",(async()=>{t.ja.owner=h.value,P()})),m.addEventListener("input",(async()=>{t.en.size=m.value,P()})),y.addEventListener("input",(async()=>{t.ja.size=y.value,P()})),w.addEventListener("input",(async()=>{t.en.weight=w.value,P()})),b.addEventListener("input",(async()=>{t.ja.weight=b.value,P()})),k.addEventListener("input",(async()=>{t.en.workplace=k.value,P()})),C.addEventListener("input",(async()=>{t.ja.workplace=C.value,P()})),L.addEventListener("input",(async()=>{t.en.location=L.value,P()})),x.addEventListener("input",(async()=>{t.ja.location=x.value,P()})),B.addEventListener("input",(async()=>{t.en.station=B.value,P()})),M.addEventListener("input",(async()=>{t.ja.station=M.value,P()}))},A=async(e,t)=>{for(const n in p.v){const s=document.createElement("button");s.id="genre_"+n+"_button",t.en.genre.includes(p.v[n][a.Q.lang])?s.classList.add("button_selected"):s.classList.add("button_unselected"),s.innerHTML=p.v[n][a.Q.lang],e.appendChild(s),s.addEventListener("click",(async()=>{b(n)}))}e.appendChild(c.Ay.br());for(const n in p.s_){const s=document.createElement("button");s.id="type_"+n+"_button",t.en.type.includes(p.s_[n][a.Q.lang])?s.classList.add("button_selected"):s.classList.add("button_unselected"),s.innerHTML=p.s_[n][a.Q.lang],e.appendChild(s),s.addEventListener("click",(async()=>{E(n)}))}},b=async e=>{const t=document.getElementById("attrvalue"),n=JSON.parse(t.value),s=document.getElementById("genre_"+e+"_button");if(n.en.genre.includes(p.v[e].en)){const t=n.en.genre.indexOf(p.v[e].en);-1!==t&&(n.en.genre.splice(t,1),n.ja.genre.splice(t,1)),s.classList.remove("button_selected"),s.classList.add("button_unselected")}else n.ja.genre.push(p.v[e].ja),n.en.genre.push(p.v[e].en),s.classList.add("button_selected"),s.classList.remove("button_unselected");n.en.genre=[...new Set(n.en.genre)],n.ja.genre=[...new Set(n.ja.genre)],t.value=JSON.stringify(n)},E=async e=>{const t=document.getElementById("attrvalue"),n=JSON.parse(t.value),s=document.getElementById("type_"+e+"_button");if(n.en.type.includes(p.s_[e].en)){const t=n.en.type.indexOf(p.s_[e].en);-1!==t&&(n.en.type.splice(t,1),n.ja.type.splice(t,1)),s.classList.remove("button_selected"),s.classList.add("button_unselected")}else n.en.type.push(p.s_[e].en),n.ja.type.push(p.s_[e].ja),s.classList.add("button_selected"),s.classList.remove("button_unselected");n.en.type=[...new Set(n.en.type)],n.ja.type=[...new Set(n.ja.type)],t.value=JSON.stringify(n)},v=async e=>{if(null!=e.Name){const t=JSON.parse(e.Json),n=document.getElementById("attrvalue"),s=JSON.parse(n.value);null!=t.en.name&&(s.en.owner=t.en.name),null!=t.ja.name&&(s.ja.owner=t.ja.name),null!=t.en.workplace&&(s.en.workplace=t.en.workplace),null!=t.ja.workplace&&(s.ja.workplace=t.ja.workplace),null!=t.en.station&&(s.en.station=t.en.station),null!=t.ja.station&&(s.ja.station=t.ja.station),null!=t.en.location&&(s.en.location=t.en.location),null!=t.ja.location&&(s.ja.location=t.ja.location),n.value=JSON.stringify(s),g(s)}},k={getUI:m};s()}catch(e){s(e)}}),1)},207:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var s=n(5854),a=n(8426),r=n(8172);const i={getUI:async e=>{const t=await a.Ay.checkBalance(),n=(s.Q.params,document.createElement("div"));n.classList.add("adminSettings"),e.appendChild(n);const i=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div");n.id="meta-section",i.id="meta-disp",o.id="meta-control",c.id="meta-control",n.appendChild(i);const l=document.createElement("H2");l.classList.add("controlLavel"),l.innerHTML="Genre List",n.appendChild(l),n.appendChild(o);const d=document.createElement("H2");if(d.classList.add("controlLavel"),d.innerHTML="Type List",n.appendChild(d),n.appendChild(c),null!=t.eoa){const e=await r.A.getDynamoApi("genre");for(const t in e){const n=document.createElement("button");n.classList.add("itemTag"),n.innerHTML=e[t].name,n.addEventListener("click",(async()=>{alert(e[t].name+"apiconst|TODO")})),o.appendChild(n)}const t=await r.A.getDynamoApi("type");for(const e in t){const n=document.createElement("button");n.classList.add("itemTag"),n.innerHTML=t[e].name,n.addEventListener("click",(async()=>{alert(t[e].name+"apiconst|todo")})),c.appendChild(n)}}else{const e=document.createElement("p");e.innerHTML="Please connect Wallet",o.appendChild(e)}}}},7632:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{A:()=>g});var a=n(5854),r=n(9188),i=n(8426),o=n(5038),c=n(5729),l=n(9599),d=n(6439),u=n(8390),p=n(207),h=n(6037),f=n(7882),m=e([d,u]);[d,u]=m.then?(await m)():m;const y=document.getElementById("mainContents"),g={getUI:async()=>{const e=await i.Ay.checkBalance(),t=a.Q.params,n=document.createElement("div");n.classList.add("adminSettings"),y.appendChild(n);const s=document.createElement("div"),m=document.createElement("div");n.id="meta-section",s.id="meta-disp",m.id="meta-control",n.appendChild(s),n.appendChild(m);const g=document.createElement("H2");g.classList.add("controlLavel"),g.innerHTML="Admin Settings",s.appendChild(g);const w=document.createElement("p");w.innerHTML="manager CA : ",w.appendChild(f.Ay.eoa(r.MP.MANAGER_CA)),m.appendChild(w);const A=await h.A.setManager("checkUser");var b,E=document.createElement("div");if(E.classList.add("settingMenuDir"),(b=document.createElement("a")).href="/setting/item",b.textContent="item",E.appendChild(b),"admin"==A&&((b=document.createElement("a")).href="/setting/admin",b.textContent="admin",E.appendChild(b),(b=document.createElement("a")).href="/setting/creator",b.textContent="creator",E.appendChild(b),(b=document.createElement("a")).href="/setting/contract",b.textContent="contract",E.appendChild(b)),(b=document.createElement("a")).href="/setting/gallary",b.textContent="gallary",E.appendChild(b),null!=e.eoa&&"admin"==A){s.appendChild(E);const n=document.createElement("p");switch(n.innerHTML=A+" : ",n.appendChild(f.Ay.eoa(e.eoa)),m.appendChild(n),t[2]){case"admin":o.A.getUI(m);break;case"creator":c.A.getUI(m);break;case"contract":l.A.getUI(m);break;case"gallary":d.A.getUI(m);break;case"other":p.A.getUI(m);break;default:console.log("set default"),u.A.getUI(m)}}else if(null!=e.eoa&&"creator"==A){s.appendChild(E);const n=document.createElement("p");n.innerHTML=A+" : ",n.appendChild(f.Ay.eoa(e.eoa)),m.appendChild(n),"gallary"===t[2]?d.A.getUI(m):(console.log("set default"),u.A.getUI(m))}else if(null!=e.eoa&&"user"==A){const e=document.createElement("p");e.innerHTML="you are normal user",m.appendChild(e)}else{const e=document.createElement("p");e.innerHTML="Please connect Wallet",m.appendChild(e)}const v=document.createElement("p");v.innerHTML="website version : "+r.gU,m.appendChild(v);const k=document.createElement("p");k.innerHTML="BOT API : "+r.MP.BOT_API_URL,m.appendChild(k)}};s()}catch(e){s(e)}}))},5267:(e,t,n)=>{"use strict";n.d(t,{Lb:()=>r,vu:()=>a});var s=n(9188);const a={name:null,symbol:null,MAX_ROYALTY_BPS:null,mintFee:36e5,royaltyInfo:36e5,tokenURI:3e5,creatorTokens:3e5,normalTokens:3e5,sbtTokens:3e5,creatorTokenCount:3e5,normalTokenCount:3e5,sbtTokenCount:3e5,totalSupply:3e4},r=new class{dbName="bizenDAO_rpc_cache";version=1;db=null;metrics={hits:0,misses:0,evictions:0,errors:0};constructor(){this.initDB()}async initDB(){return new Promise(((e,t)=>{const n=indexedDB.open(this.dbName,this.version);n.onerror=()=>{console.error("Failed to open IndexedDB:",n.error),t(n.error)},n.onsuccess=()=>{this.db=n.result,e()},n.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains("cache")){const e=t.createObjectStore("cache",{keyPath:"key"});e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("expiry","expiry",{unique:!1}),e.createIndex("category","category",{unique:!1})}t.objectStoreNames.contains("gallery_cache")||t.createObjectStore("gallery_cache",{keyPath:"creator"}).createIndex("lastUpdated","lastUpdated",{unique:!1})}}))}generateCacheKey(e,t,n){const a=s.MP.BC_NETWORK_ID,r=this.sanitizeParams(t),i=JSON.stringify(r||{});return n?`${a}:${n}:${e}:${i}`:`${a}:${e}:${i}`}sanitizeParams(e){if(null==e)return e;if("bigint"==typeof e)return e.toString();if(Array.isArray(e))return e.map((e=>this.sanitizeParams(e)));if("object"==typeof e){const t={};for(const n in e)t[n]=this.sanitizeParams(e[n]);return t}return e}isExpired(e){return null!==e.expiry&&Date.now()>e.expiry}async get(e){return this.db||await this.initDB(),new Promise((t=>{try{const n=this.db.transaction(["cache"],"readonly").objectStore("cache").get(e);n.onsuccess=()=>{const s=n.result;return s?this.isExpired(s)?(this.metrics.misses++,this.delete(e),void t(null)):(this.metrics.hits++,void t(s.value)):(this.metrics.misses++,void t(null))},n.onerror=()=>{this.metrics.errors++,console.error("Cache get error:",n.error),t(null)}}catch(e){this.metrics.errors++,console.error("Cache get error:",e),t(null)}}))}async set(e,t,n,s="general"){this.db||await this.initDB();const a=null===n?null:n?Date.now()+n:null,r=new Blob([JSON.stringify(t)]).size,i={key:e,value:t,timestamp:Date.now(),expiry:a,category:s,size:r};return new Promise(((e,t)=>{try{const n=this.db.transaction(["cache"],"readwrite").objectStore("cache").put(i);n.onsuccess=()=>e(),n.onerror=()=>{this.metrics.errors++,console.error("Cache set error:",n.error),t(n.error)}}catch(e){this.metrics.errors++,console.error("Cache set error:",e),t(e)}}))}async delete(e){return this.db||await this.initDB(),new Promise(((t,n)=>{try{const s=this.db.transaction(["cache"],"readwrite").objectStore("cache").delete(e);s.onsuccess=()=>{this.metrics.evictions++,t()},s.onerror=()=>n(s.error)}catch(e){n(e)}}))}async deletePattern(e){return this.db||await this.initDB(),new Promise(((t,n)=>{try{const s=this.db.transaction(["cache"],"readwrite").objectStore("cache").openCursor();s.onsuccess=()=>{const n=s.result;if(n){const t=n.value.key;this.matchPattern(t,e)&&(n.delete(),this.metrics.evictions++),n.continue()}else t()},s.onerror=()=>n(s.error)}catch(e){n(e)}}))}matchPattern(e,t){return new RegExp(t.replace(/\*/g,".*")).test(e)}async setGalleryCache(e,t,n){return this.db||await this.initDB(),new Promise(((e,n)=>{try{const s=this.db.transaction(["gallery_cache"],"readwrite").objectStore("gallery_cache").put(t);s.onsuccess=()=>e(),s.onerror=()=>n(s.error)}catch(e){n(e)}}))}async getGalleryCache(e){return this.db||await this.initDB(),new Promise((t=>{try{const n=this.db.transaction(["gallery_cache"],"readonly").objectStore("gallery_cache").get(e);n.onsuccess=()=>{const s=n.result;if(s)return Date.now()-s.lastUpdated>36e5?(this.deleteGalleryCache(e),void t(null)):void t(s);t(null)},n.onerror=()=>t(null)}catch(e){t(null)}}))}async deleteGalleryCache(e){return this.db||await this.initDB(),new Promise(((t,n)=>{try{const s=this.db.transaction(["gallery_cache"],"readwrite").objectStore("gallery_cache").delete(e);s.onsuccess=()=>t(),s.onerror=()=>n(s.error)}catch(e){n(e)}}))}async clearAll(){return this.db||await this.initDB(),new Promise(((e,t)=>{try{const n=this.db.transaction(["cache","gallery_cache"],"readwrite"),s=n.objectStore("cache"),a=n.objectStore("gallery_cache");s.clear(),a.clear(),n.oncomplete=()=>{this.metrics={hits:0,misses:0,evictions:0,errors:0},e()},n.onerror=()=>t(n.error)}catch(e){t(e)}}))}getMetrics(){const e=this.metrics.hits+this.metrics.misses,t=e>0?this.metrics.hits/e*100:0;return{...this.metrics,hitRate:t.toFixed(2)+"%",totalRequests:e}}async getStorageInfo(){if("storage"in navigator&&"estimate"in navigator.storage){const e=await navigator.storage.estimate();return{usage:e.usage||0,quota:e.quota||0,percentage:(e.usage||0)/(e.quota||1)*100}}return null}async handleTokenBurn(e,t){await this.deletePattern(`*tokenURI.*"tokenId":"${e}"*`),await this.deletePattern(`*ownerOf.*"tokenId":"${e}"*`),await this.deletePattern(`*tokenLocked.*"tokenId":"${e}"*`),await this.deletePattern("*totalSupply*"),await this.deletePattern("*TokenCount*"),await this.deletePattern(`*creatorTokens.*"creator":"${t}"*`),await this.deleteGalleryCache(t)}}},9188:(e,t,n)=>{"use strict";n.d(t,{MP:()=>s,gU:()=>a});const s=new Proxy({},{get:(e,t)=>("ARTICLE_REPO"===t&&(console.log("[const.ts Proxy] Getting ARTICLE_REPO"),console.log("[const.ts Proxy] window.ENV:",window.ENV),console.log("[const.ts Proxy] window.ENV?.ARTICLE_REPO:",window.ENV?.ARTICLE_REPO)),"DEFAULT_CHAIN_ID"===t?parseInt(window.ENV?.BC_NETWORK_ID||"1"):"CONTRACT_ADDRESS"===t?window.ENV?.MANAGER_CA||"":window.ENV?.[t]||{HEADER_TITLE:"BizenDAO",DEFAULT_SYMBOL:"BIZEN",DONATE_SYMBOL:"dBIZ",API_BASE_URL:"",BOT_API_URL:"",ARTICLE_REPO:"",METABUILDER_URL:"",BC_NETWORK_ID:"1",BC_NETWORK_NAME:"Ethereum Mainnet",RPC_URL:"",MANAGER_CA:"",MEMBERSCARD_CA:"",SOUL_BINDER_ROLE_ID:"1",TBA_SALT:"0",DISCORD_HOLDER_ROLL_ID:"",DISCORD_HOLDER_ROLL_NAME:"Holder",CRYPTO_SECRET:"",SRC_VERSION:"1.0.0"}[t]||"")}),a="1.0.0"},6555:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});const s={ITEM_DEFAULT_FORMAT:{Id:0,TokenId:"",Contract:"",Creator:"",DeleteFlag:!1,Link:"",Status:0,Created:"",PartitionName:"",Json:'{"en":{"name":"","owner":"","size":"","weight":"","workplace":"","location":"","station":"","genre":[],"type":[]}, "ja":{"name":"","owner":"","size":"","weight":"","workplace":"","location":"","station":"","genre":[],"type":[]}}',Price:0,Updated:"",Name:""},GALLARY_DEFAULT_FORMAT:{ChannelId:"",Created:"",Eoa:"",Id:0,Imgurl:"",Json:'{"ja":{"name":"","workplace":"","location":"","station":"","profile":""},"en":{"name":"","workplace":"","location":"","station":"","profile":""}}',Name:"",PartitionName:"",Seed:"",Status:1,Type:"",Updated:"",DeleteFlag:!1}}},4552:(e,t,n)=>{"use strict";n.d(t,{Bi:()=>i,_x:()=>u,h_:()=>d,hw:()=>r,o8:()=>c,s_:()=>a,v:()=>s,vt:()=>o,wJ:()=>l});const s=["Art","Music","Gaming","Photography","Writing","Other"],a=["NFT","Token","Membership","Other"],r=["Fixed","Auction","Offer","Free"],i=["Artist","Musician","Developer","Writer","Other"],o=["ERC721","ERC1155","ERC20","Other"],c=["Personal","Collection","Exhibition","Other"],l=["Active","Inactive","Pending","Archived"],d=[".git","node_modules",".vscode"],u=["pages","content","articles"]},2563:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,l:()=>r});var s=n(5854),a=n(9188);const r={en:{common:"about BizenDAO",official_announce:"Official Announce",official_youtube_links:"Official YouTube links",official_manual:"official_manual(PDF)",creator:"Potters",operating_member:"BizenDAO operating member",official_link:"Official LinksHow to use)",promotion_activities:"Promotion Activities",metaberse:" Metaverse",learn_more:"Learn More",activities_by_college_students:"Activities by College Students",HOME:"home",CREATORS:"creators",TOKENS:"tokens",COTENTS:"contents",ACCOUNT:"account",DONATE:"donate",META:"meta",METANAME:"item name",DESCRIPTION:"description",MAINIMAGE:"image file url.jpeg or .png",MOVURL:"3D data url.glb)",EXTURL:"external url",ATTRIBUTES:"attributes",LABEL:"trait type",VALUE:"value",JSONLOAD:"JSON LOAD",JSONDOWNLOAD:"JSON DOWNLOAD",OPENVAULT:"ArDrive",PICTTOOL:"img resize",PERMAWEB:"permaweb",JSONSAMPLE:"sample JSON",SUBDONATE:"SUBSTITUTE DONATION",DONATEPRICE:"DONATE PRICE",CASHBACK:"CASHBACK",DONOR:"DONOR",SUBDONAHIST:"substitute donation history",SELECTMES:"select",COPYED:" has been copied to the clipboard",COPYFAILED:"Copy failed",DONATEMESSAGE:"BizenDAO registered artists can donate on behalf of buyers here.<br /> You can also get cash back on gas costs.",SENDTOEOA:"Send this NFT to EOA",SENDNFTBEF:"Do you really want to send this NFT to ",SENDNFTAFT:"",BURNNFT:"Do you really want to burn this NFT?\nTo delete, please enter 'BURN' in the input box below.",BURNED:"NFT Burned",BURN_STOP:"Burn transaction has aborted.",SENDED:"Sent NFT",CANTSEND:"Cannot send to this EOA",ARE_YOU_BUYER:", Are you the one who purchased this product?",REQUIRE_META_URL:"*Please specify the URL where the metadata is stored.",TRYING_TO_MINT:"Bizen DAO SBT is a contract that is tied to the soul of the work, so if a completely unrelated SBT is created, it may be deleted by the Admin.\nPlease note that these rules are intended to prevent mischief and abuse.",REQUIRE_DBIZ:"require "+a.MP.DONATE_SYMBOL,INVALID_TOKENURI:" is an invalid tokenURI",CREATOR_ONLY:"This NFT MINT is limited to the artist",NOT_ENOUGH_DBIZ:"You don't have enough "+a.MP.DONATE_SYMBOL+" to mint.",NOT_ENOUGH:" is not enough",MES1:"Please enter your donation amount",MES2:"Failed to get current price. Please wait for a while.",MES3:"Cashback amount is too large",MES4:" : Are you sure you want to send it?",MES5:" sent",ARE_YOU_TBA:"Do you really want to issue a TBA?",TBA_MAKE:"Issue TZA to this NFT.",MINT_THE_TOKENURI:"mint the NFT using the specified tokenURI.",MINT_TX_SEND:"MINT transaction has been issued.",MINT_TX_STOP:"MINT transaction was aborted.",WAIT_MINT_TX:"Please wait while the transaction completes",MEMBER_SBT_ISSUE:"I'll issue your Membership SBT",MEMBER_SBT_EXIST:"Membership SBT cannot be issued. It may have already been issued.",MEMBER_NOT_PARMITTED:"Membership SBT cannot be issued. It may not be allowed.",TBA_ISSUE_SUCCESS:"Issued TBA issue transaction",TBA_ISSUE_ABORT:"TBA issue transaction aborted",POINT_NOT_EXIST:a.MP.DONATE_SYMBOL+" of 1point or more is required to issue a member SBT",ADD_CONFIRM:":are you ok?",ADD_COMPLETE:":complete.",DEL_CONFIRM:":are you sure?",DEL_COMPLETE:":deleted.",UPDATE_CONFIRM:":are you sure?",UPDATE_COMPLETE:":updated.",CAN_NOT_CREATE:"You can not create",CAN_NOT_W_CREATE:"Duplicate registration is not possible",CAN_NOT_UPDATE:"You can not update",CANT_UPLOAD_FILE:"You are trying to upload a file with an unknown extension. \nThis file may not be viewed correctly. \nPlease check whether the contents of the file are correct. ",FAILED_TO_UPLOAD:"Failed to upload",CANCEL_TO_UPLOAD:"Cancel to upload",FAILED_TO_CHECK_FILE:"Failed to check file",UPLOAD_ERROR:"Upload error",STACK_RENAME_CONFIRM:" | trying to change the file name. Are you sure?",STACK_DELETE_CONFIRM:" | trying to delete the file. Are you sure?",APPROVED:"Your request has been approved.",NOT_APPROVED:"An invalid request was sent.",DIFFERENT_USER:"The connected wallet is different.",RPC_COMMUNICATING:"RPC Communicating...",RPC_METHOD:"Method",CONTRACT_ADDRESS:"Contract Address",FUNCTION_NAME:"Function Name",RPC_PARAMS:"Parameters",ELAPSED_TIME:"Elapsed Time",SECONDS:"seconds",metamask_mobile_title:"Access with MetaMask Browser",metamask_mobile_desc:"Please access this site using the MetaMask mobile app's built-in browser for the best experience.",metamask_desktop_title:"MetaMask Extension Required",metamask_desktop_desc:"Please install the MetaMask browser extension to interact with this site.",metamask_open_app:"Open in MetaMask",metamask_download:"Download MetaMask",metamask_continue:"Continue Anyway"},ja:{common:"BIZENDAO",official_announce:"Official",official_youtube_links:"Official Youtube ",official_manual:"Official (PDF)",creator:"",operating_member:"BizenDAO Member",official_link:"Official",promotion_activities:"",metaberse:"",learn_more:"",activities_by_college_students:"",HOME:"",CREATORS:"",TOKENS:"NFT",COTENTS:"",ACCOUNT:"",DONATE:"",META:"",RPC_COMMUNICATING:"RPC...",RPC_METHOD:"",CONTRACT_ADDRESS:"",FUNCTION_NAME:"",RPC_PARAMS:"",ELAPSED_TIME:"",SECONDS:"",METANAME:"",DESCRIPTION:"",MAINIMAGE:"URL.jpeg or .png",MOVURL:"DURL.glb)",EXTURL:"PDFURL",ATTRIBUTES:"",LABEL:"",VALUE:"",JSONLOAD:"JSON",JSONDOWNLOAD:"JSON DOWNLOAD",OPENVAULT:"ArDrive",PICTTOOL:"",PERMAWEB:"",JSONSAMPLE:"JSON",SUBDONATE:"",DONATEPRICE:"",CASHBACK:"",DONOR:"",SUBDONAHIST:"",SELECTMES:"",COPYED:"",COPYFAILED:"",DONATEMESSAGE:"BizenDAO<br />",SENDTOEOA:"NFTEOA",SENDNFTBEF:"NFT",SENDNFTAFT:"",BURNNFT:"NFT\n\nNFTBURN\nBOXBURN",BURNED:"BURN",BURN_STOP:"BURN",SENDED:"",CANTSEND:"",ARE_YOU_BUYER:" ",REQUIRE_META_URL:" URL",TRYING_TO_MINT:"Bizen DAO SBTSBTAdmin\n",REQUIRE_DBIZ:""+a.MP.DONATE_SYMBOL,INVALID_TOKENURI:" tokenURI",CREATOR_ONLY:"NFTMINT",NOT_ENOUGH_DBIZ:"Mint"+a.MP.DONATE_SYMBOL+"",NOT_ENOUGH:" ",MES1:"",MES2:"",MES3:"",MES4:"",MES5:"",ARE_YOU_TBA:"TBA",TBA_MAKE:"NFTTBA",MINT_THE_TOKENURI:"tokenURINFTMINT",MINT_TX_SEND:"MINT",MINT_TX_STOP:"MINT",WAIT_MINT_TX:"",MEMBER_SBT_ISSUE:"SBT",MEMBER_SBT_EXIST:"SBT ",MEMBER_NOT_PARMITTED:"SBT",TBA_ISSUE_SUCCESS:"TBA",TBA_ISSUE_ABORT:"TBA",POINT_NOT_EXIST:"1p"+a.MP.DONATE_SYMBOL+"",ADD_CONFIRM:":",ADD_COMPLEATE:":",DEL_CONFIRM:":?",DEL_COMPLETE:":",UPDATE_CONFIRM:":",UPDATE_COMPLETE:":",CAN_NOT_CREATE:"",CAN_NOT_W_CREATE:"",CAN_NOT_UPDATE:"",CANT_UPLOAD_FILE:"\n\n\n",FAILED_TO_UPLOAD:"",CANCEL_TO_UPLOAD:"",FAILED_TO_CHECK_FILE:"",UPLOAD_ERROR:"",STACK_RENAME_CONFIRM:" ",STACK_DELETE_CONFIRM:" \n",APPROVED:"",NOT_APPROVED:"",DIFFERENT_USER:"",metamask_mobile_title:"MetaMask",metamask_mobile_desc:"MetaMask",metamask_desktop_title:"MetaMask",metamask_desktop_desc:"MetaMask",metamask_open_app:"MetaMask",metamask_download:"MetaMask",metamask_continue:""}},i=e=>"en"!=s.Q.lang&&"ja"!=s.Q.lang?e:r[s.Q.lang][e]},5854:(e,t,n)=>{"use strict";n.d(t,{Q:()=>p}),console.log("load router");var s=window.location.href,a=window.location.pathname,r=window.location.hostname,i=window.location.search;const o=new URLSearchParams(i),c=a.split("/"),l=["en","ja","idn"];let d=o.get("lang"),u=localStorage.getItem("lang");null!=d&&(u=d),l.includes(u)||(u="en"),console.log("yourLang:"+u),localStorage.setItem("lang",u);const p={lang:u,langSet:l,fullUrl:s,path:a,host:r,queryString:i,getParams:()=>{const e=window.location.pathname.split("/");return e.shift(),e.shift(),e.join("/")},params:c}},1141:(e,t,n)=>{"use strict";n.d(t,{O2:()=>w,rm:()=>E});var s=n(2724);let a=null,r=null,i=null,o=null,c=null,l=0;const d=300,u=200;function p(e,t,n,s){l++,c&&(clearTimeout(c),c=null),a={method:e,params:t,startTime:Date.now(),contractAddress:n,functionName:s},r&&r.classList.contains("show")?f():(o&&clearTimeout(o),o=setTimeout((()=>{r||(r=document.createElement("div"),r.className="rpc-modal-overlay",r.innerHTML='\n        <div class="rpc-modal-content">\n            <div class="rpc-modal-header">\n                <div class="rpc-spinner"></div>\n                <span id="rpc-status-text">...</span>\n            </div>\n            <div class="rpc-modal-body">\n                <div class="rpc-details"></div>\n            </div>\n        </div>\n    ',document.body.appendChild(r)),f(),requestAnimationFrame((()=>{r&&r.classList.add("show")})),i&&clearInterval(i),i=setInterval(f,100)}),d))}function h(){l=Math.max(0,l-1),l>0||(o&&(clearTimeout(o),o=null),i&&(clearInterval(i),i=null),r?(r.classList.remove("show"),r.classList.add("hide"),c=setTimeout((()=>{r&&(r.remove(),r=null),a=null}),u)):a=null)}function f(){if(!r||!a)return;const e=r.querySelector(".rpc-details");if(!e)return;const t=((Date.now()-a.startTime)/1e3).toFixed(1);let n="";var s;a.params&&"object"==typeof a.params&&a.params.contract?(n+=`\n            <div class="rpc-detail-item">\n                <span class="rpc-label">CA:</span>\n                <span class="rpc-value" title="${a.params.contract}">\n                    ${a.params.contract}\n                </span>\n            </div>\n            <div class="rpc-detail-item">\n                <span class="rpc-label">method:</span>\n                <span class="rpc-value">${a.params.method}</span>\n            </div>\n        `,a.params.params&&"none"!==a.params.params&&(n+=`\n                <div class="rpc-detail-item">\n                    <span class="rpc-label">params:</span>\n                    <span class="rpc-value">${s=a.params.params,s?Array.isArray(s)?0===s.length?"":s.map(((e,t)=>"string"==typeof e?e:"bigint"==typeof e?e.toString():"object"==typeof e&&null!==e?JSON.stringify(e):String(e))).join(", "):String(s):""}</span>\n                </div>\n            `)):n+=`\n            <div class="rpc-detail-item">\n                <span class="rpc-label">method:</span>\n                <span class="rpc-value">${a.method}</span>\n            </div>\n        `,a.params&&"object"==typeof a.params&&a.params.contract||a.params&&Object.keys(a.params).length>0&&(n+=`\n                <div class="rpc-detail-item">\n                    <span class="rpc-label">:</span>\n                    <div class="rpc-params">\n                        ${function(e){return"string"==typeof e?`<div class="rpc-param">${m(e)}</div>`:Array.isArray(e)?e.map(((e,t)=>`<div class="rpc-param">[${t}]: ${m(e)}</div>`)).join(""):"object"==typeof e&&null!==e?Object.entries(e).map((([e,t])=>e.startsWith("param")&&"object"==typeof t?`<div class="rpc-param">${e}: ${function(e){if(null==e)return"null";if("object"==typeof e){if(Array.isArray(e))return`[${e.map((e=>m(e))).join(", ")}]`;const t=Object.entries(e);return 0===t.length?"{}":`{${t.map((([e,t])=>`${e}: ${m(t)}`)).join(", ")}}`}return m(e)}(t)}</div>`:`<div class="rpc-param">${e}: ${m(t)}</div>`)).join(""):`<div class="rpc-param">${e}</div>`}(a.params)}\n                    </div>\n                </div>\n            `);const i=r.querySelector("#rpc-status-text");i&&(i.textContent=` :${t}`),e.innerHTML=n}function m(e){return"string"==typeof e?e:"object"==typeof e&&null!==e?e._isBigNumber||"BigNumber"===e.type?e.hex||e.toString():JSON.stringify(e):String(e)}var y=n(5267);async function g(e,t,n,a){const r=e instanceof s.NZ,i=r?e.target.toString():a?.contractAddress,o=r?t:a?.functionName;let c=t,l={};if(r)c="eth_call",l={function:t,args:n.map(((e,t)=>"string"==typeof e&&e.startsWith("0x")&&42===e.length?`address: ${e}`:"object"==typeof e&&null!==e&&e._isBigNumber?`BigNumber: ${e.toString()}`:"bigint"==typeof e?`bigint: ${e.toString()}`:e))};else if(a?.decodedCallInfo)l={to:a.decodedCallInfo.to,functionSelector:a.decodedCallInfo.functionSelector,from:a.decodedCallInfo.from};else if(n.length>0&&"object"==typeof n[0]&&n[0].to){const e=n[0];l={to:e.to,data:e.data?`${e.data.substring(0,10)}...`:"none",from:e.from||"default"}}else l=1===n.length&&"object"!=typeof n[0]?{value:n[0]}:{params:n};console.log("RPC Call Debug:",{method:c,displayParams:l,contractAddress:i,functionName:o,originalArgs:n}),p(c,l,i,o);try{let s;if(r){const a=e;s=await a[t](...n)}else{const a=e;s=await a[t](...n)}return s}finally{h()}}function w(e){return new Proxy(e,{get(e,t,n){const s=Reflect.get(e,t,n);if("function"==typeof s&&"string"==typeof t){const n=s;return async function(...s){if("connect"===t||"attach"===t||"on"===t||"off"===t||"once"===t||"emit"===t||"removeAllListeners"===t||"queryFilter"===t||"interface"===t)return n.apply(e,s);const a=e.target.toString(),r=y.Lb.generateCacheKey(t,s,a),i=y.vu[t],o=null!=i;if(o){const e=await y.Lb.get(r);if(null!==e&&"0x"!==e)return console.log(`Cache hit: ${t} on ${a}`),e}const c={contract:a,method:t,params:s.length>0?s:"none"};console.log("Smart Contract Call:",{contractAddress:a,method:t,args:s,displayInfo:c}),p(t,c,a,t);try{b(!0);const t=await n.apply(e,s);return o&&void 0!==t&&"0x"!==t&&null!==t&&await y.Lb.set(r,t,i,"contract"),t}finally{b(!1),h()}}}return s}})}let A=!1;function b(e){A=e}function E(e){return new Proxy(e,{get(e,t,n){const s=Reflect.get(e,t,n);if("function"==typeof s&&"string"==typeof t){const n=s;return["getBalance","getTransactionCount","getCode","getStorage","call","estimateGas","getBlock","getTransaction","getTransactionReceipt","getLogs","getNetwork","getFeeData","send"].includes(t)?async function(...s){if(A)return n.apply(e,s);if("call"===t&&s.length>0&&"object"==typeof s[0]){const n=s[0],a={to:n.to,from:n.from||"default"};return n.data&&n.data.length>=10&&(a.functionSelector=n.data.substring(0,10),a.encodedParams=n.data.substring(10)),g(e,t,s,{functionName:t,contractAddress:n.to,decodedCallInfo:a})}return g(e,t,s,{functionName:t})}:n.bind(e)}return s}})}},8426:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>M});var s=n(6955),a=n(6525),r=n(5854),i=n(9188),o=n(3643),c=n(417),l=n(8172),d=n(7882),u=n(415),p=n(4289),h=n(6907),f=n(1141);console.log("load utils");const m=document.getElementById("connectWallet"),y=document.getElementById("modalbase"),g=document.getElementById("closemodal"),w=document.getElementById("modalcontent");let A=!1;const b=async e=>{const t=(0,f.rm)(new s.FR(i.MP.RPC_URL)),n=await t.getCode(e);return"0x"!==n&&"0x0"!==n};g.addEventListener("click",(async()=>{E()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&E()}));const E=async(e="permawebList",t=[])=>{if(console.log(e),A)y.classList.remove("active"),A=!1;else if(y.classList.add("active"),A=!0,await B(),"replaceValue"==e)return function(e){console.dir(e),w.innerHTML="Replace Attrebute";const t=document.createElement("div"),n=h.Ay.makeInput("traittype","traittype","BaseInput","TRAIT TYPE");n.classList.add("w7p"),t.appendChild(n);const s=h.Ay.makeInput("submit","submitID","BaseSubmit","SET","SET");s.classList.add("w3p"),t.appendChild(s);const a=h.Ay.makeTextarea("attrvalue","BaseTextarea","VALUE","");return a.classList.add("wfull"),t.appendChild(a),w.appendChild(t),{setAttrForm:n,attrSet:s,setValForm:a}}(t)},v=()=>(new Date).toLocaleTimeString()+"."+(new Date).getMilliseconds(),k=async e=>{e=e.replace("ipfs://","https://ipfs.io/ipfs/"),console.log(v()+" fetchData:"+e);try{const t=await fetch(e);if(console.dir(t),!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(e){console.warn("There was a problem with the fetch operation:",e)}},C=e=>function(e,t){const n=Math.pow(10,4);return Math.round(e*n)/n}(Number(e)/1e18),T=async e=>{if(await p.Ay.checkToken(e)){const t=await p.Ay.checkToken(e),n=await u.Ay.getToken("name",t[1]),s=await u.Ay.getToken("tokenURI",t[1],t[2]),a=await k(s);return{eoa:e,ca:t[1],caName:n,tokenId:t[2],tokenUri:s,tokenInfo:a}}{let t="";return t=await b(e)?"ca":"eoa",{type:t}}},L=async e=>{let t="none";try{const n=await T(e),s=await l.A.getUserByEoa(e);return n.tokenUri?(t="tba",console.dir(n)):t=n.type,s.DiscordId&&(t="discordConnect"),{type:t,discordUser:s,tbaInfo:n,eoa:e}}catch(e){return console.error(e),{}}},x=async()=>{const e=await B();if(String(e.chainId)!=String(i.MP.BC_NETWORK_ID))m.innerHTML="PLEASE CONNECT "+i.MP.BC_NETWORK_NAME+" NETWORK ";else if(null!=e.eoa){m.innerHTML="";var t=document.createElement("div");t.classList.add("walletOwnerArea"),m.appendChild(t),L(e.eoa).then((e=>{"discordConnect"==e.type&&t.appendChild(d.Ay.dispDiscordUser(e.discordUser))})),m.appendChild(d.Ay.eoa(e.eoa,{link:"/account/"+e.eoa,target:"",icon:"copy"},"wallet")),m.appendChild(d.Ay.labeledElm("span",String(C(e.balance)),["fa-solid","fa-coins"])),document.getElementById("accountLink").href="/account/"+e.eoa;const n=document.getElementById("mobileAccountLink");n&&(n.href="/account/"+e.eoa),e.dpoint>0&&m.appendChild(d.Ay.labeledElm("span",String(e.dpoint),["fa-solid","fa-circle-dollar-to-slot"]))}else m.innerHTML="wallet not connected. please connect <a href='https://metamask.io/' target='_blank'>metamask</a>"},I=async()=>{try{await x()}catch(e){console.error("Error handling accountsChanged event:",e)}};async function B(){let e,t,n,s,r;if(window.ethereum&&window.ethereum.isMetaMask)try{const l=new a.k(window.ethereum),d=(0,f.rm)(l),u=await l.getSigner(),p=await d.getNetwork();if(e=String(p.chainId),e==i.MP.BC_NETWORK_ID){t=await u.getAddress(),n=await d.getBalance(t),s=p.name,"unknown"==s&&(s=i.MP.DEFAULT_SYMBOL);const e=await c.A.getCA("donate");r=await(0,o.AU)("balance",e,[])}window.ethereum.removeListener("accountsChanged",I),window.ethereum.removeListener("chainChanged",I),window.ethereum.on("accountsChanged",I),window.ethereum.on("chainChanged",I)}catch(e){console.info("wallet not connected")}return{chainId:e,eoa:t,balance:n,symbol:s,dpoint:r}}const M={isContract:b,getMaticPrice:async()=>{const e=new URLSearchParams({ids:"matic-network",vs_currencies:"usd,jpy"});try{const t=await fetch(`https://api.coingecko.com/api/v3/simple/price?${e.toString()}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json(),s=n["matic-network"].usd,a=n["matic-network"].jpy,r=1/s;return console.log(`1${r.toFixed(4)} MATIC`),console.log(`1MATIC${a.toFixed(4)} JPY`),{matic_usd:r.toFixed(4),jpy_matic:a.toFixed(4)}}catch(e){console.error(":",e)}},getMaticYen:async()=>{const e=new URLSearchParams({ids:"matic-network",vs_currencies:"jpy"});try{const t=await fetch(`https://api.coingecko.com/api/v3/simple/price?${e.toString()}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return 1/(await t.json())["matic-network"].jpy}catch(e){console.error(":",e)}},containsBrowserName:function(e){var t=navigator.userAgent.toLowerCase();return console.log(t.toLowerCase()),t.includes(e.toLowerCase())},checkMetamask:x,getLocalTime:v,sleep:e=>{if(e<1)return;const t=Date.now();for(;Date.now()-t<e;);},fetchData:k,isAddressesEqual:(e,t)=>null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase(),waiToEth:C,ethToWai:e=>BigInt(Math.round(1e18*e)),checkBalance:B,toggleModal:E,formatUnixTime:e=>{const t=new Date(Number(e));let n="";return n="en"==r.Q.lang?t.toLocaleDateString("en-GB",{timeZone:"UTC"})+" "+t.toLocaleTimeString("en-GB",{timeZone:"UTC"})+" GMT":t.toLocaleDateString("ja-JP",{timeZone:"Asia/Tokyo"})+" "+t.toLocaleTimeString("ja-JP",{timeZone:"Asia/Tokyo"})+" JST",n},openInNativeBrowser:function(e){window.open(e,"_blank")},getUserByEoa:L,getTbaInfoByEoa:T,shortname:(e,t,n)=>e.substring(0,t)+"..."+e.substring(e.length-n),addCopyButton:(e,t,n,s)=>{const a=document.createElement("span");a.id=t,a.classList.add(n),a.innerHTML="copy",a.classList.add("liteLink"),a.classList.add("copyLink"),a.setAttribute("data-clipboard-text",s);const r=document.createElement("i");a.appendChild(r),r.classList.add("far"),r.classList.add("fa-copy"),r.classList.add("fa-fw"),e.appendChild(a),document.getElementById(t).addEventListener("click",(function(e){console.log(t+":"+s)}))},isImageFile:function(e){return/\.(jpg|jpeg|png|gif|bmp|svg|webp)$/i.test(e)}}},9074:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});const s={manager:[{inputs:[{internalType:"address",name:"account",type:"address"}],name:"delAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"delCreator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"deleteContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"hiddenContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"hiddenCreator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"publicContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"publicCreator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"setAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"typename",type:"string"}],name:"setContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"typename",type:"string"}],name:"setContractInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"typename",type:"string"}],name:"setCreator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"typename",type:"string"}],name:"setCreatorInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"checkUser",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAdmins",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllContracts",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"bool[]",name:"",type:"bool[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCreators",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"bool[]",name:"",type:"bool[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getContract",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],orders:[{inputs:[{internalType:"address",name:"account",type:"address"}],name:"addAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"order",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"removeAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"orderNum",type:"uint256"},{internalType:"string",name:"url",type:"string"},{internalType:"string",name:"filename",type:"string"}],name:"setUrl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"orderNum",type:"uint256"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"string",name:"url",type:"string"}],name:"OrderPlaced",type:"event"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"admins",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getAssets",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"orderNum",type:"uint256"}],name:"getOrderDetails",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"eoa",type:"address"}],name:"getOrdersByEOA",outputs:[{internalType:"uint256[]",name:"orderNums",type:"uint256[]"},{internalType:"string[]",name:"orderFilenames",type:"string[]"},{internalType:"string[]",name:"orderUrls",type:"string[]"},{internalType:"uint256[]",name:"orderPrices",type:"uint256[]"},{internalType:"uint256[]",name:"orderDates",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastOrderNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],donate:[{inputs:[{internalType:"address",name:"account",type:"address"}],name:"addAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"donor",type:"address"},{internalType:"string",name:"detail",type:"string"}],name:"donate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"donor",type:"address"},{internalType:"string",name:"detail",type:"string"},{internalType:"uint256",name:"gasCashback",type:"uint256"}],name:"donate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"removeAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"donor",type:"address"},{internalType:"uint256",name:"usepoint",type:"uint256"}],name:"usePoint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_admins",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"_allTotalDonations",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_allUsedPoints",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_donationAmounts",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_donationDates",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"_donationHistory",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"date",type:"uint256"},{internalType:"string",name:"detail",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_donors",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"_lastDonateId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_lastUseId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_senders",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"_substituteDonationHistory",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"donor",type:"address"},{internalType:"uint256",name:"date",type:"uint256"},{internalType:"string",name:"detail",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_totalDonations",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_useDates",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_useDonors",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_usedPoints",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_usePoints",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"getDonationHistory",outputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"date",type:"uint256"},{internalType:"string",name:"detail",type:"string"}],internalType:"struct donateManage.Donation[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"getsubstituteDonationHistory",outputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"donor",type:"address"},{internalType:"uint256",name:"date",type:"uint256"},{internalType:"string",name:"detail",type:"string"}],internalType:"struct donateManage.SubstituteDonation[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"donor",type:"address"}],name:"latestPoint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"}],nft:[{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burnable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"donateManageAddress",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"INVERSE_BASIS_POINT",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"_creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"_creatorOnly",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"_lastTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"_usePoint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"metaUrl",type:"string"},{internalType:"uint256",name:"feeRate",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"metaUrl",type:"string"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"royalties",outputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint16",name:"feeRate",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"royaltyAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usePoint",type:"uint256"}],name:"setConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],tbaRegistry:[{inputs:[],name:"InitializationFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"uint256",name:"chainId",type:"uint256"},{indexed:!1,internalType:"address",name:"tokenContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"salt",type:"uint256"}],name:"AccountCreated",type:"event"},{inputs:[{internalType:"address",name:"implementation",type:"address"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"tokenContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salt",type:"uint256"}],name:"account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"implementation",type:"address"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"tokenContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes",name:"initData",type:"bytes"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"}],tbaAccount:[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"target",type:"address"},{indexed:!0,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"TransactionExecuted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"executeCall",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],bank:[{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"autoLoan",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"customer",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"faucetLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"magnification",type:"uint256"}],name:"setMagnification",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{stateMutability:"payable",type:"receive"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_credit",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_debit",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_income",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_magnification",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_pay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCredit",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDebit",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"}],gasless:[{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_income",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_lastNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_lastReceiver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"_lastSigner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"functionCall",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]}},2224:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var s=n(5854),a=n(6525),r=n(9188),i=n(6907);const o=document.getElementById("mainContents"),c={getUI:async()=>{const e=s.Q.params,t=document.createElement("div");t.classList.add("metadatabuilder"),o.appendChild(t);const n=document.createElement("div"),c=document.createElement("div");t.id="meta-section",n.id="meta-disp",c.id="meta-control",t.appendChild(n),t.appendChild(c);const l=document.createElement("H2");l.classList.add("controlLavel"),l.innerHTML="Regist EOA",c.appendChild(l);const d=i.Ay.makeInput("input","nameForm","BaseInput","SECRET");console.log("PARAM SET"+e[3]),d.value=e[3],d.classList.add("w7p"),c.appendChild(d);const u=i.Ay.makeInput("submit","submitID","BaseSubmit","REGIST","REGIST");u.classList.add("w3p"),c.appendChild(u),u.addEventListener("click",(async()=>{const t=await(async(e,t)=>{const n=new a.k(window.ethereum),s=await n.getSigner(),i={eoa:await s.getAddress(),discordId:e,secret:t},o=r.MP.BOT_API_URL+"regist";try{const e=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return await e.json()}catch(e){console.warn("There was a problem with the fetch operation:",e)}})(e[2],d.value);alert("check user result :"+t.message),console.dir(t),t.result&&(window.location.href="/")}))}}},3643:(e,t,n)=>{"use strict";n.d(t,{AU:()=>p,Ay:()=>h,ey:()=>u});var s=n(6955),a=n(2724),r=n(6525),i=n(9188),o=n(8426),c=n(9074),l=n(1141);const d=c.A.donate,u=async(e,t,n)=>{const r=i.MP.RPC_URL,c=(0,l.rm)(new s.FR(r)),u=(0,l.O2)(new a.NZ(t,d,c));try{if("total"==e){const e=await u.totalSupply().then((e=>e));return o.Ay.waiToEth(Number(e))}if("allTotalUsed"==e){const e=await u._allUsedPoints().then((e=>e));return o.Ay.waiToEth(Number(e))}if("allTotalDonation"==e){const e=await u._allTotalDonations().then((e=>e));return o.Ay.waiToEth(Number(e))}}catch(e){console.dir(e)}},p=async(e,t,n)=>{const s=new r.k(window.ethereum),i=((0,l.rm)(s),await s.getSigner().then((e=>(0,l.O2)(new a.NZ(t,d,e))))),c=await s.getSigner(),u=await c.getAddress();try{if("donate"==e)return await i.donate(n[0],n[2],n[3],{value:n[1]}).then((e=>e));if("balance"==e){const e=await i.balanceOf(u).then((e=>e));return o.Ay.waiToEth(Number(e))}if("total"==e){const e=await i.totalSupply().then((e=>e));return o.Ay.waiToEth(Number(e))}if("usedpoints"==e){const e=await i._usedPoints(u).then((e=>e));return o.Ay.waiToEth(Number(e))}if("totaldonations"==e){const e=await i._totalDonations(u).then((e=>e));return o.Ay.waiToEth(Number(e))}if("allTotalUsed"==e){const e=await i._allUsedPoints().then((e=>e));return o.Ay.waiToEth(Number(e))}if("allTotalDonation"==e){const e=await i._allTotalDonations().then((e=>e));return o.Ay.waiToEth(Number(e))}if("getDonationHistory"==e)return await i.getDonationHistory(u).then((e=>e));if("getsubstituteDonationHistory"==e)return await i.getsubstituteDonationHistory(u).then((e=>e));"list"==e&&console.log("test")}catch(e){console.dir(e)}},h={donate:p,getDonate:u}},8172:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var s=n(9188);const a={getDynamoApi:async e=>{const t=s.MP.BOT_API_URL+e;try{const e=await fetch(t);return console.log(t),console.dir(e),await e.json()}catch(e){console.warn("There was a problem with the fetch operation:",e)}},postDynamoApi:async(e,t)=>{const n=s.MP.BOT_API_URL+e;try{const e=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return console.log(n),console.dir(e),await e.json()}catch(e){console.warn("There was a problem with the fetch operation:",e)}},getUserByEoa:async e=>{const t=s.MP.BOT_API_URL+"member/"+e;try{const e=await fetch(t);return await e.json()}catch(e){console.warn("There was a problem with the fetch operation:",e)}}}},6793:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var s=n(5854),a=n(6525),r=n(9188),i=n(6907),o=n(8426);const c=document.getElementById("mainContents"),l={getUI:async()=>{const e=await o.Ay.checkBalance(),t=s.Q.params,n=document.createElement("div");n.classList.add("editorLink"),c.appendChild(n);const l=document.createElement("div"),d=document.createElement("div");n.id="meta-section",l.id="meta-disp",d.id="meta-control",n.appendChild(l),n.appendChild(d);const u=document.createElement("H2");u.classList.add("controlLavel"),u.innerHTML="Editor regist",d.appendChild(u);const p=i.Ay.makeInput("input","nameForm","BaseInput","SECRET");console.log("PARAM SET"+t[3]),p.value=t[3],p.classList.add("w7p"),d.appendChild(p);const h=i.Ay.makeInput("submit","submitID","BaseSubmit","LOGIN","LOGIN");h.classList.add("w3p"),d.appendChild(h),h.addEventListener("click",(async()=>{const n=await(async(e,t)=>{const n=new a.k(window.ethereum),s=await n.getSigner(),i={eoa:await s.getAddress(),discordId:e,secret:t},o=r.MP.BOT_API_URL+"regist";try{const e=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return await e.json()}catch(e){console.warn("There was a problem with the fetch operation:",e)}})(t[2],p.value);n.result?(console.log("id"+t[2]),console.log("eoa"+e.eoa),console.log("secret"+p.value),function(e,t){const n=document.createElement("form");n.method="POST",n.action=e;for(const e in t)if(t.hasOwnProperty(e)){const s=document.createElement("input");s.type="hidden",s.name=e,s.value=t[e],n.appendChild(s)}document.body.appendChild(n),n.submit()}(r.MP.ARTICLE_REPO+"login.php",{id:t[2],eoa:e.eoa,secret:p.value})):alert("check user result :"+n.message)}))}}},8625:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var s=n(6525),a=n(9188),r=n(6907),i=n(8426),o=n(415);const c=document.getElementById("mainContents"),l={getUI:async()=>{const e=await i.Ay.checkBalance();console.dir(e);const t=await o.Ay.getToken("balanceOf",a.MP.MEMBERSCARD_CA,e.eoa),n=document.createElement("div");n.classList.add("editorLink"),c.appendChild(n);const l=document.createElement("div");if(n.id="meta-section",l.id="meta-control",n.appendChild(l),Number(t)>0){const t=document.createElement("H2");t.classList.add("controlLavel"),t.innerHTML="BURN MEMBERS CARD",l.appendChild(t);const n=document.createElement("p");n.classList.add("controlLavel"),n.innerHTML="BURN",l.appendChild(n);var d=document.createElement("a");d.href="/account/"+e.eoa,d.innerHTML="SBTBURN",l.appendChild(d)}else i.Ay.getUserByEoa(e.eoa).then((t=>{if(console.log("discord id:"+t.discordUser.DiscordId),null!=t.discordUser.DiscordId){const n=document.createElement("H2");n.classList.add("controlLavel"),n.innerHTML="EOA disconnect",l.appendChild(n);const i=document.createElement("p");i.classList.add("controlLavel"),i.innerHTML="DiscordID:"+t.discordUser.DiscordId+"<br>EOA:"+e.eoa+"<br />",l.appendChild(i);const o=r.Ay.makeInput("submit","submitID","BaseSubmit","DISCONNECT","DISCONNECT");o.classList.add("w3p"),l.appendChild(o),o.addEventListener("click",(async()=>{const e=await(async e=>{if(confirm("?")){const t=new s.k(window.ethereum),n=await t.getSigner(),r={eoa:await n.getAddress(),discordId:e},i=a.MP.BOT_API_URL+"disconnect";try{const e=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return await e.json()}catch(e){console.warn("There was a problem with the fetch operation:",e)}}})(t.discordUser.DiscordId);console.dir(e),window.location.href="/disconnect"}))}else{const t=document.createElement("H2");t.classList.add("controlLavel"),t.innerHTML="EOA disconnect",l.appendChild(t);const n=document.createElement("p");n.classList.add("controlLavel"),n.innerHTML=e.eoa+"<br />DISCORD /regist  ",l.appendChild(n)}}))}}},417:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var s=n(6955),a=n(2724),r=n(9188),i=n(9074),o=n(1141);const c=async e=>{const t=i.A.manager,n=r.MP.RPC_URL,c=(0,o.rm)(new s.FR(n)),u=(0,o.O2)(new a.NZ(r.MP.MANAGER_CA,t,c));try{if("contracts"==e){const e=await u.getAllContracts().then((e=>e));return d(e)}if("creators"==e){const e=await u.getAllCreators().then((e=>e));return d(e)}if("admins"==e){const e=await u.getAdmins().then((e=>e));return l(e)}}catch(e){console.dir(e)}},l=e=>{let t=[];for(const n in e[0])t.push([e[0][n]]);return t},d=e=>{let t=[];for(const n in e[0])t.push([e[0][n],e[1][n],e[2][n],e[3][n]]);return t},u={getManager:c,getCA:async e=>(await c("contracts")).filter((function(t){return t[2]==e}))[0][0]}},5090:(e,t,n)=>{"use strict";n.d(t,{N:()=>h});var s=n(6955),a=n(2724),r=n(9188),i=n(8426),o=n(1141);const c=r.MP.RPC_URL,l=(0,o.rm)(new s.FR(c)),d=["function balanceOf(address owner) view returns (uint256)","function _lastTokenId() view returns (uint256)","function ownerOf(uint256 tokenId) view returns (address)","function tokenURI(uint256 tokenId) view returns (string)"],u=["function balanceOf(address owner) view returns (uint256)","function tokenOfOwnerByIndex(address owner, uint256 index) view returns (uint256)","function tokenURI(uint256 tokenId) view returns (string)"],p=["function balanceOf(address account, uint256 id) view returns (uint256)","function uri(uint256 id) view returns (string)"],h=(e,t,n)=>"721"==n?async function(e,t){const n=(0,o.O2)(new a.NZ(t,u,l));try{const t=await n.balanceOf(e);let s=[];for(let a=0;a<t;a++)try{const t=await n.tokenOfOwnerByIndex(e,a),r=await n.tokenURI(t);s.push({tokenId:t.toString(),tokenURI:r})}catch(e){console.error("Token 721 List get error :",e)}return s}catch(e){console.error("Error occurred:",e)}}(e,t):"1155"==n?async function(e,t,n){const s=(0,o.O2)(new a.NZ(t,p,l));let r=[];for(let t of n){const n=await s.balanceOf(e,t);if(n>0)try{const e=await s.uri(t);r.push({tokenId:t.toString(),balance:n.toString(),tokenURI:e})}catch(e){console.error("Token 1155 List get error :",e)}}return r}(e,t,Array.from({length:100},((e,t)=>t+1))):async function(e,t){const n=(0,o.O2)(new a.NZ(t,d,l));try{if(0==await n.balanceOf(e))return[];const t=await n._lastTokenId();let s=[];for(let a=t;a>0;a--)try{const t=await n.tokenURI(a),r=await n.ownerOf(a);i.Ay.isAddressesEqual(r,e)&&s.push({tokenId:a,owner:r,tokenURI:t})}catch(e){console.error("Token BIZNFT List get error :",e)}return s}catch(e){console.error("Error_occurred:",e)}}(e,t)},4289:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>w});var s=n(6955),a=n(2724),r=n(6525),i=n(9188),o=n(9074),c=n(8426),l=n(417),d=n(1141);const u=i.MP.RPC_URL,p=(0,d.rm)(new s.FR(u)),h=async()=>(await l.A.getManager("contracts")).filter((function(e){return"tba"==e[2]})),f=async(e,t,n,s,r,i)=>{const c=o.A.tbaRegistry,l=(0,d.O2)(new a.NZ(e,c,p));try{return await l.account(t,n,s,r,i).then((e=>e))}catch(e){console.dir(e)}},m=async e=>{const t=o.A.tbaAccount,n=(0,d.O2)(new a.NZ(e,t,p));return await n.owner().then((e=>e)).catch((()=>!1))},y=async e=>{if(!e)return!1;const t=o.A.tbaAccount;try{const n=(0,d.O2)(new a.NZ(e,t,p));return await n.token().then((e=>e)).catch((()=>!1))}catch(e){return console.warn("checkToken error:",e),!1}},g=async(e,t,n)=>{if(n>10)return console.log(e+" is too deep layer"+n),{result:!1,reason:"TOO_DEEP_"+n};if(!await c.Ay.isContract(e))return console.log(e+" is eoa"+e),{result:!0,eoa:e};const s=await y(e);if(t.ca==s[1]&&t.tokenId==s[2])return console.log(e+" is my own"),{result:!1,reason:"SEND_TO_LOOP"};const a=await m(e);return await g(a,t,n+1)},w={getTbaInfo:async(e,t)=>{var n=await h();const s=[];for(const a in n){console.dir(n[a]);const r=await f(n[a][1],n[a][0],i.MP.BC_NETWORK_ID,e,t,i.MP.TBA_SALT);s.push(r)}return s.length>1&&(alert("2TBA"),console.dir(s)),s.length>0?s[0]:null},getAddress:f,executeCall:async(e,t,n,s)=>{const i=o.A.tbaAccount,c=new r.k(window.ethereum),l=((0,d.rm)(c),await c.getSigner().then((t=>(0,d.O2)(new a.NZ(e,i,t)))));return await l.executeCall(t,n,s).then((e=>e)).catch((e=>{throw console.dir(e),new Error("can not control")}))},checkOwner:m,checkToken:y,createAccount:async(e,t)=>{var n=await h();const s=o.A.tbaRegistry,c=n[0][1],l=n[0][0],u=new r.k(window.ethereum),p=await u.getSigner().then((e=>(0,d.O2)(new a.NZ(c,s,e))));return await p.createAccount(l,i.MP.BC_NETWORK_ID,e,t,i.MP.TBA_SALT,"0x").catch((e=>{throw new Error("txCancelMes")}))},sendToEoaCheck:g}},415:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>y});var s=n(6955),a=n(2724),r=n(9188),i=n(9074),o=n(417),c=n(1141),l=n(1534);const d=i.A.nft,u=r.MP.RPC_URL,p=(0,c.rm)(new s.FR(u)),h=async(e,t,n)=>{const s=(0,c.O2)(new a.NZ(t,d,p));try{if("getInfo"==e)return await s.getInfo().then((e=>e));if("name"==e)return await s.name().then((e=>e));if("symbol"==e)return await s.symbol().then((e=>e));if("creatorOnly"==e)return await s._creatorOnly().then((e=>e));if("owner"==e)return await s._owner().then((e=>e));if("creator"==e)return await s._creator().then((e=>e));if("tokenAmount"==e)return await s._lastTokenId().then((e=>e));if("unlockPrice"==e)return await s._unlockPrice().then((e=>parseInt(e)/1e18));if("ownerOf"==e)return await s.ownerOf(n).then((e=>e));if("tokenURI"==e)return console.log("get Token URI"+t+":"+n),await s.tokenURI(n).then((e=>e));if("balanceOf"==e)return await s.balanceOf(n).then((e=>e));if("supportInterface"==e)return await s.supportInterface().then((e=>e));if("_locked"==e)return await s._locked(n).then((e=>e))}catch(n){return console.error("can't get tokenInfo"+t+":"+e),console.error("Error details:",n),null}},f=async e=>{const t=new a.NZ(e,d,p);try{return await t._usePoint().then((e=>parseInt(e)/1e18))}catch(e){console.dir(e)}},m=async(e,t,n)=>{const s=(0,c.O2)(new a.NZ(e,d,p));try{return await s.tokenOfOwnerByIndex(t,n).then((e=>e))}catch(e){console.dir(e)}},y={getToken:h,getTokenInfo:async e=>{try{return{ca:e,name:await h("name",e),creator:await h("creator",e),owner:await h("owner",e),creatorOnly:await h("creatorOnly",e),needPoint:await f(e)}}catch(e){console.dir(e)}},getCallData:async(e,t,n)=>(0,c.O2)(new a.NZ(e,d,p)).interface.encodeFunctionData(t,n),hasTokenList:async e=>{console.log("hasTokenList:"+e),(0,l.Pn)("NFT...");let t=[];try{const n=await o.A.getManager("contracts");let s=0,a=0;for(const e of n)"nft"==e[2]&&s++;for(const r of n)if("nft"==r[2]){a++;const n=r[0];(0,l.hf)(`NFT... (${a}/${s})`);for(let s=await h("balanceOf",n,e);s>0;s--){(0,l.hf)(`... ${n.slice(0,6)}...${n.slice(-4)} #${s}`);const a=await m(n,e,Number(s)-1),r=await h("name",n),i=await h("tokenURI",n,a);t.push({ca:n,tokenId:a,name:r,tokenUri:i})}}}finally{(0,l.IB)()}return console.log("hasTokenList:"+e+" END"),t}}},5403:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var s=n(5854),a=n(6525),r=n(9188),i=n(6907),o=n(7747),c=n(8426),l=n(2563);const d=document.getElementById("mainContents"),u={getUI:async()=>{const e=await c.Ay.checkBalance(),t=s.Q.params,n=document.createElement("div");n.classList.add("memberSbtLink"),d.appendChild(n);const u=document.createElement("div"),p=document.createElement("div");n.id="meta-section",u.id="meta-disp",p.id="meta-control",n.appendChild(u),n.appendChild(p);const h=document.createElement("H2");h.classList.add("controlLavel"),h.innerHTML="Mint Member SBT",p.appendChild(h);const f=document.createElement("p");f.innerHTML=r.MP.MEMBERSCARD_CA,p.appendChild(f);const m=await c.Ay.getUserByEoa(e.eoa);if(console.log("discordUser"),console.dir(m.discordUser.DiscordId),m.discordUser?.DiscordId!=t[2]){const e=document.createElement("p");e.innerHTML=(0,l.X)("DIFFERENT_USER"),p.appendChild(e)}else if(e.dpoint>=1){const n=i.Ay.makeInput("input","nameForm","BaseInput","SECRET");console.log("PARAM SET"+t[3]),n.value=t[3],n.classList.add("w7p"),p.appendChild(n);const s=i.Ay.makeInput("submit","submitID","BaseSubmit","MINT SBT","MINT SBT");s.classList.add("w3p"),p.appendChild(s),s.addEventListener("click",(async()=>{const s=await(async(e,t)=>{const n=new a.k(window.ethereum),s=await n.getSigner(),i={eoa:await s.getAddress(),discordId:e,secret:t},o=r.MP.BOT_API_URL+"regist";try{const e=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return await e.json()}catch(e){console.warn("There was a problem with the fetch operation:",e)}})(t[2],n.value);if(s.result)if(console.dir(s),console.log(r.MP.DISCORD_HOLDER_ROLL_ID),s.role.includes(r.MP.DISCORD_HOLDER_ROLL_ID)||s.role.includes(r.MP.DISCORD_HOLDER_ROLL_NAME)){alert((0,l.X)("MEMBER_SBT_ISSUE"));const n=await o.Ay.mint(r.MP.MEMBERSCARD_CA,e.eoa,t[2]);"success"==n?(alert((0,l.X)("WAIT_MINT_TX")),window.location.href="/account/"+e.eoa):null==n&&(alert((0,l.X)("MEMBER_SBT_EXIST")),window.location.href="/account/"+e.eoa)}else alert((0,l.X)("MEMBER_NOT_PARMITTED"));else alert("check user result :"+s.message)}))}else{const e=document.createElement("p");e.innerHTML=(0,l.X)("POINT_NOT_EXIST"),p.appendChild(e)}}}},4156:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>h});var s=n(8426),a=n(9188),r=n(2563),i=n(6907),o=n(9522);let c={name:"",description:"",image:"",attributes:[]};const l=document.getElementById("mainContents"),d=async()=>{const e=document.getElementById("meta-preview");e.innerHTML="",await o.Ay.showToken("metabuilder",c,"","",e,"",""),console.log("SetToken"),""!=c.name&&(e.style.display="block"),document.querySelectorAll(".attrControlLink").forEach((e=>{e.addEventListener("click",(()=>{const t=e.id.substring(5,7),n=parseInt(e.id.substring(8));p(n,t)}))}))},u=async()=>{const e=document.getElementById("traittype"),t=document.getElementById("attrvalue");""!=e.value&&""!=t.value&&(c.attributes.push({trait_type:e.value,value:t.value}),d())},p=async(e,t)=>{if("ed"==t){const t=await s.Ay.toggleModal("replaceValue",[e,c.attributes[e].trait_type,c.attributes[e].value]);t.setValForm.value=c.attributes[e].value,t.setAttrForm.value=c.attributes[e].trait_type,t.attrSet.addEventListener("click",(async()=>{c.attributes[e].trait_type=t.setAttrForm.value,c.attributes[e].value=t.setValForm.value,s.Ay.toggleModal(),d()}))}if("up"==t&&0!=e){let t=c.attributes[e],n=c.attributes[e-1];c.attributes[e]=n,c.attributes[e-1]=t}if("dw"==t&&e!=c.attributes.length-1){let t=c.attributes[e],n=c.attributes[e+1];c.attributes[e]=n,c.attributes[e+1]=t}"rm"==t&&confirm("")&&c.attributes.splice(e,1),d()},h={getUI:async()=>{const e=document.createElement("div");e.classList.add("metadatabuilder"),l.appendChild(e);const t=document.createElement("div"),n=document.createElement("div"),s=document.createElement("h2"),o=document.createElement("div");e.id="meta-section",t.id="meta-disp",n.id="meta-control",s.innerHTML="NFT PREVIEW",o.id="meta-preview",e.appendChild(t),e.appendChild(n),o.appendChild(s),e.appendChild(o),o.style.display="none";const p=document.createElement("H2");p.classList.add("controlLavel"),p.innerHTML="Metadata builder",n.appendChild(p);const h=i.Ay.makeInput("input","nameForm","BaseInput",(0,r.X)("METANAME"));h.classList.add("w7p"),n.appendChild(h);const f=i.Ay.makeFileSelect("fileimput","BaseSubmit",(0,r.X)("JSONLOAD"),"w3p");n.appendChild(f);const m=i.Ay.makeTextarea("description","BaseTextarea",(0,r.X)("DESCRIPTION"),"");m.classList.add("wfull"),n.appendChild(m);const y=i.Ay.makeInput("submit","jsonDownload","BaseSubmit",(0,r.X)("JSONDOWNLOAD"),(0,r.X)("JSONDOWNLOAD"));y.classList.add("wfull"),n.appendChild(y);const g=document.createElement("H3");g.classList.add("controlLavel"),g.innerHTML="Images",n.appendChild(g);const w=i.Ay.makeInput("input","imageUrl","BaseInput",(0,r.X)("MAINIMAGE"));w.classList.add("w7p"),n.appendChild(w);const A=i.Ay.makeInput("submit","submitID","BaseSubmit",(0,r.X)("OPENVAULT"),(0,r.X)("OPENVAULT"));A.classList.add("w3p"),n.appendChild(A),A.addEventListener("click",(async()=>{window.open(a.MP.METABUILDER_URL,"ArDriveWindow")}));const b=i.Ay.makeInput("input","animationUrl","BaseInput",(0,r.X)("MOVURL"));b.classList.add("wfull"),n.appendChild(b);const E=i.Ay.makeInput("input","externalUrl","BaseInput",(0,r.X)("EXTURL"));E.classList.add("wfull"),n.appendChild(E);const v=document.createElement("a");v.classList.add("litelink"),v.classList.add("mintlink"),v.href="/pict/",v.innerHTML=(0,r.X)("PICTTOOL"),n.appendChild(v);const k=document.createElement("a");k.classList.add("litelink"),k.classList.add("mintlink"),k.href=a.MP.METABUILDER_URL,k.innerHTML="ArDrive",k.target="_brank",n.appendChild(k);const C=document.createElement("a");C.classList.add("litelink"),C.classList.add("mintlink"),C.href="/json/sample.json",C.download="sample.json",C.innerHTML=(0,r.X)("JSONSAMPLE"),n.appendChild(C),f.addEventListener("input",(e=>{(e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;"application/json"==t.type?(n.onload=async()=>{const t=n.result;if(t){c=JSON.parse(t);try{document.getElementById("nameForm").value=c.name,document.getElementById("description").value=c.description,document.getElementById("imageUrl").value=c.image?c.image:"",document.getElementById("animationUrl").value=c.animation_url?c.animation_url:"",document.getElementById("externalUrl").value=c.external_url?c.external_url:""}catch(e){console.dir(e)}d()}else alert("");e.target.value=null},n.readAsText(t)):alert("json:"+t.type)})(e)})),y.addEventListener("click",(()=>{(()=>{const e=JSON.stringify(c),t=new Blob([e],{type:"application/json"}),n=window.URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.setAttribute("download",c.name+".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s)})()})),h.addEventListener("input",(e=>{const t=e.target;console.log("NAME:",t.value),console.dir(c),c.name=t.value,d()})),m.addEventListener("input",(e=>{const t=e.target;console.log("DESC:",t.value),console.dir(c),c.description=t.value,d()})),w.addEventListener("input",(e=>{const t=e.target;console.log("IMG :",t.value),c.image=t.value,d()})),b.addEventListener("input",(e=>{const t=e.target;console.log("IMG :",t.value),c.animation_url=t.value,d()})),E.addEventListener("input",(e=>{const t=e.target;console.log("IMG :",t.value),c.external_url=t.value,d()}));const T=document.createElement("H3");T.classList.add("controlLavel"),T.innerHTML=(0,r.X)("ATTRIBUTES"),n.appendChild(T);const L=i.Ay.makeInput("traittype","traittype","BaseInput",(0,r.X)("LABEL"));L.classList.add("w7p"),n.appendChild(L);const x=i.Ay.makeInput("submit","submitID","BaseSubmit","SET","SET");x.classList.add("w3p"),n.appendChild(x);const I=i.Ay.makeTextarea("attrvalue","BaseTextarea",(0,r.X)("VALUE"),"");I.classList.add("wfull"),n.appendChild(I),x.addEventListener("click",(()=>{u(),L.value="",I.value=""}))},setTokenData:d,setAttr:u,delAttr:p}},6037:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,h:()=>o});var s=n(6525),a=n(2724),r=n(9188),i=n(9074);const o=async(e,t)=>{try{const n=i.A.manager,o=new s.k(window.ethereum),d=await o.getSigner().then((e=>new a.NZ(r.MP.MANAGER_CA,n,e)));if("contracts"==e){const e=await d.getAllContracts().then((e=>e));return l(e)}if("creators"==e){const e=await d.getAllCreators().then((e=>e));return l(e)}if("getAdmins"==e){const e=await d.getAdmins().then((e=>e));return c(e)}if("setAdmin"==e)await d.setAdmin(t[0]).then((e=>e));else{if("delAdmin"==e)return await d.delAdmin(t[0]).then((e=>e));if("checkUser"==e)return await d.checkUser().then((e=>e)).catch((e=>(console.warn("checkUser error:",e),"none")))||"none";"hiddenCreator"==e?await d.hiddenCreator(t[0]).then((e=>e)):"publicCreator"==e?await d.publicCreator(t[0]).then((e=>e)):"setCreator"==e?await d.setCreator(t[0],t[1],t[2]).then((e=>e)):"delCreator"==e?await d.delCreator(t[0]).then((e=>e)):"setCreatorInfo"==e?await d.setCreatorInfo(t[0],t[1],t[2]).then((e=>e)):"hiddenContract"==e?await d.hiddenContract(t[0]).then((e=>e)):"publicContract"==e?await d.publicContract(t[0]).then((e=>e)):"setContract"==e?await d.setContract(t[0],t[1],t[2]).then((e=>e)):"deleteContract"==e?await d.deleteContract(t[0]).then((e=>e)):"setContractInfo"==e&&await d.setContractInfo(t[0],t[1],t[2]).then((e=>e))}}catch(e){console.dir(e)}},c=e=>{let t=[];for(const n in e[0])t.push([e[0][n]]);return t},l=e=>{let t=[];for(const n in e[0])t.push([e[0][n],e[1][n],e[2][n],e[3][n]]);return t},d={setManager:o}},7747:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c});var s=n(6525),a=n(2724),r=n(9074),i=n(2563),o=n(5267);const c={mint:async(e,t,n)=>{console.log("EOA : "+t),console.log("TOKENURI : "+n);const o=r.A.nft,c=new s.k(window.ethereum),l=await c.getSigner().then((t=>new a.NZ(e,o,t))),d=await c.getSigner();await d.getAddress();try{return await l.mint(t,n.trim()).then((()=>(alert((0,i.X)("WAIT_MINT_TX")),"success"))).catch((e=>{throw alert((0,i.X)("MINT_TX_STOP")),console.dir(e),new Error("txCancelMes")}))}catch(e){console.dir(e)}},send:async(e,t,n)=>{const i=r.A.nft,o=new s.k(window.ethereum),c=await o.getSigner().then((t=>new a.NZ(e,i,t))),l=await o.getSigner(),d=await l.getAddress();return await c.transferFrom(d,t,n).then((e=>e)).catch((e=>{throw console.dir(e),new Error("txCancelMes")}))},donatePoint:async e=>{console.log("DONTATIONS!!!");const t=r.A.nft,n=new s.k(window.ethereum),i=await n.getSigner().then((n=>new a.NZ(e,t,n)));try{return await i._usePoint().then((e=>e)).catch((e=>{throw console.dir(e),new Error("txCancelMes")}))}catch(e){console.dir(e)}console.log("DONTATIONS!!!")},burn:async(e,t)=>{const n=r.A.nft,i=new s.k(window.ethereum),c=await i.getSigner().then((t=>new a.NZ(e,n,t))),l=await i.getSigner(),d=await l.getAddress();return await c.burn(t).then((async e=>(await o.Lb.handleTokenBurn(t,d),console.log(`Cache invalidated for burned token: ${t}`),e))).catch((e=>{throw console.dir(e),new Error("txCancelMes")}))},burnable:async(e,t)=>{const n=r.A.nft;try{const r=new s.k(window.ethereum),i=await r.getSigner().then((t=>new a.NZ(e,n,t)));return await i.burnable(t).then((e=>e)).catch((e=>(console.dir(e),!1)))}catch(e){console.warn("setToken burnable check:",e)}},getSupportIf:async e=>{try{const t=r.A.nft,n=new s.k(window.ethereum),i=await n.getSigner().then((n=>new a.NZ(e,t,n)));await i.supportInterface().then((e=>e)).catch((e=>{throw console.dir(e),new Error("txCancelMes")}))}catch(e){console.dir(e)}}}},7043:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(417),a=n(415);const r=async e=>{let t=[];const n=await s.A.getManager("contracts");for(const s in n)e.includes(n[s][2])&&t.push(n[s]);return console.log("manageService.getAllContracts"),console.dir(t),t},i=async(e,t)=>{const n=await a.Ay.getTokenInfo(e);return n.creatorOnly&&n.creator!=t&&n.owner!=t?(console.log(n.name+" is not mintable"),console.dir(n),!1):n},o={getMintableContract:async e=>{await(200,new Promise((e=>setTimeout(e,200))));const t=await r(["sbt"]);let n=[];for(const s in t){console.log("getMintableContract: loop "+s+" CA "+t[s][0]);const a=await i(t[s][0],e);a&&n.push(a)}return console.log("manageService.getMintableContract"),console.dir(n),n},getAllContracts:r,getOwnTokens:async e=>{const t=await a.Ay.hasTokenList(e);return console.dir(t),t},checkMintable:i}},6604:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(4289),a=n(415),r=n(8426),i=n(7882);const o={showAccount:async(e,t,n)=>{{const o=document.createElement("div");if(o.classList.add("accountElm"),n.appendChild(o),t){const c=await s.Ay.checkToken(e),l=await a.Ay.getToken("tokenURI",c[1],c[2]),d=await r.Ay.fetchData(l),u=document.createElement("img");u.classList.add("ownerProfPictIcon"),u.src=d.image,"https://discord.com/assets/f9bb9c4af2b9c32a2c5ee0014661546d.png"==u.src&&(u.src="/img/alt.jpg"),o.appendChild(u);const p=document.createElement("div");p.classList.add("accountInfo"),n.appendChild(o),p.appendChild(i.Ay.span("TBA : ")),p.appendChild(i.Ay.eoa(e)),p.appendChild(i.Ay.br());const h=document.createElement("span");h.appendChild(i.Ay.span("NFT : ")),h.appendChild(i.Ay.link(d.name,c[1]+"/"+c[2])),p.appendChild(h),p.appendChild(i.Ay.br()),p.appendChild(i.Ay.span("NFT owner : ")),p.appendChild(i.Ay.eoa(t,{link:"/account/"+t,target:"",icon:"copy"})),p.appendChild(await i.Ay.discordByEoa(t,"span",{class:"doelm"})),o.appendChild(p)}else r.Ay.getUserByEoa(e).then((async t=>{if("discordConnect"==t.type){const n=document.createElement("img");n.classList.add("ownerProfPictIcon"),n.src=t.discordUser.Icon,"https://discord.com/assets/f9bb9c4af2b9c32a2c5ee0014661546d.png"==n.src&&(n.src="/img/alt.jpg"),o.appendChild(n);const s=document.createElement("div");s.classList.add("accountInfo"),s.appendChild(i.Ay.span("EOA : ")),s.appendChild(i.Ay.eoa(e)),s.appendChild(i.Ay.br()),s.appendChild(i.Ay.span("Discord :")),s.appendChild(i.Ay.getDiscordUserSnipet(t.discordUser,"span","discordNameDisp")),s.appendChild(i.Ay.br()),o.appendChild(s)}else{const t=document.createElement("div");t.classList.add("accountInfo"),t.appendChild(i.Ay.span("EOA : ")),t.appendChild(i.Ay.eoa(e)),t.appendChild(i.Ay.br()),o.appendChild(t)}}))}}}},2081:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{A:()=>b});var a=n(23),r=n(9188),i=n(5854),o=n(8897),c=n(4552),l=e([o]);o=(l.then?(await l)():l)[0];let d=c.h_,u=c._x;const p=document.getElementById("mainContents"),h={breaks:!0};let f=null;const m=async()=>{console.log("[article.ts] window.ENV:",window.ENV),console.log("[article.ts] CONST.ARTICLE_REPO:",r.MP.ARTICLE_REPO);const e=r.MP.ARTICLE_REPO+`smjson.php?n=${Date.now()}`;if(console.log("[article.ts] apiUrl:",e),f=await fetch(e).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})),f.system?.setting)for(let e of f.system.setting)e.setting?.page_dir&&(u=e.setting.page_dir,console.log(`replace pageDir: ${JSON.stringify(u)}`)),e.setting?.exclude_dir&&(d=e.setting.exclude_dir,console.log(`replace excludeDir: ${JSON.stringify(d)}`))};a.xI.setOptions(h);const y=async()=>{f||await m();const e=r.MP.ARTICLE_REPO+`smjson.php?n=${Date.now()}`,t=document.createElement("div");t.classList.add("contentsDirArea"),p.appendChild(t);var n=document.createElement("h2");n.classList.add("contentParentTitle"),n.textContent="Contents",t.appendChild(n);const s=document.createElement("div");s.classList.add("staticDirArea"),t.appendChild(s);const a=i.Q.lang+"/common/staticmenu",o=r.MP.BOT_API_URL+"contents/get/"+a;A(o,`${a}.md`,s),fetch(e).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{console.dir("DIR"+JSON.stringify(Object.keys(u[i.Q.lang]),null,2));const n=e[i.Q.lang],s=Object.keys(u[i.Q.lang]),a={};s.forEach((e=>{n[e]&&(a[e]=n[e])})),Object.keys(n).forEach((e=>{a[e]||(a[e]=n[e])})),Object.keys(a).forEach((e=>{if(!d.includes(e)){var n=document.createElement("h2");n.classList.add("contentDirTitle");var s=document.createElement("a");s.href="/contents/"+e,s.textContent=u[i.Q.lang][e],n.appendChild(s),t.appendChild(n);var r=document.createElement("div");r.classList.add("contentChildList"),t.appendChild(r);const c=a[e].filter((e=>e.setting&&void 0!==e.setting.lank)).sort(((e,t)=>e.setting.lank-t.setting.lank)).concat(a[e].filter((e=>!e.setting||void 0===e.setting.lank)));for(let t of c)if(console.log(`setting: ${JSON.stringify(t.setting)}`),!t.setting||"hidden"!=t.setting.index){var o=document.createElement("a");o.href=`/contents/${e}/${t.link}`,o.innerHTML=t.title,r.appendChild(o)}}}))})).catch((e=>{console.error("can't get directory",e)}))},g=async()=>{f||await m();const e=r.MP.BOT_API_URL,t=i.Q.getParams(),n=i.Q.lang;A(`${e}contents/get/${n}/${t}`,`${n}/${t}.md`)},w=async e=>{f||await m();try{return await fetch(`${r.MP.ARTICLE_REPO}${e}?n=${Date.now()}`).then((e=>e.text())).then((e=>(0,a.xI)(e))).catch((e=>console.error("Error fetching markdown:",e)))}catch(t){return console.error("Fetch operation failed:",t),"md file notfound md | "+e}},A=async(e,t,n)=>{f||await m();const s=`${r.MP.ARTICLE_REPO}edit.php?file=${t}`,a=`${r.MP.ARTICLE_REPO}viewer.php?file=${t}`,i=document.createElement("section");i.classList.add("articleSection"),null==n?p.appendChild(i):n.appendChild(i);const o=document.createElement("div");o.classList.add("articleArea"),i.appendChild(o),o.innerHTML=String(await w(t));const c=document.createElement("div");c.classList.add("articleArea");var l=document.createElement("a");l.classList.add("editorLink"),l.href=s,l.target="_blank",l.innerHTML="<i class='fa-solid fa-pen-to-square'></i> <span>EDIT MD FILE</span>&nbsp;&nbsp;",c.appendChild(l);var d=document.createElement("a");d.classList.add("editorLink"),d.href=a,d.target="_blank",d.innerHTML="<i class='fa-solid fa-pen-to-square'></i> <span>VIEW MD FILE</span>",c.appendChild(d),i.appendChild(c)},b={getMdSiteMap:y,getMdPath:g,getMdDir:async e=>{f||await m();const t=r.MP.ARTICLE_REPO+`smjson.php?n=${Date.now()}`,n=document.createElement("div");n.classList.add("contentsDirArea"),p.appendChild(n);var s=document.createElement("h2");s.classList.add("contentParentTitle");var a=document.createElement("a");a.href="/contents/",a.textContent="Contents",s.appendChild(a),n.appendChild(s);var c=document.createElement("h2");c.classList.add("contentDirTitle"),c.textContent=u[e],n.appendChild(c),fetch(t).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((t=>{const s=t[i.Q.lang][e],a=s.filter((e=>e.setting&&void 0!==e.setting.lank)).sort(((e,t)=>e.setting.lank-t.setting.lank)).concat(s.filter((e=>!e.setting||void 0===e.setting.lank)));for(let t of a)console.log(`setting: ${JSON.stringify(t.setting)}`),t.setting&&"hidden"==t.setting.index||(0,o.LA)(t,e,n)})).catch((e=>{console.error("can't get directory",e)}))},getMdContents:w,parseMdPage:A};s()}catch(e){s(e)}}))},8765:(e,t,n)=>{"use strict";n.d(t,{A:()=>s}),document.getElementById("mainContents");const s={setCaroucel:async(e,t)=>{const n=document.createElement("div");n.classList.add("caroucelArea");const s=document.createElement("h2");n.appendChild(s),s.innerHTML=e;const a=document.createElement("div");a.id="carousel",a.classList.add("carousel"),n.appendChild(a);const r=document.createElement("div");r.classList.add("carousel-container"),a.appendChild(r),t.forEach((e=>{const t=document.createElement("div");t.classList.add("carousel-item"),t.appendChild(e),r.appendChild(t)}));const i=document.createElement("div");i.classList.add("carousel-control"),n.appendChild(i);const o=document.createElement("button");o.classList.add("prev"),o.textContent="Prev",i.appendChild(o);const c=document.createElement("button");c.classList.add("next"),c.textContent="Next",i.appendChild(c);let l,d,u=0;function p(e){e<0?e=t.length-1:e>=t.length&&(e=0),u=e,r.style.transform=`translateX(-${100*u}%)`}return a.addEventListener("touchstart",(e=>{l=e.touches[0].clientX})),a.addEventListener("touchmove",(e=>{d=e.touches[0].clientX})),a.addEventListener("touchend",(()=>{l-d>50?p(u+1):d-l>50&&p(u-1)})),o.addEventListener("click",(()=>{p(u-1)})),c.addEventListener("click",(()=>{p(u+1)})),p(u),n}}},7882:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>d});var s=n(8172),a=n(2563),r=n(8426);const i=(e,t,n)=>{const s=document.createElement(t);null!=n&&s.classList.add(n);var a=document.createElement("img");a.src=e.tokenInfo.image,"https://discord.com/assets/f9bb9c4af2b9c32a2c5ee0014661546d.png"==a.src&&(a.src="/img/alt.jpg"),a.classList.add("walletOwnerIcon"),s.appendChild(a);const r=document.createElement("span");return r.innerHTML='<a href="tokens/'+e.ca+"/"+e.tokenId+'" target="_blank">'+e.caName+" #"+e.tokenId+"</a>",s.appendChild(r),s},o=(e,t,n)=>{const s=document.createElement(t);null!=n&&s.classList.add(n);var r=document.createElement("img");r.src=e.Icon,"https://discord.com/assets/f9bb9c4af2b9c32a2c5ee0014661546d.png"==r.src&&(r.src="/img/alt.jpg"),r.classList.add("walletOwnerIcon"),s.appendChild(r);const i=document.createElement("span");i.innerHTML=e.Name,s.appendChild(i);const o=document.createElement("span");o.id=e.DiscordId,o.classList.add("eoaCopy"),o.setAttribute("data-clipboard-text",e.DiscordId);const c=document.createElement("i");return c.classList.add("fa-brands","fa-discord"),o.appendChild(c),s.appendChild(o),o.onclick=()=>{const t=e.DiscordId;navigator.clipboard.writeText(t).then((()=>{alert(`DiscordId: ${t} ${(0,a.X)("COPYED")}`)})).catch((e=>{console.error((0,a.X)("COPYFAILED"),e)}))},s.appendChild(o),s},c=e=>e.substring(0,6)+"..."+e.substring(e.length-4),l={short:c,link:(e,t,n)=>{const s=document.createElement("a");return s.href=t,s.textContent=e,null!=n&&(null!=n.class&&s.classList.add(n.class),null!=n.target&&(s.target=n.target)),s},linkCopy:(e,t)=>{const n=document.createElement("div");n.classList.add("linkCopyElm");const s=document.createElement("span");s.id=e,s.classList.add("linkCopy");const r=document.createElement("i");return r.classList.add("far","fa-copy","fa-fw"),s.appendChild(r),n.appendChild(s),s.onclick=()=>{const n=e;navigator.clipboard.writeText(n).then((()=>{t?alert(t):alert(`${n} ${(0,a.X)("COPYED")}`)})).catch((e=>{console.error((0,a.X)("COPYFAILED"),e)}))},n.appendChild(s),n},eoa:(e,t={link:"",target:"_self",icon:"fa-copy"},n="none")=>{const{link:s,target:r,icon:i}=t,o=document.createElement("span"),c=e.substring(0,6)+"..."+e.substring(e.length-4);if("wallet"==n){const e=document.createElement("i");e.classList.add("fa-solid","fa-wallet"),o.appendChild(e)}if(s){const e=document.createElement("a");e.href=s,e.target=r,e.textContent=c,o.appendChild(e)}else o.textContent=c;const l=document.createElement("span");l.id=e,l.classList.add("eoaCopy"),l.setAttribute("data-clipboard-text",e);const d=document.createElement("i");return"bag"===i?d.classList.add("fa-solid","fa-shopping-bag"):d.classList.add("fa","fa-copy","fa-fw"),l.appendChild(d),o.appendChild(l),l.onclick=()=>{const t=e;navigator.clipboard.writeText(t).then((()=>{alert(`${t} ${(0,a.X)("COPYED")}`)})).catch((e=>{console.error((0,a.X)("COPYFAILED"),e)}))},o.appendChild(l),o},scan:(e,t,n)=>{const s=document.createElement("span");let a=e;e.length>13&&(a=e.substring(0,6)+"..."+e.substring(e.length-4)),s.innerHTML="<span class='"+n+"'>"+t+"</span> "+a+" ";const r=document.createElement("a");r.href="https://polygonscan.com/address/"+e,r.target="_blank";const i=document.createElement("i");return i.classList.add("far","fa-solid","fa-magnifying-glass"),r.appendChild(i),s.appendChild(r),s},dispTbaOwner:e=>i(e,"div","walletOwnerElement"),dispDiscordUser:e=>o(e,"div","walletOwnerElement"),getTbaOwnerSnipet:i,getDiscordUserSnipet:o,labeledElm:(e,t,n=[])=>{const s=document.createElement(e);if(n.length>0){const e=document.createElement("i");e.classList.add("labelIcon");for(let t in n)e.classList.add(n[t]);s.appendChild(e)}const a=document.createElement("span");return a.classList.add("labeledText"),a.innerHTML=t,s.appendChild(a),s},span:e=>{const t=document.createElement("span");return t.innerText=e,t},br:()=>document.createElement("br"),hr:()=>document.createElement("hr"),bold:e=>{const t=document.createElement("b");return t.innerText=e,t},thin:e=>{const t=document.createElement("span");return t.classList.add("thinText"),t.innerText=e,t},copyAction:e=>{navigator.clipboard.writeText(e).then((()=>{alert(`DiscordId: ${e} ${(0,a.X)("COPYED")}`)})).catch((e=>{console.error((0,a.X)("COPYFAILED"),e)}))},donateDetail:e=>{const t=document.createElement("span"),n=e.split(":");if(1==n.length)t.innerHTML="[ "+n[0]+" ]";else if("SEND TOKEN"==n[0]){const e=document.createElement("a"),s=n[1].split("/");e.href="/tokens/"+n[1],e.target="_brank",e.innerHTML="NFT:"+c(s[0])+"#"+s[1],t.appendChild(e)}return t},discordByEoa:async(e,t,n)=>{const a=await s.A.getUserByEoa(e);if(null==a.Name){const e=document.createElement(t);return e.innerHTML="not discord user",null!=n&&null!=n.class&&e.classList.add(n.class),e}const r=o(a,t);return null!=n&&null!=n.class&&r.classList.add(n.class),r},userTypeByEoa:async(e,t)=>(t.innerHTML="",await r.Ay.getUserByEoa(e).then((async n=>{let s="unknown";return console.log("check UserTypeByEoa"),console.dir(n),"tba"==n.type?(t.appendChild(l.dispTbaOwner(n.tbaInfo)),s=await r.Ay.getUserByEoa(e).then((e=>{let n="TBA";return"discordConnect"==e.type?(t.appendChild(l.dispDiscordUser(e.discordUser)),n="tba (discord user)"):"eoa"==e.type&&(t.appendChild(l.scan(e.eoa,"Final owner","unknownCa")),n="tba (unknown user)"),s}))):"discordConnect"==n.type?(t.appendChild(l.dispDiscordUser(n.discordUser)),s="discord user"):"eoa"==n.type?(t.appendChild(l.scan(n.eoa,"UNKNOWN EOA","unknownEoa")),s="end of address"):"ca"==n.type&&(t.appendChild(l.scan(n.eoa,"UNKNOWN CA","unknownCa")),s="contract address"),s})))},d=l},9522:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>f});var s=n(8426),a=n(2563),r=n(9188),i=n(5854),o=n(4289),c=n(6907),l=n(7747),d=n(415),u=n(7882);const p=document.getElementById("pageHeader"),h=(document.getElementById("pageFooter"),{showToken:async(e,t,n,a,r,i,c)=>{console.log("select type: "+e),console.dir(t),console.dir(i);const l=document.createElement("h1");l.textContent=t.name,r.appendChild(l);const d=document.createElement("p");d.innerHTML=t.description.replace(/\n/g,"<br />"),r.appendChild(d);const f=await o.Ay.checkOwner(n),m=await o.Ay.checkToken(n),y=document.createElement("p");if(y.classList.add("tokenOwnerInfo"),f){y.appendChild(u.Ay.span("ca: ")),y.appendChild(u.Ay.eoa(n,{link:"/account/"+n,target:"",icon:"copy"}));const e=document.createElement("span");e.innerHTML+=" <a class='parentTag' href='/account/"+f+"'> parent </a>",y.appendChild(e);const t=document.createElement("span");t.innerHTML+="<a class='tbaTag' href='/tokens/"+m[1]+"/"+m[2]+"'> token </a>",y.appendChild(t)}else n&&(y.appendChild(u.Ay.span("owner: ")),y.appendChild(u.Ay.eoa(n,{link:"/account/"+n,target:"",icon:"copy"})),await s.Ay.getUserByEoa(n).then((e=>{"tba"==e.type?y.appendChild(u.Ay.getTbaOwnerSnipet(e.tbaInfo,"span","discordNameDisp")):"discordConnect"==e.type&&y.appendChild(u.Ay.getDiscordUserSnipet(e.discordUser,"span","discordNameDisp"))})));i&&await o.Ay.checkOwner(i)&&(y.appendChild(u.Ay.span("  TBA ")),y.appendChild(u.Ay.eoa(i,{link:"/account/"+i,target:"",icon:"bag"}))),""!=n&&r.appendChild(y);const g=document.createElement("div");g.classList.add("nftImageArea"),r.appendChild(g);const w=document.createElement("img");w.classList.add("nftImage"),w.src=t.image,g.appendChild(w),t.animation_url&&fetch(t.animation_url).then((e=>{const n=e.headers.get("content-type");if("model/gltf-binary"==n){const e=document.createElement("a");e.target="blank",e.href="https://3d.bon-soleil.com/?src="+t.animation_url,g.appendChild(e);var s=document.createElement("i");s.classList.add("far","fa-solid","fa-cubes","cubeMark"),e.appendChild(s)}else{const e=document.createElement("a");e.target="blank",e.href="/viewer/?src="+t.animation_url+"&type="+n,g.appendChild(e);var a=document.createElement("i");a.classList.add("far","fa-solid","fa-film","cubeMark"),e.appendChild(a)}}));const A=document.createElement("div");A.classList.add("nftExternal"),A.style.display="none",r.appendChild(A),t.external_url&&fetch(t.external_url).then((e=>{A.style.display="block";const n=e.headers.get("content-type");if(n.startsWith("application/")){const e=document.createElement("a");e.href=t.external_url;var s=document.createElement("i");s.classList.add("far","fa-regular","fa-file-pdf","cubeMark"),t.animation_url&&s.classList.add("cubeMark2"),e.appendChild(s),g.appendChild(e)}else if(n.startsWith("image/")){const e=document.createElement("img");e.classList.add("nftMedia"),e.src=t.external_url,e.setAttribute("type",n),A.appendChild(e)}})).catch((e=>{console.error("Error:",e)}));const b=t.attributes,E=document.createElement("div");r.appendChild(E);for(const t in b){const n=document.createElement("h4");if(n.textContent=b[t].trait_type,"metabuilder"==e){const e=document.createElement("span");e.id="attr_ed_"+t,e.classList.add("litelink"),e.classList.add("attrControlLink"),e.textContent="EDIT",n.appendChild(e);const s=document.createElement("span");s.id="attr_up_"+t,s.classList.add("litelink"),s.classList.add("attrControlLink"),s.textContent="UP",n.appendChild(s);const a=document.createElement("span");a.id="attr_dw_"+t,a.classList.add("litelink"),a.classList.add("attrControlLink"),a.textContent="DOWN",n.appendChild(a);const r=document.createElement("span");r.id="attr_rm_"+t,r.classList.add("litelink"),r.classList.add("attrControlLink"),r.textContent="DEL",n.appendChild(r)}const s=document.createElement("p");s.id="attrebuteContent_"+t,console.log("ValueCheck:"+b[t].value),"http"==b[t].value.slice(0,4)?(E.appendChild(n),E.appendChild(s),fetch(b[t].value).then((e=>{const n=e.headers.get("content-type");if(n.startsWith("application/")){const e=document.createElement("object");e.classList.add("nftObject"),e.setAttribute("type",n),e.setAttribute("data",b[t].value),s.appendChild(e);var a=document.createElement("script");a.src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js",a.type="module",p.appendChild(a)}else if(n.startsWith("image/")){const e=document.createElement("img");e.classList.add("nftMedia"),e.src=b[t].value,e.setAttribute("type",n),s.appendChild(e)}})).catch((e=>{console.error("Error:",e)}))):(E.appendChild(n),E.appendChild(s),s.innerHTML=b[t].value.replace(/\n/g,"<br />"))}if(console.log(s.Ay.getLocalTime()+"  "+a),f){const e=await s.Ay.checkBalance();s.Ay.isAddressesEqual(f,e.eoa)&&"SBT"!=c&&(c.includes("SBT")&&alert("NFTSBT"),h.tbaSendForm(f,n,r))}},sendForm:e=>{c.Ay.setChild(e,"h2","Send NFT","ID_midashi2","CLASS_addclasses");const t=c.Ay.makeElement("p",(0,a.X)("SENDTOEOA"),null,"createdPelemBySetElement");e.appendChild(t);const n=document.createElement("div");e.appendChild(n);const r=c.Ay.makeInput("input","sendTo","BaseInput","(EOA)");r.classList.add("w7p"),e.appendChild(r);const d=c.Ay.makeInput("submit","submitID","BaseSubmit","SEND TOKEN","SEND TOKEN");return d.classList.add("w3p"),e.appendChild(d),r.addEventListener("input",(async e=>{n.innerHTML="",n.classList.remove("sendToUser");const t=i.Q.params,c=await o.Ay.sendToEoaCheck(r.value,{ca:t[2],tokenId:t[3]},0);if(!c.result)return alert((0,a.X)("CANTSEND")+" : "+c.reason),!1;""!=r.value&&s.Ay.getUserByEoa(r.value).then((e=>{n.classList.add("sendToUser"),"tba"==e.type?n.appendChild(u.Ay.dispTbaOwner(e.tbaInfo)):"discordConnect"==e.type?n.appendChild(u.Ay.dispDiscordUser(e.discordUser)):"eoa"==e.type?n.appendChild(u.Ay.scan(e.eoa,"UNKNOWN EOA","unknownEoa")):"ca"==e.type&&n.appendChild(u.Ay.scan(e.eoa,"UNKNOWN CA","unknownCa"))}))})),d.addEventListener("click",(async()=>{const e=i.Q.params,t=await o.Ay.sendToEoaCheck(r.value,{ca:e[2],tokenId:e[3]},0);if(!t.result)return alert((0,a.X)("CANTSEND")+" : "+t.reason),!1;if(confirm((0,a.X)("SENDNFTBEF")+r.value+(0,a.X)("SENDNFTAFT"))){const t=await l.Ay.send(e[2],r.value,e[3]);alert((0,a.X)("SENDED")),console.dir(t)}})),e},burnForm:e=>{const t=c.Ay.makeInput("submit","submitID","BaseSubmit","BURN","BURN");return t.classList.add("wfull"),e.appendChild(t),t.addEventListener("click",(async()=>{const e=i.Q.params;if("BURN"===prompt((0,a.X)("BURNNFT"))){const t=await l.Ay.burn(e[2],e[3]).then((()=>{alert((0,a.X)("BURNED"))})).catch((()=>{alert((0,a.X)("BURN_STOP"))}));console.dir(t)}else alert((0,a.X)("BURN_STOP"))})),e},tbaSendForm:(e,t,n)=>{const r=i.Q.params,l=r[2],p=r[3],h=document.createElement("p");n.appendChild(h),h.innerHTML="TBA CONTROL",h.appendChild(u.Ay.br()),h.appendChild(u.Ay.span("Account-Bound NFT: ")),h.appendChild(u.Ay.eoa(l,{link:"/tokens/"+l,target:"",icon:"fa-copy"})),h.appendChild(u.Ay.link(" #"+p,"/tokens/"+l+"/"+p)),h.appendChild(u.Ay.br()),h.appendChild(u.Ay.span("parent: ")),h.appendChild(u.Ay.eoa(e,{link:"/account/"+e,target:"",icon:"copy"})),h.appendChild(u.Ay.br()),h.appendChild(u.Ay.span("owner: ")),h.appendChild(u.Ay.eoa(t,{link:"/account/"+t,target:"",icon:"copy"}));const f=c.Ay.makeElement("p",(0,a.X)("SENDTOEOA"),null,"createdPelemBySetElement");n.appendChild(f);const m=document.createElement("div");n.appendChild(m);const y=c.Ay.makeInput("input","sendTo","BaseInput","(EOA)");y.classList.add("w7p"),n.appendChild(y);const g=c.Ay.makeInput("submit","submitID","BaseSubmit","SEND TOKEN","SEND TOKEN");g.classList.add("w3p"),n.appendChild(g),y.addEventListener("input",(async e=>{if(m.innerHTML="",m.classList.remove("sendToUser"),""!=y.value){m.classList.add("sendToUser");const e=await o.Ay.sendToEoaCheck(y.value,{ca:l,tokenId:p},0);if(!e.result)return alert((0,a.X)("CANTSEND")+" : "+e.reason),!1;s.Ay.getUserByEoa(y.value).then((t=>{"tba"==t.type?(m.appendChild(u.Ay.dispTbaOwner(t.tbaInfo)),s.Ay.getUserByEoa(e.eoa).then((t=>{"discordConnect"==t.type?m.appendChild(u.Ay.dispDiscordUser(t.discordUser)):"eoa"==t.type&&m.appendChild(u.Ay.scan(e.eoa,"Final owner","unknownCa"))}))):"discordConnect"==t.type?m.appendChild(u.Ay.dispDiscordUser(t.discordUser)):"eoa"==t.type?m.appendChild(u.Ay.scan(t.eoa,"UNKNOWN EOA","unknownEoa")):"ca"==t.type&&m.appendChild(u.Ay.scan(t.eoa,"UNKNOWN CA","unknownCa"))}))}})),g.addEventListener("click",(async()=>{const e=await o.Ay.sendToEoaCheck(y.value,{ca:l,tokenId:p},0);if(!e.result)return alert((0,a.X)("CANTSEND")+" : "+e.reason),!1;if(confirm((0,a.X)("SENDNFTBEF")+y.value+(0,a.X)("SENDNFTAFT"))){const e=[t,y.value,p],n=0,s=await d.Ay.getCallData(l,"transferFrom",e);console.log("CALLDATA:"+s);const r=await o.Ay.executeCall(t,l,n,s);console.log(r),alert((0,a.X)("SENDED"))}}))},mintForm:e=>{c.Ay.setChild(e,"h4","Mint Token","ID_midashi2","mintToolTitle");const t=c.Ay.makeElement("p",(0,a.X)("MINT_THE_TOKENURI"),null,"createdPelemBySetElement");e.appendChild(t);const n=c.Ay.makeInput("input","TokenURI","BaseInput","TokenURI");n.classList.add("w7p"),e.appendChild(n);const o=c.Ay.makeInput("submit","submitID","BaseSubmit","ArDrive","ArDrive");o.classList.add("w3p"),e.appendChild(o);const d=document.createElement("span");d.innerHTML=(0,a.X)("REQUIRE_META_URL"),d.classList.add("labelspan"),e.appendChild(d),e.appendChild(u.Ay.br()),o.addEventListener("click",(async()=>{window.open(r.MP.METABUILDER_URL,"ArDriveWindow")}));const p=document.createElement("div");e.appendChild(p);const f=c.Ay.makeInput("input","input4","BaseInput","EOA");f.classList.add("w7p"),e.appendChild(f);const m=c.Ay.makeInput("submit","submitID","BaseSubmit","MINT","MINT");m.classList.add("w3p"),e.appendChild(m);const y=document.createElement("div");y.classList.add("previewArea"),e.appendChild(y),f.addEventListener("input",(async e=>{p.innerHTML="",p.classList.remove("sendToUser"),""!=f.value&&s.Ay.getUserByEoa(f.value).then((e=>{p.classList.add("sendToUser"),"tba"==e.type?p.appendChild(u.Ay.dispTbaOwner(e.tbaInfo)):"discordConnect"==e.type?p.appendChild(u.Ay.dispDiscordUser(e.discordUser)):"eoa"==e.type?p.appendChild(u.Ay.scan(e.eoa,"UNKNOWN EOA","unknownEoa")):"ca"==e.type&&p.appendChild(u.Ay.scan(e.eoa,"UNKNOWN CA","unknownCa"))}))})),n.addEventListener("input",(async e=>{s.Ay.fetchData(n.value).then((async e=>{y.innerHTML="",h.showToken("pc_normal",e,"",n.value,y,"","")})).catch((()=>{alert(n.value+(0,a.X)("INVALID_TOKENURI"))}))})),m.addEventListener("click",(async()=>{const e=i.Q.params;let t="metaURI : "+n.value+"\n";t+="SEND TO : "+f.value+"\n";const r=await l.Ay.donatePoint(e[2]);if(r>0&&(t+=(0,a.X)("REQUIRE_DBIZ")+" : "+s.Ay.waiToEth(r)+" pt"),confirm(t)&&"tokens"==e[1]){console.log("setTokens mint : "+e[2]);const t=await l.Ay.mint(e[2],f.value,n.value);console.log("setTokens"+t),"success"==t&&(alert((0,a.X)("MINT_TX_SEND")),window.location.href="/tokens/"+e[2])}}))},tbaRegist:(e,t,n,s)=>{c.Ay.setChild(e,"h2","RegistTBA","ID_midashi2","CLASS_addclasses");const r=c.Ay.makeElement("p",(0,a.X)("TBA_MAKE"),null,"createdPelemBySetElement");e.appendChild(r);const i=c.Ay.makeInput("submit","submitID","BaseSubmit","TBA REGIST","TBA REGIST");i.classList.add("wfull"),e.appendChild(i),i.addEventListener("click",(async()=>{confirm((0,a.X)("ARE_YOU_TBA")+"\nToken info\n"+t+" #"+n)&&(await o.Ay.createAccount(t,n).then((()=>(alert((0,a.X)("TBA_ISSUE_SUCCESS")),"success"))).catch((e=>{throw console.dir(e),alert((0,a.X)("TBA_ISSUE_ABORT")),new Error("txCancelMes")})),window.location.href="/tokens/"+t+"/"+n)}))},makeForm:e=>{c.Ay.setChild(e,"h2","Make Form sample","ID_midashi2","CLASS_addclasses");const t=c.Ay.makeElement("p","Make Form sample",null,"createdPelemBySetElement");e.appendChild(t);const n=c.Ay.makeInput("input","input1","BaseInput","");n.classList.add("wfull"),e.appendChild(n),e.appendChild(u.Ay.br());const s=c.Ay.makeInput("input","input2","BaseInput","");s.classList.add("w5p"),e.appendChild(s);const a=c.Ay.makeInput("input","input3","BaseInput","");a.classList.add("w5p"),e.appendChild(a),e.appendChild(u.Ay.br());const r=c.Ay.makeInput("input","input4","BaseInput","");r.classList.add("w7p"),e.appendChild(r);const i=c.Ay.makeInput("submit","submitID","BaseSubmit","SETTING","");i.classList.add("w3p"),e.appendChild(i),i.addEventListener("click",(async()=>{confirm("are you ok?")&&console.log("")})),console.log("meta Attrebute")}}),f=h},8897:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Ay:()=>S,LA:()=>x});var a=n(415),r=n(2563),i=n(5090),o=n(8426),c=n(5854),l=n(9522),d=n(7882),u=n(6907),p=n(9188),h=n(417),f=n(4289),m=n(7747),y=n(3643),g=n(7043),w=n(6037);const A=document.getElementById("mainContents"),b=await w.A.setManager("checkUser");function E(e){return new Promise((t=>setTimeout(t,e)))}const v=async(e,t,n,s,a)=>{var r=document.createElement("div");r.classList.add("childNftArea"),r.id="child_nft_area_"+e,s.appendChild(r);const c=document.createElement("div");c.classList.add("floatClear"),s.appendChild(c),(0,i.N)(t,e).then((async t=>{if(t.length>0)for(const i in t){n.style.display="block",s.style.display="block",a.style.display="block";const c=t[i];var r=document.createElement("div");r.classList.add("childNft"),r.id="token_"+e+"_"+c.tokenId,document.getElementById("child_nft_area_"+e).appendChild(r),o.Ay.fetchData(c.tokenURI).then((t=>{console.log(`nftinfo 322 : ${JSON.stringify(t)}`);var n=document.createElement("a");n.href="/tokens/"+e+"/"+c.tokenId;var s=document.createElement("h4");s.classList.add("titleThumb"),s.textContent=t.name,n.appendChild(s);var a=document.createElement("div");a.classList.add("nftThumbSquare");var r=document.createElement("img");r.src=t.image,r.classList.add("nftThumb"),a.appendChild(r),f.Ay.getTbaInfo(e,c.tokenId).then((e=>{f.Ay.checkOwner(e).then((e=>{if(e){var t=document.createElement("i");t.classList.add("far","fa-solid","fa-bag-shopping","tbamark"),a.appendChild(t)}}))})),n.appendChild(a);var i=document.createElement("div");i.classList.add("childNftBg"),i.appendChild(n),document.getElementById("token_"+e+"_"+c.tokenId).appendChild(i),console.log(o.Ay.getLocalTime()+" "+c.tokenURI)}))}}))},k=async(e,t,n)=>{console.log("filtering:",n);var s=document.createElement("div");s.classList.add("childNftArea"),s.id="child_nft_area_"+t,e.appendChild(s);const r=document.createElement("div");r.classList.add("floatClear"),e.appendChild(r);for(let e=await a.Ay.getToken("tokenAmount",t,"");e>0;e--){await E(300);var i=document.createElement("div");i.classList.add("childNft"),i.id="token_"+t+"_"+e,document.getElementById("child_nft_area_"+t).appendChild(i),a.Ay.getToken("tokenURI",t,e).then((async n=>{if(null==n)console.log("undefined /tokens/"+t+"/"+e),document.getElementById("token_"+t+"_"+e).remove();else{const a=await o.Ay.fetchData(n).then((n=>{console.log(`nftinfo 392: ${JSON.stringify(n)}`);var s=document.createElement("a");s.href="/tokens/"+t+"/"+e;var a=document.createElement("h3");a.classList.add("titleThumb"),a.textContent=n.name,s.appendChild(a);var r=document.createElement("div");r.classList.add("nftThumbSquare");var i=document.createElement("img");return i.src=n.image,i.classList.add("nftThumb"),r.appendChild(i),f.Ay.getTbaInfo(t,e).then((e=>{f.Ay.checkOwner(e).then((e=>{if(e){var t=document.createElement("i");t.classList.add("far","fa-solid","fa-bag-shopping","tbamark"),r.appendChild(t)}}))})),s.appendChild(r),s}));var s=document.createElement("div");s.classList.add("childNftBg"),s.appendChild(a),document.getElementById("token_"+t+"_"+e).appendChild(s)}console.log(o.Ay.getLocalTime()+" "+n)}))}},C=async(e,t,n)=>{console.log(o.Ay.getLocalTime()+" DisplayOwns:");const s=document.createElement("div");s.classList.add("nftContractArea"),s.style.display="block";const r=document.createElement("div");r.style.display="block",r.classList.add("contractLinkList"),s.appendChild(r),e.appendChild(s);const i=document.createElement("h2");i.classList.add("ownTokenCaTitle"),i.style.display="none";const c=document.createElement("a");c.href="/tokens/"+p.MP.MEMBERSCARD_CA,c.textContent="MEMBERS CARD",i.appendChild(c),r.appendChild(i),v(p.MP.MEMBERSCARD_CA,n,s,r,i),document.createElement("div").classList.add("floatClear");const l=document.createElement("div");l.classList.add("nftContractArea"),l.style.display="none";const d=document.createElement("h3");d.textContent="NFT COLLECTIONS";const u=document.createElement("div");u.style.display="none",u.classList.add("contractLinkList"),l.appendChild(d),l.appendChild(u),e.appendChild(l);const h=document.createElement("div");h.classList.add("floatClear"),e.appendChild(h);const f=document.createElement("div");f.style.display="none",f.classList.add("sbtContractArea");const m=document.createElement("h3");m.textContent="SBT COLLECTIONS";const y=document.createElement("div");y.style.display="none",y.classList.add("contractLinkList"),e.appendChild(y),f.appendChild(m),f.appendChild(y),e.appendChild(f);const g=document.createElement("div");g.classList.add("floatClear"),e.appendChild(g);for(const e in t)if(await E(300),t[e][3]){if("nft"===t[e][2]){const s=await a.Ay.getToken("name",t[e][0]),r=document.createElement("h2");r.classList.add("ownTokenCaTitle"),r.style.display="none";const i=document.createElement("a");i.href="/tokens/"+t[e][0],i.textContent=s,r.appendChild(i),u.appendChild(r),v(t[e][0],n,l,u,r),document.createElement("div").classList.add("floatClear")}else if("sbt"===t[e][2]){const s=await a.Ay.getToken("name",t[e][0]),r=document.createElement("h2");r.classList.add("ownTokenCaTitle"),r.style.display="none";const i=document.createElement("a");i.href="/tokens/"+t[e][0],i.textContent=s,r.appendChild(i),y.appendChild(r),v(t[e][0],n,f,y,r),document.createElement("div").classList.add("floatClear")}}else console.log(o.Ay.getLocalTime()+""+t[e])},T=async(e,t)=>{const n=document.createElement("div");n.classList.add("nftContractArea"),n.style.display="none";const s=document.createElement("h3");s.textContent="NFT COLLECTIONS";const r=document.createElement("div");r.classList.add("contractLinkList"),n.appendChild(s),n.appendChild(r),A.appendChild(n);const i=document.createElement("div");i.classList.add("floatClear"),A.appendChild(i);const o=document.createElement("div");o.style.display="none",o.classList.add("sbtContractArea");const c=document.createElement("h3");c.textContent="SBT COLLECTIONS";const l=document.createElement("div");l.classList.add("contractLinkList"),A.appendChild(l),o.appendChild(c),o.appendChild(l),A.appendChild(o);const d=document.createElement("div");d.classList.add("floatClear"),A.appendChild(d);for(const s in e)I(e[s],t).then((async t=>{if(t){if("nft"===e[s][2]){const t=await a.Ay.getToken("name",e[s][0]);console.log("NFT add:"+e[s][1]),n.style.display="block";const i=document.createElement("h3");r.appendChild(i);const o=document.createElement("a");o.href="/tokens/"+e[s][0],o.innerHTML=t,i.appendChild(o);const c=document.createElement("span");i.appendChild(c),O(e[s][0],c),k(r,e[s][0],!1),document.createElement("div").classList.add("floatClear")}else if("sbt"===e[s][2]){const t=await a.Ay.getToken("name",e[s][0]);console.log("SBT add:"+e[s][1]),o.style.display="block";const n=document.createElement("h3");l.appendChild(n);const r=document.createElement("a");r.href="/tokens/"+e[s][0],r.innerHTML=t,n.appendChild(r);const i=document.createElement("span");n.appendChild(i),k(l,e[s][0],!1),document.createElement("div").classList.add("floatClear")}}else console.log(""+e[s])})),await E(100)},L=async(e,t)=>{const n=document.createElement("div");n.classList.add("nftContractArea"),n.style.display="none";const s=document.createElement("h4");s.textContent="NFT ASSETS";const a=document.createElement("div");a.classList.add("contractLinkList"),n.appendChild(s),n.appendChild(a),A.appendChild(n);const r=document.createElement("div");r.style.display="none",r.classList.add("sbtContractArea");const i=document.createElement("h4");i.textContent="SBT ASSETS";const o=document.createElement("div");o.classList.add("contractLinkList"),A.appendChild(o),r.appendChild(i),r.appendChild(o),A.appendChild(r);for(const s in e)I(e[s],t).then((t=>{if(t){if("nft"===e[s][2]){n.style.display="block";const t=document.createElement("div");t.classList.add("tokenLinkList"),a.appendChild(t);const r=document.createElement("h3");r.textContent=e[s][1],t.appendChild(r);const i=document.createElement("div");i.classList.add("nftAssetList"),t.appendChild(i),k(i,e[s][0],!1);const o=document.createElement("div");o.classList.add("floatClear"),i.appendChild(o)}else if("sbt"===e[s][2]){r.style.display="block";const t=document.createElement("div");t.classList.add("tokenLinkList"),o.appendChild(t);const n=document.createElement("h3");n.textContent=e[s][1],t.appendChild(n);const a=document.createElement("div");a.classList.add("sbtAssetList"),t.appendChild(a),k(a,e[s][0],!1);const i=document.createElement("div");i.classList.add("floatClear"),a.appendChild(i)}}else console.log(""+e[s])}))},x=(e,t,n)=>{const s=document.createElement("div");s.classList.add("cardContractArea"),n.appendChild(s);var a=document.createElement("a");a.href=`/contents/${t}/${e.link}`,s.appendChild(a);const r=document.createElement("img");""!=e.img?r.src=e.img:r.src="/img/dummy.jpg",a.appendChild(r);const i=document.createElement("div");i.classList.add("cardTextArea"),a.appendChild(i);const o=document.createElement("h2");o.textContent=e.title,i.appendChild(o);const l=document.createElement("p");if(e.setting&&(e.setting.auther&&(l.appendChild(d.Ay.span(" auther: ")),l.appendChild(d.Ay.thin(e.setting.auther))),e.setting.description&&(l.appendChild(d.Ay.span(" description: ")),l.appendChild(d.Ay.thin(e.setting.description)))),e.lastUpdate){const t=new Date(1e3*e.lastUpdate);l.appendChild(d.Ay.span(" last update: ")),"ja"==c.Q.lang?l.appendChild(d.Ay.thin(t.toLocaleString("ja-JP"))):l.appendChild(d.Ay.thin(t.toLocaleString("en-BG")))}i.appendChild(l)},I=async(e,t)=>!t||!!t(e),B=async(e,t)=>{const n=document.createElement("h2");n.classList.add("creatorDonatetitle"),n.innerHTML="CreatorDonate",e.appendChild(n);const s=document.createElement("p");s.classList.add("creatorDonatetitle"),s.innerHTML=(0,r.X)("DONATEMESSAGE"),e.appendChild(s);const i=await a.Ay.hasTokenList(t),l=u.Ay.makeSelect("nftSelect","BaseInput");l.classList.add("wfull");let g=[];for(const e in i){const t=document.createElement("option");t.value=e;const n=i[e],s=await o.Ay.fetchData(n.tokenUri);t.innerHTML=n.name+" #"+n.tokenId+" | "+s.name,l.appendChild(t),g.push(s)}const w=u.Ay.makeInput("input","sendTo","BaseInput",(0,r.X)("DONATEPRICE"));w.classList.add("w5p");const A=u.Ay.makeInput("input","sendTo","BaseInput",(0,r.X)("CASHBACK"));A.classList.add("w5p"),e.appendChild(document.createElement("br"));const b=u.Ay.makeInput("input","sendTo","BaseInput",(0,r.X)("DONOR"));b.classList.add("wfull");const E=document.createElement("div");E.classList.add("sendDonateNftArea");const v=document.createElement("div");v.classList.add("sendDonateFormArea"),v.appendChild(l);const k=document.createElement("div");k.classList.add("priceConfirmArea"),k.style.display="none",v.appendChild(k),v.appendChild(w),v.appendChild(A);const C=document.createElement("div");v.appendChild(C),v.appendChild(b);const T=u.Ay.makeInput("submit","submitID","BaseSubmit",(0,r.X)("SUBDONATE"),(0,r.X)("SUBDONATE"));T.classList.add("wfull"),v.appendChild(T);const L=document.createElement("div"),x=document.createElement("div");x.classList.add("sendDonateNftPreviewBg"),L.classList.add("sendDonateNftPreviewArea"),L.appendChild(x),E.appendChild(L),E.appendChild(v),e.appendChild(E);const I=async()=>{const e=await o.Ay.getMaticYen();if(null!=e){k.style.display="block",k.innerHTML="";const t=Number(w.value)*Number(e),n=Number(A.value)*Number(e);let s="<i class='fa-solid fa-money-check-dollar'></i> <span class='chkprice'>"+t.toFixed(4)+"</span> "+p.MP.DEFAULT_SYMBOL+" <i class='fa-solid fa-circle-left'></i> <span class='chkprice'>"+n.toFixed(4)+"</span> "+p.MP.DEFAULT_SYMBOL+"<br /><i class='fa-solid fa-money-check-dollar'></i> <span class='chkpricemini'>"+w.value+"</span> JPY  <i class='fa-solid fa-circle-left'></i> <span class='chkpricemini'>"+A.value+"</span> JPY  | <i class='fa-solid fa-calculator'></i> : <span class='chkpricemini'>"+e.toFixed(4)+"</span> "+p.MP.DEFAULT_SYMBOL+"/JPY";t/2<=n&&(s="",A.value=""),k.innerHTML=s}else k.style.display="block",k.innerHTML=""};w.addEventListener("change",(async e=>{Number(w.value)>0&&I()})),A.addEventListener("change",(async e=>{Number(A.value)>=0&&I()})),b.addEventListener("input",(async e=>{B()}));const B=async()=>{C.innerHTML="",C.classList.remove("sendToUser"),""!=b.value&&(C.classList.add("sendToUser"),o.Ay.getUserByEoa(b.value).then((async e=>{if("tba"==e.type){C.appendChild(d.Ay.dispTbaOwner(e.tbaInfo));const t=await f.Ay.sendToEoaCheck(e.tbaInfo.eoa,{ca:e.tbaInfo.ca,tokenId:e.tbaInfo.ca},0);if(!t.result)return alert((0,r.X)("CANTSEND")+" : "+t.reason),b.value="",C.innerHTML="",C.classList.remove("sendToUser"),!1;o.Ay.getUserByEoa(t.eoa).then((e=>{"discordConnect"==e.type?C.appendChild(d.Ay.dispDiscordUser(e.discordUser)):"eoa"==e.type&&C.appendChild(d.Ay.scan(t.eoa,"Final owner","unknownCa"))}))}else"discordConnect"==e.type?C.appendChild(d.Ay.dispDiscordUser(e.discordUser)):"eoa"==e.type?C.appendChild(d.Ay.scan(e.eoa,"UNKNOWN EOA","unknownEoa")):"ca"==e.type&&C.appendChild(d.Ay.scan(e.eoa,"UNKNOWN CA","unknownCa"))})))},N=async()=>{if(x.innerHTML="",g[l.value]){const e=document.createElement("img");e.classList.add("sendNftPreviewImg"),e.src=g[l.value].image,x.appendChild(e)}};if(l.addEventListener("change",(async e=>{N()})),c.Q.params[2]){for(const e in i)i[e].ca==c.Q.params[3]&&i[e].tokenId==c.Q.params[4]&&(l.value=e,N(),l.disabled=!0);b.value=c.Q.params[2],B()}M(e),T.addEventListener("click",(async()=>{(async()=>{if(""==w.value)return void alert((0,r.X)("MES1"));const e=await o.Ay.getMaticYen();if(null==e)return void alert((0,r.X)("MES2"));const t=Number(w.value)*Number(e),n=Number(A.value)*Number(e),s=await o.Ay.checkBalance();if(o.Ay.waiToEth(s.balance)<Number(t))return void alert(p.MP.DEFAULT_SYMBOL+(0,r.X)("NOT_ENOUGH"));if(t/2<=n)return void alert((0,r.X)("MES3"));const a="balance:"+o.Ay.waiToEth(s.balance)+"\nSEND TOKEN:"+g[l.value].name+"\nSEND TO:"+b.value+"\nVALUE:"+t+"\nCASHBACK:"+n;if(confirm(a)){console.log(a);const e=await h.A.getCA("donate"),s=await y.Ay.donate("donate",e,[b.value,String(o.Ay.ethToWai(t)+o.Ay.ethToWai(n)),"SEND TOKEN:"+i[l.value].ca+"/"+i[l.value].tokenId,String(o.Ay.ethToWai(n))]);if(console.dir(s),null!=s){alert(g[l.value].name+(0,r.X)("MES4"));const e=await m.Ay.send(i[l.value].ca,b.value,i[l.value].tokenId);null!=e&&(alert(g[l.value].name+(0,r.X)("MES5")),console.dir(e),window.location.href="/donate")}}})()}))},M=async e=>{const t=document.createElement("h2");t.classList.add("creatorDonatetitle"),t.innerHTML="CreatorDonateHistory",e.appendChild(t),await o.Ay.checkBalance();const n=document.createElement("p");n.classList.add("creatorDonatetitle"),n.innerHTML=(0,r.X)("SUBDONAHIST"),e.appendChild(n);const s=document.createElement("div");s.classList.add("creatorDonateHistory"),e.appendChild(s);const a=await h.A.getCA("donate"),i=await y.Ay.donate("getsubstituteDonationHistory",a);for(let e=i.length-1;e>=0;e--){const t=i[e],n=document.createElement("p");console.log(`SubDonateList ${t[2]}`),console.log(`unixTime : ${o.Ay.formatUnixTime(1e3*Number(t[2]))}`),n.appendChild(d.Ay.span(o.Ay.formatUnixTime(1e3*Number(t[2])))),n.appendChild(d.Ay.donateDetail(t[3])),n.appendChild(d.Ay.eoa(t[1])),await o.Ay.getUserByEoa(t[1]).then((e=>{"tba"==e.type?n.appendChild(d.Ay.getTbaOwnerSnipet(e.tbaInfo,"span","discordNameDisp")):"discordConnect"==e.type&&n.appendChild(d.Ay.getDiscordUserSnipet(e.discordUser,"span","discordNameDisp"))})),n.appendChild(d.Ay.span(o.Ay.waiToEth(t[0])+" "+p.MP.DEFAULT_SYMBOL)),s.appendChild(n)}},N=async(e,t)=>{o.Ay.checkBalance().then((async n=>{if(n.eoa){e.style.display="block";const s=await g.A.getMintableContract(n.eoa);R(e,s,t)}}))},R=async(e,t,n)=>{const s=u.Ay.makeSelect("nftSelect","BaseInput");s.classList.add("wfull");for(const e in t){const n=document.createElement("option");n.value=e;const a=t[e];n.innerHTML=a.name,a.needPoint&&(n.innerHTML+=" | <span class='needpoint'>"+a.needPoint+" pt</span>"),s.appendChild(n)}e.innerHTML="";const a=u.Ay.makeInput("input","tokenUri","BaseInput","tokenUri");a.classList.add("wfull");const i=document.createElement("div");i.classList.add("mintableFormArea"),i.appendChild(s),i.appendChild(a);const c=document.createElement("span");c.innerHTML=(0,r.X)("REQUIRE_META_URL"),c.classList.add("labelspan"),i.appendChild(c),i.appendChild(d.Ay.br());const h=document.createElement("div");h.style.display="none",h.classList.add("previewArea"),i.appendChild(h);const f=u.Ay.makeInput("submit","submitID","BaseSubmit","MINT","MINT");f.classList.add("w7p"),i.appendChild(f),e.appendChild(i);const y=u.Ay.makeInput("submit","submitID","BaseSubmit","ArDrive","ArDrive");y.classList.add("w3p"),i.appendChild(y),y.addEventListener("click",(async()=>{window.open(p.MP.METABUILDER_URL,"ArDriveWindow")})),s.addEventListener("change",(async()=>{const e=t[s.value],n=await o.Ay.checkBalance();console.dir(t[s.value]),n.dpoint<e.needPoint&&(alert((0,r.X)("NOT_ENOUGH_DBIZ")),s.value=(0,r.X)("SELECTMES"))})),f.addEventListener("click",(async()=>{const e=t[s.value];console.dir(e);let i=(0,r.X)("TRYING_TO_MINT")+"\nSEND TO : "+n+"\nNFT : "+e.name;if(e.needPoint>0&&(i+=(0,r.X)("REQUIRE_DBIZ")+" : "+e.needPoint+"pt"),confirm(i)){const t=await m.Ay.mint(e.ca,n,a.value);console.log("setTokens"+t),"success"==t&&(alert((0,r.X)("WAIT_MINT_TX")),window.location.href="/tokens/"+e.ca)}})),a.addEventListener("input",(async e=>{o.Ay.fetchData(a.value).then((async e=>{h.style.display="block",h.innerHTML="",l.Ay.showToken("pc_normal",e,"",a.value,h,"","")})).catch((()=>{h.style.display="none",alert(a.value+(0,r.X)("INVALID_TOKENURI"))}))}))},O=(e,t)=>{const n=document.createElement("a");t.appendChild(n),o.Ay.checkBalance().then((async t=>{t.eoa&&await g.A.checkMintable(e,t.eoa)&&(console.log(e+"is mintable"),n.classList.add("litelink"),n.classList.add("mintlink"),n.href="/tokens/"+e+"/mint",n.innerHTML="mint")}))},S={isNotConnect:async()=>{const e=document.createElement("h2");e.textContent="",A.appendChild(e);const t=document.createElement("p");t.innerHTML=" ",A.appendChild(t)},creatorDonateList:B,creatorDonateHistory:M,displayMintUI:async(e,t)=>{const n=await o.Ay.checkBalance(),s=await a.Ay.getTokenInfo(t[2]);console.dir(s),console.log("creatorOlny:"+s.creatorOnly);const i=document.createElement("p");i.innerHTML="<h2>"+s.name+" MINT PAGE</h2>",e.appendChild(i);let c=!0;console.dir(s.creatorOnly),!s.creatorOnly||o.Ay.isAddressesEqual(s.creator,n.eoa)||o.Ay.isAddressesEqual(s.owner,n.eoa)||(i.innerHTML+=(0,r.X)("CREATOR_ONLY"),c=!1),n.dpoint<s.needPoint&&(i.innerHTML+=(0,r.X)("NOT_ENOUGH_DBIZ")+s.needPoint+" pt",c=!1),n.chainId!=p.MP.BC_NETWORK_ID&&(i.innerHTML+="PLEASE CONNECT "+p.MP.BC_NETWORK_NAME+" NETWORK ",c=!1),c&&(s.needPoint>0&&(i.innerHTML+="<p> USE POINT:"+s.needPoint+" pt</p>"),l.Ay.mintForm(e))},displayToken:async(e,t,n,s,i)=>{console.log("displayToken:"+t+"/"+n);const h=document.createElement("div"),f=await a.Ay.getToken("tokenURI",t,n),y=await a.Ay.getToken("name",t,n),g=await a.Ay.getToken("symbol",t,n),w=await a.Ay.getToken("ownerOf",t,n),A=await m.Ay.burnable(t,n);h.classList.add("tokenUri_"+f.trim()),e.appendChild(h);const E=document.createElement("div");E.classList.add("TbaInfo"),e.appendChild(E);const v=await o.Ay.checkBalance(),k=document.createElement("p");i||null!=v.balance&&o.Ay.isAddressesEqual(w,v.eoa)&&l.Ay.tbaRegist(k,t,n,v.eoa),E.appendChild(k);const C=document.createElement("p");C.classList.add("tokenBreadCrumb"),h.appendChild(C);var T=document.createElement("a");T.href="/tokens/",T.textContent="NftCollection",C.appendChild(T);const L=document.createElement("span");L.textContent=" | ",C.appendChild(L);var x=document.createElement("a");x.href="/tokens/"+t,x.textContent=y,C.appendChild(x);const I=document.createElement("span");I.textContent=" #"+n,C.appendChild(I);var B=document.createElement("a");B.classList.add("openseaLink"),B.href="https://opensea.io/assets/matic/"+t+"/"+n,B.innerHTML='<i class="opensea">',B.target="_blank",C.appendChild(B);const M=p.MP.BOT_API_URL+"shop/eoa/"+w;try{const e=await fetch(M),s=await e.json(),a=JSON.parse(s.Json)[c.Q.lang];if(console.dir(s),1==s.Status){var N=document.createElement("div");N.classList.add("shopInfoArea");var R=document.createElement("h2");R.classList.add("shopTitle"),R.innerHTML=s.Type+" info : "+a.name,N.appendChild(R);var O=document.createElement("div");O.classList.add("shopMainArea");var S=document.createElement("div");S.classList.add("shopThumbSquare");var P=document.createElement("img");P.src=s.Imgurl,P.classList.add("shopThumb"),S.appendChild(P);var _=document.createElement("div");if(_.classList.add("shopDetail"),_.appendChild(d.Ay.labeledElm("p"," : "+a.workplace,["fa-solid","fa-shop"])),_.appendChild(d.Ay.labeledElm("p"," : "+a.location,["fa-solid","fa-location-dot"])),_.appendChild(d.Ay.labeledElm("p"," : "+a.station,["fa-solid","fa-train-subway"])),O.appendChild(S),O.appendChild(_),N.appendChild(O),w==v.eoa){var D=document.createElement("p");D.classList.add("askDiscordBot"),D.innerHTML="ask to Discord Bot : <b class='commandInline'>/getkey </b> nftinfo : <b class='commandInline'>"+o.Ay.shortname(t+"/"+n,6,6),D.appendChild(d.Ay.linkCopy(t+"/"+n)),N.appendChild(D)}else o.Ay.getUserByEoa(v.eoa).then((e=>{if("discordConnect"==e.type){const a=e.discordUser.Name,i=document.createElement("img");i.classList.add("discordIconMini"),i.src=e.discordUser.Icon;var s=document.createElement("p");const o=u.Ay.makeInput("input","transfarRequest","miniInput","password"),c=u.Ay.makeInput("submit","submitID","miniSubmit","REQUEST","REQUEST");s.classList.add("askDiscordBot"),s.appendChild(i),s.appendChild(d.Ay.span(a+(0,r.X)("ARE_YOU_BUYER"))),s.appendChild(o),s.appendChild(c),N.appendChild(s),c.addEventListener("click",(async()=>{const e=o.value,s=v.eoa;o.value="";const a=p.MP.BOT_API_URL+"transrequest",i={eoa:s,secret:e,ca:t,id:n};try{const e=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),t=await e.json();alert((0,r.X)(t.message))}catch(e){console.error("There was a problem with the fetch operation:",e)}}))}}));C.appendChild(N)}}catch(e){console.warn("There was a problem with the fetch operation:",e)}console.log(o.Ay.getLocalTime()+"  "+f),o.Ay.fetchData(f).then((async e=>{await l.Ay.showToken("pc_normal",e,w,f,h,s,g),console.log(o.Ay.getLocalTime()+"  "+f),null!=v.balance&&o.Ay.isAddressesEqual(w,v.eoa)&&("SBT"!=g&&(g.includes("SBT")&&alert("NFTSBT"),l.Ay.sendForm(h)),(A||"user"!=b&&null!=b)&&l.Ay.burnForm(h))}))},displayOwnTokens:v,displayTokens:k,displayManagedData:async(e,t,n)=>{const s=await h.A.getManager(e),a=document.createElement("h2");a.textContent=t,A.appendChild(a);const r=document.createElement("div");r.classList.add(e+"LinkList"),A.appendChild(r);for(const t in s)if(!n||n(s[t])){const n=document.createElement("a");n.href="/"+e+"/"+s[t][0],"admins"==e?n.textContent=s[t][0]:n.innerHTML="creators"==e?JSON.parse(s[t][1])[c.Q.lang]+"<span class='litelink'>"+s[t][2]+"<span>":s[t][1]+"<span class='litelink'>"+s[t][2]+"</span>",r.appendChild(n);const a=document.createElement("br");r.appendChild(a)}},displayOwns:C,displayTokenContracts:T,displayAssets:L,displayArticleCard:x,setMintableForm:N,mintableContractSelect:R,createMintLinkElm:O};s()}catch(P){s(P)}}),1)},8316:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{A:()=>p});var a=n(9188),r=n(8765),i=n(415),o=n(8426),c=n(5854),l=n(2081),d=n(8661),u=e([l]);l=(u.then?(await u)():u)[0],document.getElementById("mainContents");const p={getHome:async()=>{const e=document.createElement("div");return e.classList.add("homeContents"),(0,d.R)(),e},getHomeContents:async()=>{const e=c.Q.lang+"/common/home",t=a.MP.BOT_API_URL+"contents/get/"+e,n=`${e}.md`;l.A.parseMdPage(t,n)},getItems:async()=>{const e=[],t=a.MP.BOT_API_URL+"item";try{const a=await fetch(t),d=await a.json();for(const t in d){if(console.log("Items"+d[t].Status),0==d[t].Status)continue;const a=JSON.parse(d[t].Json)[c.Q.lang];console.log(d[t].Contract+" #"+d[t].TokenId);const r=await i.Ay.getToken("tokenURI",d[t].Contract,d[t].TokenId);let u;console.log("GET TOKEN URI:"+d[t].Contract+" #"+d[t].TokenId),null!=r&&(u=await o.Ay.fetchData(r).then((async e=>e))),console.log("NFTINFO"),console.dir(u);const p=document.createElement("div");p.id="slide_"+t,p.classList.add("carousel-item-bg");const h=document.createElement("div");h.classList.add("carousel-item-content"),p.appendChild(h);const f=document.createElement("h2");f.textContent=a.name,h.appendChild(f);const m=document.createElement("div");m.classList.add("contentDiv"),h.appendChild(m);const y=document.createElement("div");h.appendChild(y),m.appendChild(y);const g=document.createElement("div");g.classList.add("itemImgDiv");const w=document.createElement("img");if(w.classList.add("itemImg"),w.src=null!=u?u.image:"/img/dummy.jpg",g.appendChild(w),y.appendChild(g),console.dir(d[t]),1==d[t].Status){var n=document.createElement("a");n.classList.add("shopSiteLink"),n.href=d[t].Link,n.target="_blank",n.innerHTML='<i class="fa-solid fa-cart-shopping"></i> BUY NOW',y.appendChild(n)}if(null!=u){var s=document.createElement("a");s.classList.add("shopSiteLink"),s.href="/tokens/"+d[t].Contract+"/"+d[t].TokenId,s.target="_blank",s.innerHTML='<i class="fa-solid fa-gem"></i> NFT VIEW',y.appendChild(s);var l=document.createElement("a");l.classList.add("shopSiteLink"),l.href="https://opensea.io/assets/matic/"+d[t].Contract+"/"+d[t].TokenId,l.target="_blank",l.innerHTML='<i class="opensea"></i> opensea',y.appendChild(l)}const A=document.createElement("div");if(A.classList.add("itemTxtDiv"),m.appendChild(A),null!=u){const e=document.createElement("div");e.classList.add("carouselProfileArea"),A.appendChild(e);const t=document.createElement("p");t.classList.add("carouselProfileName"),t.textContent=u.name,e.appendChild(t);const n=document.createElement("p");n.classList.add("carouselProfile"),n.textContent=u.description,e.appendChild(n)}if(""!=d[t].Price){const e=document.createElement("p");e.innerHTML='<i class="fa-solid fa-money-check-dollar"></i> '+d[t].Price+" JPY",A.appendChild(e)}if(""!=a.owner){const e=document.createElement("p");e.innerHTML='<i class="fa-solid fa-user"></i> '+a.owner,A.appendChild(e)}if(""!=a.type){const e=document.createElement("p");e.innerHTML='<i class="fa-solid fa-splotch"></i> '+a.type,A.appendChild(e)}if(""!=a.genre){const e=document.createElement("p");e.innerHTML='<i class="fa-solid fa-star-of-life"></i> '+a.genre,A.appendChild(e)}if(""!=a.size||""!=a.weight){const e=document.createElement("p");e.innerHTML='<i class="fa-solid fa-weight-scale"></i> '+a.size+" / "+a.weight,A.appendChild(e)}if(""!=a.workplace){const e=document.createElement("p");e.innerHTML='<i class="fa-solid fa-shop"></i> '+a.workplace,A.appendChild(e)}if(""!=a.location){const e=document.createElement("p");e.innerHTML='<i class="fa-solid fa-location-dot"></i> '+a.location,A.appendChild(e)}if(""!=a.station){const e=document.createElement("p");e.innerHTML='<i class="fa-solid fa-train-subway"></i> '+a.station,A.appendChild(e)}e.push(p)}return r.A.setCaroucel("New Arrival",e)}catch(e){console.warn("There was a problem with the fetch operation:",e)}},getGallarys:async()=>{const e=[],t=a.MP.BOT_API_URL+"shop";try{const s=await fetch(t),a=await s.json();for(const t in a){if(0==a[t].Status)continue;const s=JSON.parse(a[t].Json)[c.Q.lang],r=document.createElement("div");r.id="slide_"+t,r.classList.add("carousel-item-bg");const i=document.createElement("div");i.classList.add("carousel-item-content"),r.appendChild(i);const o=document.createElement("h2");o.textContent=s.name,i.appendChild(o);const l=document.createElement("div");l.classList.add("contentDiv"),i.appendChild(l);const d=document.createElement("div");i.appendChild(d),l.appendChild(d);const u=document.createElement("div");u.classList.add("gallaryImgDiv");const p=document.createElement("img");p.classList.add("gallaryImg"),p.src=a[t].Imgurl,u.appendChild(p),d.appendChild(u);var n=document.createElement("a");n.classList.add("gallaryLink"),n.href="/creators/"+a[t].Eoa,n.innerHTML='<i class="fa-solid fa-door-open"></i> Gallary',d.appendChild(n);const h=document.createElement("div");h.classList.add("itemTxtDiv"),l.appendChild(h);const f=document.createElement("div");f.classList.add("carouselProfileArea");const m=document.createElement("p");m.classList.add("carouselProfile"),m.textContent=s.profile,f.appendChild(m),h.appendChild(f);const y=document.createElement("p");y.innerHTML='<i class="fa-solid fa-user"></i> '+s.name,h.appendChild(y);const g=document.createElement("p");g.innerHTML='<i class="fa-solid fa-shop"></i> '+s.workplace,h.appendChild(g);const w=document.createElement("p");w.innerHTML='<i class="fa-solid fa-location-dot"></i> '+s.location,h.appendChild(w);const A=document.createElement("p");A.innerHTML='<i class="fa-solid fa-train-subway"></i> '+s.station,h.appendChild(A),e.push(r)}return r.A.setCaroucel("Gallary",e)}catch(e){console.warn("There was a problem with the fetch operation:",e)}}};s()}catch(e){s(e)}}))},1534:(e,t,n)=>{"use strict";n.d(t,{IB:()=>r,Pn:()=>a,hf:()=>i});let s=null;function a(e="..."){if(s)return;s=document.createElement("div"),s.className="loading-spinner-overlay",s.style.cssText="\n    position: fixed;\n    bottom: 30px;\n    right: 0.6rem;\n    background: rgba(255, 255, 255, 0.1);\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    padding: 20px;\n    border-radius: 8px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.05);\n    z-index: 1200;\n    max-width: 300px;\n    opacity: 0;\n    transform: translateY(10px);\n    transition: opacity 0.3s ease-out, transform 0.3s ease-out;\n  ";const t=document.createElement("div");t.style.cssText="\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n  ";const n=document.createElement("div");n.className="spinner",n.style.cssText="\n    width: 30px;\n    height: 30px;\n    flex-shrink: 0;\n  ";const a=document.createElement("div");a.className="loading-message",a.style.cssText="\n    color: #cccccc;\n    font-size: 0.8rem;\n    font-weight: 500;\n  ",a.textContent=e,t.appendChild(n),t.appendChild(a),s.appendChild(t),document.body.appendChild(s),setTimeout((()=>{s.style.opacity="1",s.style.transform="translateY(0)"}),10)}function r(){s&&(s.style.opacity="0",s.style.transform="translateY(10px)",setTimeout((()=>{s&&(s.remove(),s=null)}),300))}function i(e){if(s){const t=s.querySelector(".loading-message");t&&(t.textContent=e)}}},3400:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var s=n(6037);const a={control1Set:async e=>{await(0,s.h)("checkUser")},control2Set:async(e,t)=>{"setadmin"!=e&&"deladmin"!=e&&"hiddencreator"!=e&&"publiccreator"!=e||!confirm(e+""+t)||await(0,s.h)(e,[t])},control3Set:async(e,t,n)=>{"setcreator"!=e&&"setcreatorinfo"!=e&&"setcontract"!=e&&"setcontractInfo"!=e||!confirm(e+""+t+n)||await(0,s.h)(e,[t,n])},control4Set:async(e,t,n,a)=>{"setcreator"!=e&&"setcreatorinfo"!=e&&"setcontract"!=e&&"setcontractInfo"!=e||!confirm(e+""+t+n+a)||await(0,s.h)(e,[t,n,a])}}},8661:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});const s=()=>{const e=navigator.userAgent.toLowerCase();return{isMobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e),isMetaMaskBrowser:e.includes("metamask"),hasMetaMaskExtension:"undefined"!=typeof window&&void 0!==window.ethereum&&!0===window.ethereum.isMetaMask,userAgent:e}};var a=n(2563),r=n(5854);const i=()=>{console.log("MetaMask Modal: Initializing..."),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()},o=()=>{console.log("MetaMask Modal: Checking browser...");const e=s();console.log("Browser Info:",e);const t=e.isMobile&&!e.isMetaMaskBrowser||!e.isMobile&&!e.hasMetaMaskExtension;console.log("Should show modal:",t),t&&c()},c=()=>{console.log("MetaMask Modal: Creating modal...");const e=document.getElementById("metamask-modal-simple");e&&e.remove();const t=document.createElement("div");t.id="metamask-modal-simple",t.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.8);\n    z-index: 10000;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  ";const n=document.createElement("div");n.style.cssText="\n    background-color: white;\n    border-radius: 12px;\n    padding: 50px;\n    max-width: 800px;\n    width: 90%;\n    position: relative;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n  ";const i=document.createElement("button");i.innerHTML="&times;",i.style.cssText="\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    background: none;\n    border: none;\n    font-size: 36px;\n    cursor: pointer;\n    color: #666;\n    width: 44px;\n    height: 44px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  ",i.onclick=()=>t.remove();const o=s(),c=r.Q.lang||"en",l=document.createElement("h2");l.style.cssText="\n    font-size: 42px;\n    margin-bottom: 24px;\n    color: #333;\n    font-weight: 600;\n    line-height: 1.2;\n  ";const d=document.createElement("p");d.style.cssText="\n    font-size: 36px;\n    line-height: 1.6;\n    color: #666;\n    margin-bottom: 32px;\n  ",o.isMobile?(l.textContent=a.l[c]?.metamask_mobile_title||"Access with MetaMask Browser",d.textContent=a.l[c]?.metamask_mobile_desc||"Please access this site using the MetaMask mobile app's built-in browser for the best experience."):(l.textContent=a.l[c]?.metamask_desktop_title||"MetaMask Extension Required",d.textContent=a.l[c]?.metamask_desktop_desc||"Please install the MetaMask browser extension to interact with this site.");const u=document.createElement("div");if(u.style.cssText="\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n  ",o.isMobile){const e=document.createElement("a");e.href=`https://metamask.app.link/dapp/${window.location.host}${window.location.pathname}?timestamp=${Date.now()}`,e.textContent=a.l[c]?.metamask_open_app||"Open in MetaMask",e.style.cssText="\n      padding: 20px 40px;\n      font-size: 36px;\n      border-radius: 8px;\n      border: none;\n      cursor: pointer;\n      text-align: center;\n      text-decoration: none;\n      background-color: #f6851b;\n      color: white;\n      font-weight: 500;\n      display: block;\n    ",u.appendChild(e)}else{const e=document.createElement("a");e.href="https://metamask.io/download/",e.target="_blank",e.textContent=a.l[c]?.metamask_download||"Download MetaMask",e.style.cssText="\n      padding: 20px 40px;\n      font-size: 36px;\n      border-radius: 8px;\n      border: none;\n      cursor: pointer;\n      text-align: center;\n      text-decoration: none;\n      background-color: #f6851b;\n      color: white;\n      font-weight: 500;\n      display: block;\n    ",u.appendChild(e)}const p=document.createElement("button");p.textContent=a.l[c]?.metamask_continue||"Continue Anyway",p.style.cssText="\n    padding: 20px 40px;\n    font-size: 36px;\n    border-radius: 8px;\n    border: 1px solid #ddd;\n    cursor: pointer;\n    text-align: center;\n    background-color: transparent;\n    color: #666;\n    font-weight: 500;\n    width: 100%;\n  ",p.onclick=()=>t.remove(),u.appendChild(p),n.appendChild(i),n.appendChild(l),n.appendChild(d),n.appendChild(u),t.appendChild(n),t.onclick=e=>{e.target===t&&t.remove()},document.body.appendChild(t),console.log("MetaMask Modal: Modal appended to body")}},6907:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var s=n(2563);const a={makeElement:(e,t,n,s)=>{const a=document.createElement(e);return n&&(a.id=n),s&&a.classList.add(s),a.innerText=t,a},makeInput:(e,t,n,s,a)=>{const r=document.createElement("input");return r.id=t,r.classList.add(n),r.setAttribute("type",e),r.setAttribute("placeholder",s),a&&r.setAttribute("value",a),r},makeTextarea:(e,t,n,s)=>{const a=document.createElement("textarea");return a.id=e,a.classList.add(t),a.innerText=s,a.placeholder=n,a},makeSelect:(e,t)=>{const n=document.createElement("select");n.id=e,n.classList.add(t);const a=document.createElement("option");return a.value=null,a.innerHTML=(0,s.X)("SELECTMES"),n.appendChild(a),n},makeFileSelect:(e,t,n,s)=>{const a=document.createElement("div"),r=document.createElement("label"),i=document.createElement("input");return a.classList.add("custom-file-div"),a.classList.add(s),r.setAttribute("for",e),r.classList.add(t),r.classList.add(s),r.textContent=n,i.type="file",i.id=e,i.className="custom-file-input",a.appendChild(r),a.appendChild(i),a},setChild:(e,t,n,s,a)=>{const r=document.createElement(t);return s&&(r.id=s),a&&r.classList.add(a),r.innerText=n,e.appendChild(r),r}}},477:()=>{},9190:(e,t,n)=>{"use strict";function s(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function a(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function r(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");s(e.outputLen),s(e.blockLen)}function i(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function o(e,t){a(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}n.d(t,{CG:()=>o,ai:()=>s,ee:()=>a,t2:()=>i,tW:()=>r})},9271:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>u,B4:()=>c,P5:()=>o,WM:()=>l,im:()=>d,lD:()=>i});const s=BigInt(2**32-1),a=BigInt(32);function r(e,t=!1){return t?{h:Number(e&s),l:Number(e>>a&s)}:{h:0|Number(e>>a&s),l:0|Number(e&s)}}function i(e,t=!1){let n=new Uint32Array(e.length),s=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:i,l:o}=r(e[a],t);[n[a],s[a]]=[i,o]}return[n,s]}const o=(e,t,n)=>e<<n|t>>>32-n,c=(e,t,n)=>t<<n|e>>>32-n,l=(e,t,n)=>t<<n-32|e>>>64-n,d=(e,t,n)=>e<<n-32|t>>>64-n,u={fromBig:r,split:i,toBig:(e,t)=>BigInt(e>>>0)<<a|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:o,rotlSL:c,rotlBH:l,rotlBL:d,add:function(e,t,n,s){const a=(t>>>0)+(s>>>0);return{h:e+n+(a/2**32|0)|0,l:0|a}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,s)=>t+n+s+(e/2**32|0)|0,add4L:(e,t,n,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0),add4H:(e,t,n,s,a)=>t+n+s+a+(e/2**32|0)|0,add5H:(e,t,n,s,a,r)=>t+n+s+a+r+(e/2**32|0)|0,add5L:(e,t,n,s,a)=>(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0)+(a>>>0)}},2531:(e,t,n)=>{"use strict";n.d(t,{Vw:()=>d,Id:()=>l,O8:()=>i,po:()=>p,Ow:()=>o,ZJ:()=>c,DH:()=>r,ld:()=>u});const s="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,a=e=>e instanceof Uint8Array,r=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),i=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),o=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function c(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!a(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function l(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!a(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}class d{clone(){return this._cloneInto()}}function u(e){const t=t=>e().update(c(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function p(e=32){if(s&&"function"==typeof s.getRandomValues)return s.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},5273:(e,t,n)=>{"use strict";n.d(t,{y:()=>S});var s=n(5309),a=n(1228),r=n(31),i=n(7033),o=n(9353);class c extends a.Ue{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=o.V.dereference(t,"string");try{n=(0,r.b)(n)}catch(e){return this._throwError(e.message,t)}return e.writeValue(n)}decode(e){return(0,r.b)((0,i.up)(e.readValue(),20))}}var l=n(8081);class d extends a.Ue{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function u(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let e={};r=t.map((t=>{const a=t.localName;return(0,s.vA)(a,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),(0,s.vA)(!e[a],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[a]=!0,n[a]}))}else(0,s.MR)(!1,"invalid tuple value","tuple",n);(0,s.MR)(t.length===r.length,"types/value length mismatch","tuple",n);let i=new a.AU,o=new a.AU,c=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=o.length;e.encode(o,n);let s=i.writeUpdatableValue();c.push((e=>{s(e+t)}))}else e.encode(i,n)})),c.forEach((e=>{e(i.length)}));let l=e.appendWriter(i);return l+=e.appendWriter(o),l}function p(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach((t=>{let a=null;if(t.dynamic){let n=e.readIndex(),r=i.subReader(n);try{a=t.decode(r)}catch(e){if((0,s.bJ)(e,"BUFFER_OVERRUN"))throw e;a=e,a.baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if((0,s.bJ)(e,"BUFFER_OVERRUN"))throw e;a=e,a.baseType=t.name,a.name=t.localName,a.type=t.type}if(null==a)throw new Error("investigate");n.push(a),r.push(t.localName||null)})),a.Q7.fromItems(n,r)}class h extends a.Ue{coder;length;constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),(0,l.n)(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=o.V.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let a=this.length;-1===a&&(a=n.length,e.writeValue(n.length)),(0,s.dd)(n.length,a,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let e=0;e<n.length;e++)r.push(this.coder);return u(e,r,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),(0,s.vA)(t*a.Yx<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*a.Yx,length:e.dataLength}));let n=[];for(let e=0;e<t;e++)n.push(new d(this.coder));return p(e,n)}}class f extends a.Ue{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=o.V.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}var m=n(6212);class y extends a.Ue{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=(0,m.Lm)(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class g extends y{constructor(e){super("bytes",e)}decode(e){return(0,m.c$)(super.decode(e))}}class w extends a.Ue{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),(0,l.n)(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=(0,m.Lm)(o.V.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return(0,m.c$)(e.readBytes(this.size))}}const A=new Uint8Array([]);class b extends a.Ue{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(A)}decode(e){return e.readBytes(0),null}}const E=BigInt(0),v=BigInt(1),k=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class C extends a.Ue{size;signed;constructor(e,t,n){const s=(t?"int":"uint")+8*e;super(s,s,n,!1),(0,l.n)(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=(0,i.Ab)(o.V.dereference(t,this.type)),s=(0,i.dK)(k,8*a.Yx);if(this.signed){let e=(0,i.dK)(s,8*this.size-1);(n>e||n<-(e+v))&&this._throwError("value out-of-bounds",t),n=(0,i.JJ)(n,8*a.Yx)}else(n<E||n>(0,i.dK)(s,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=(0,i.dK)(e.readValue(),8*this.size);return this.signed&&(t=(0,i.ST)(t,8*this.size)),t}}var T=n(7303);class L extends y{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,T.YW)(o.V.dereference(t,"string")))}decode(e){return(0,T._v)(super.decode(e))}}class x extends a.Ue{coders;constructor(e,t){let n=!1;const s=[];e.forEach((e=>{e.dynamic&&(n=!0),s.push(e.type)})),super("tuple","tuple("+s.join(",")+")",t,n),(0,l.n)(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,s)=>{let a=n.localName;a&&1===t[a]&&("length"===a&&(a="_length"),null==e[a]&&(e[a]=e[s]))})),Object.freeze(e)}encode(e,t){const n=o.V.dereference(t,"tuple");return u(e,this.coders,n)}decode(e){return p(e,this.coders)}}var I=n(6124);const B=new Map;B.set(0,"GENERIC_PANIC"),B.set(1,"ASSERT_FALSE"),B.set(17,"OVERFLOW"),B.set(18,"DIVIDE_BY_ZERO"),B.set(33,"ENUM_RANGE_ERROR"),B.set(34,"BAD_STORAGE_DATA"),B.set(49,"STACK_UNDERFLOW"),B.set(50,"ARRAY_RANGE_ERROR"),B.set(65,"OUT_OF_MEMORY"),B.set(81,"UNINITIALIZED_FUNCTION_CALL");const M=new RegExp(/^bytes([0-9]*)$/),N=new RegExp(/^(u?int)([0-9]*)$/);let R=null,O=1024;class S{#e(e){if(e.isArray())return new h(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new x(e.components.map((e=>this.#e(e))),e.name);switch(e.baseType){case"address":return new c(e.name);case"bool":return new f(e.name);case"string":return new L(e.name);case"bytes":return new g(e.name);case"":return new b(e.name)}let t=e.type.match(N);if(t){let n=parseInt(t[2]||"256");return(0,s.MR)(0!==n&&n<=256&&n%8==0,"invalid "+t[1]+" bit length","param",e),new C(n/8,"int"===t[1],e.name)}if(t=e.type.match(M),t){let n=parseInt(t[1]);return(0,s.MR)(0!==n&&n<=32,"invalid bytes length","param",e),new w(n,e.name)}(0,s.MR)(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#e(I.aX.from(e))));return new x(t,"_").defaultValue()}encode(e,t){(0,s.dd)(t.length,e.length,"types/values length mismatch");const n=e.map((e=>this.#e(I.aX.from(e)))),r=new x(n,"_"),i=new a.AU;return r.encode(i,t),i.data}decode(e,t,n){const s=e.map((e=>this.#e(I.aX.from(e))));return new x(s,"_").decode(new a.mP(t,n,O))}static _setDefaultMaxInflation(e){(0,s.MR)("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),O=e}static defaultAbiCoder(){return null==R&&(R=new S),R}static getBuiltinCallException(e,t,n){return function(e,t,n,a){let i="missing revert data",o=null,c=null;if(n){i="execution reverted";const e=(0,m.q5)(n);if(n=(0,m.c$)(n),0===e.length)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(e.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===(0,m.c$)(e.slice(0,4)))try{o=a.decode(["string"],e.slice(4))[0],c={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch(e){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===(0,m.c$)(e.slice(0,4)))try{const t=Number(a.decode(["uint256"],e.slice(4))[0]);c={signature:"Panic(uint256)",name:"Panic",args:[t]},o=`Panic due to ${B.get(t)||"UNKNOWN"}(${t})`,i+=`: ${o}`}catch(e){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:t.to?(0,r.b)(t.to):null,data:t.data||"0x"};return t.from&&(l.from=(0,r.b)(t.from)),(0,s.xz)(i,"CALL_EXCEPTION",{action:e,data:n,reason:o,transaction:l,invocation:null,revert:c})}(e,t,n,S.defaultAbiCoder())}}},1228:(e,t,n)=>{"use strict";n.d(t,{AU:()=>m,Q7:()=>p,Ue:()=>f,Yx:()=>o,mP:()=>y});var s=n(7033),a=n(5309),r=n(6212),i=n(8081);const o=32,c=new Uint8Array(o),l=["then"],d={};function u(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}class p extends Array{#t;constructor(...e){const t=e[0];let n=e[1],a=(e[2]||[]).slice(),r=!0;t!==d&&(n=e,a=[],r=!1),super(n.length),n.forEach(((e,t)=>{this[t]=e}));const i=a.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(this.#t=Object.freeze(n.map(((e,t)=>{const n=a[t];return null!=n&&1===i.get(n)?n:null}))),r)return Object.freeze(this),new Proxy(this,{get:(e,t,n)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){const n=(0,s.WZ)(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const a=e[n];return a instanceof Error&&u(`index ${n}`,a),a}if(l.indexOf(t)>=0)return Reflect.get(e,t,n);const a=e[t];if(a instanceof Function)return function(...t){return a.apply(this===n?e:this,t)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}})}toArray(e){const t=[];return this.forEach(((n,s)=>{n instanceof Error&&u(`index ${s}`,n),e&&n instanceof p&&(n=n.toArray(e)),t.push(n)})),t}toObject(e){return this.#t.reduce(((t,n,s)=>{if((0,a.vA)(null!=n,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),!(n in t)){let s=this.getValue(n);e&&s instanceof p&&(s=s.toObject(e)),t[n]=s}return t}),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=[],s=[];for(let a=e;a<t;a++)n.push(this[a]),s.push(this.#t[a]);return new p(d,n,s)}filter(e,t){const n=[],s=[];for(let a=0;a<this.length;a++){const r=this[a];r instanceof Error&&u(`index ${a}`,r),e.call(t,r,a,this)&&(n.push(r),s.push(this.#t[a]))}return new p(d,n,s)}map(e,t){const n=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&u(`index ${s}`,a),n.push(e.call(t,a,s,this))}return n}getValue(e){const t=this.#t.indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&u(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new p(d,e,t)}}function h(e){let t=(0,s.c4)(e);return(0,a.vA)(t.length<=o,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:o,offset:t.length}),t.length!==o&&(t=(0,r.Lm)((0,r.xW)([c.slice(t.length%o),t]))),t}class f{name;type;localName;dynamic;constructor(e,t,n,s){(0,i.n)(this,{name:e,type:t,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){(0,a.MR)(!1,e,this.localName,t)}}class m{#n;#s;constructor(){this.#n=[],this.#s=0}get data(){return(0,r.xW)(this.#n)}get length(){return this.#s}#a(e){return this.#n.push(e),this.#s+=e.length,e.length}appendWriter(e){return this.#a((0,r.Lm)(e.data))}writeBytes(e){let t=(0,r.Lm)(e);const n=t.length%o;return n&&(t=(0,r.Lm)((0,r.xW)([t,c.slice(n)]))),this.#a(t)}writeValue(e){return this.#a(h(e))}writeUpdatableValue(){const e=this.#n.length;return this.#n.push(c),this.#s+=o,t=>{this.#n[e]=h(t)}}}class y{allowLoose;#n;#r;#i;#o;#c;constructor(e,t,n){(0,i.n)(this,{allowLoose:!!t}),this.#n=(0,r.Lm)(e),this.#i=0,this.#o=null,this.#c=null!=n?n:1024,this.#r=0}get data(){return(0,r.c$)(this.#n)}get dataLength(){return this.#n.length}get consumed(){return this.#r}get bytes(){return new Uint8Array(this.#n)}#l(e){if(this.#o)return this.#o.#l(e);this.#i+=e,(0,a.vA)(this.#c<1||this.#i<=this.#c*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#c} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,r.Lm)(this.#n),offset:this.#r,length:e,info:{bytesRead:this.#i,dataLength:this.dataLength}})}#d(e,t,n){let s=Math.ceil(t/o)*o;return this.#r+s>this.#n.length&&(this.allowLoose&&n&&this.#r+t<=this.#n.length?s=t:(0,a.vA)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,r.Lm)(this.#n),length:this.#n.length,offset:this.#r+s})),this.#n.slice(this.#r,this.#r+s)}subReader(e){const t=new y(this.#n.slice(this.#r+e),this.allowLoose,this.#c);return t.#o=this,t}readBytes(e,t){let n=this.#d(0,e,!!t);return this.#l(e),this.#r+=n.length,n.slice(0,e)}readValue(){return(0,s.Dg)(this.readBytes(o))}readIndex(){return(0,s.Ro)(this.readBytes(o))}}},6124:(e,t,n)=>{"use strict";n.d(t,{FK:()=>z,Pw:()=>K,Zp:()=>W,aX:()=>j,bp:()=>V,hc:()=>q});var s=n(7033),a=n(5309),r=n(8081),i=n(8264);function o(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const c=o("external public payable override".split(" ")),l="constant external internal payable private public pure view override",d=o(l.split(" ")),u="constructor error event fallback function receive struct",p=o(u.split(" ")),h="calldata memory storage payable indexed",f=o(h.split(" ")),m=o([u,h,"tuple returns",l].join(" ").split(" ")),y={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},g=new RegExp("^(\\s*)"),w=new RegExp("^([0-9]+)"),A=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),b=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),E=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class v{#r;#u;get offset(){return this.#r}get length(){return this.#u.length-this.#r}constructor(e){this.#r=0,this.#u=e.slice()}clone(){return new v(this.#u)}reset(){this.#r=0}#p(e=0,t=0){return new v(this.#u.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#p(this.#r+1,e.match+1);return this.#r=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#r<e.match-1;){const e=this.peek().linkNext;t.push(this.#p(this.#r+1,e)),this.#r=e}return this.#r=e.match+1,t}peek(){if(this.#r>=this.#u.length)throw new Error("out-of-bounds");return this.#u[this.#r]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#r++,e}toString(){const e=[];for(let t=this.#r;t<this.#u.length;t++){const n=this.#u[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function k(e){const t=[],n=t=>{const n=i<e.length?JSON.stringify(e[i]):"$EOI";throw new Error(`invalid token ${n} at ${i}: ${t}`)};let a=[],r=[],i=0;for(;i<e.length;){let o=e.substring(i),c=o.match(g);c&&(i+=c[1].length,o=e.substring(i));const l={depth:a.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(l);let d=y[o[0]]||"";if(d){if(l.type=d,l.text=o[0],i++,"OPEN_PAREN"===d)a.push(t.length-1),r.push(t.length-1);else if("CLOSE_PAREN"==d)0===a.length&&n("no matching open bracket"),l.match=a.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=r.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===d)l.linkBack=r.pop(),t[l.linkBack].linkNext=t.length-1,r.push(t.length-1);else if("OPEN_BRACKET"===d)l.type="BRACKET";else if("CLOSE_BRACKET"===d){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=(0,s.WZ)(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(c=o.match(A),c){if(l.text=c[1],i+=l.text.length,m.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(E)){l.type="TYPE";continue}l.type="ID"}else{if(c=o.match(w),!c)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`);l.text=c[1],l.type="NUMBER",i+=l.text.length}}return new v(t.map((e=>Object.freeze(e))))}function C(e,t){let n=[];for(const s in t.keys())e.has(s)&&n.push(s);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function T(e,t){if(t.peekKeyword(p)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function L(e,t){const n=new Set;for(;;){const s=e.peekType("KEYWORD");if(null==s||t&&!t.has(s))break;if(e.pop(),n.has(s))throw new Error(`duplicate keywords: ${JSON.stringify(s)}`);n.add(s)}return Object.freeze(n)}function x(e){let t=L(e,d);return C(t,o("constant payable nonpayable".split(" "))),C(t,o("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function I(e,t){return e.popParams().map((e=>j.from(e,t)))}function B(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return(0,s.Ab)(e.pop().text);throw new Error("invalid gas")}return null}function M(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const N=new RegExp(/^(.*)\[([0-9]*)\]$/);function R(e){const t=e.match(E);if((0,a.MR)(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);(0,a.MR)(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);(0,a.MR)(0!==n&&n<=256&&n%8==0,"invalid numeric width","type",e)}return e}const O={},S=Symbol.for("_ethers_internal"),P="_ParamTypeInternal",_="_ErrorInternal",D="_EventInternal",U="_ConstructorInternal",F="_FallbackInternal",H="_FunctionInternal",G="_StructInternal";class j{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,s,i,o,c,l){if((0,a.gk)(e,O,"ParamType"),Object.defineProperty(this,S,{value:P}),o&&(o=Object.freeze(o.slice())),"array"===s){if(null==c||null==l)throw new Error("")}else if(null!=c||null!=l)throw new Error("");if("tuple"===s){if(null==o)throw new Error("")}else if(null!=o)throw new Error("");(0,r.n)(this,{name:t,type:n,baseType:s,indexed:i,components:o,arrayLength:c,arrayChildren:l})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map((e=>n.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map(((e,s)=>n.components[s].walk(e,t)))}return t(this.type,e)}#h(e,t,n,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,r=t.slice();return r.forEach(((t,s)=>{a.#h(e,t,n,(e=>{r[s]=e}))})),void s(r)}if(this.isTuple()){const a=this.components;let r;if(Array.isArray(t))r=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");r=a.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(r.length!==this.components.length)throw new Error("array is wrong length");return r.forEach(((t,s)=>{a[s].#h(e,t,n,(e=>{r[s]=e}))})),void s(r)}const a=n(this.type,t);a.then?e.push(async function(){s(await a)}()):s(a)}async walkAsync(e,t){const n=[],s=[e];return this.#h(n,e,t,(e=>{s[0]=e})),n.length&&await Promise.all(n),s[0]}static from(e,t){if(j.isParamType(e))return e;if("string"==typeof e)try{return j.from(k(e),t)}catch(t){(0,a.MR)(!1,"invalid param type","obj",e)}else if(e instanceof v){let n="",s="",a=null;L(e,o(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(s="tuple",a=e.popParams().map((e=>j.from(e))),n=`tuple(${a.map((e=>e.format())).join(",")})`):(n=R(e.popType("TYPE")),s=n);let r=null,i=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();r=new j(O,"",n,s,null,a,i,r),i=t.value,n+=t.text,s="array",a=null}let c=null;if(L(e,f).has("indexed")){if(!t)throw new Error("");c=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new j(O,l,n,s,c,a,i,r)}const n=e.name;(0,a.MR)(!n||"string"==typeof n&&n.match(b),"invalid name","obj.name",n);let s=e.indexed;null!=s&&((0,a.MR)(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let r=e.type,i=r.match(N);if(i){const t=parseInt(i[2]||"-1"),a=j.from({type:i[1],components:e.components});return new j(O,n||"",r,"array",s,null,t,a)}if("tuple"===r||r.startsWith("tuple(")||r.startsWith("(")){const t=null!=e.components?e.components.map((e=>j.from(e))):null;return new j(O,n||"",r,"tuple",s,t,null,null)}return r=R(e.type),new j(O,n||"",r,r,s,null,null,null)}static isParamType(e){return e&&e[S]===P}}class z{type;inputs;constructor(e,t,n){(0,a.gk)(e,O,"Fragment"),n=Object.freeze(n.slice()),(0,r.n)(this,{type:t,inputs:n})}static from(e){if("string"==typeof e){try{z.from(JSON.parse(e))}catch(e){}return z.from(k(e))}if(e instanceof v)switch(e.peekKeyword(p)){case"constructor":return K.from(e);case"error":return V.from(e);case"event":return W.from(e);case"fallback":case"receive":return Z.from(e);case"function":return q.from(e);case"struct":return X.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return K.from(e);case"error":return V.from(e);case"event":return W.from(e);case"fallback":case"receive":return Z.from(e);case"function":return q.from(e);case"struct":return X.from(e)}(0,a.vA)(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,a.MR)(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return K.isFragment(e)}static isError(e){return V.isFragment(e)}static isEvent(e){return W.isFragment(e)}static isFunction(e){return q.isFragment(e)}static isStruct(e){return X.isFragment(e)}}class Q extends z{name;constructor(e,t,n,s){super(e,t,s),(0,a.MR)("string"==typeof n&&n.match(b),"invalid identifier","name",n),s=Object.freeze(s.slice()),(0,r.n)(this,{name:n})}}function J(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class V extends Q{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,S,{value:_})}get selector(){return(0,i.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+J(e,this.inputs)),t.join(" ")}static from(e){if(V.isFragment(e))return e;if("string"==typeof e)return V.from(k(e));if(e instanceof v){const t=T("error",e),n=I(e);return M(e),new V(O,t,n)}return new V(O,e.name,e.inputs?e.inputs.map(j.from):[])}static isFragment(e){return e&&e[S]===_}}class W extends Q{anonymous;constructor(e,t,n,s){super(e,"event",t,n),Object.defineProperty(this,S,{value:D}),(0,r.n)(this,{anonymous:s})}get topicHash(){return(0,i.id)(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+J(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map((e=>j.from(e))),new W(O,e,t,!1).topicHash}static from(e){if(W.isFragment(e))return e;if("string"==typeof e)try{return W.from(k(e))}catch(t){(0,a.MR)(!1,"invalid event fragment","obj",e)}else if(e instanceof v){const t=T("event",e),n=I(e,!0),s=!!L(e,o(["anonymous"])).has("anonymous");return M(e),new W(O,t,n,s)}return new W(O,e.name,e.inputs?e.inputs.map((e=>j.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[S]===D}}class K extends z{payable;gas;constructor(e,t,n,s,a){super(e,t,n),Object.defineProperty(this,S,{value:U}),(0,r.n)(this,{payable:s,gas:a})}format(e){if((0,a.vA)(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${J(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(K.isFragment(e))return e;if("string"==typeof e)try{return K.from(k(e))}catch(t){(0,a.MR)(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof v){L(e,o(["constructor"]));const t=I(e),n=!!L(e,c).has("payable"),s=B(e);return M(e),new K(O,"constructor",t,n,s)}return new K(O,"constructor",e.inputs?e.inputs.map(j.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[S]===U}}class Z extends z{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,S,{value:F}),(0,r.n)(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Z.isFragment(e))return e;if("string"==typeof e)try{return Z.from(k(e))}catch(t){(0,a.MR)(!1,"invalid fallback fragment","obj",e)}else if(e instanceof v){const t=e.toString(),n=e.peekKeyword(o(["fallback","receive"]));if((0,a.MR)(n,"type must be fallback or receive","obj",t),"receive"===e.popKeyword(o(["fallback","receive"]))){const t=I(e);return(0,a.MR)(0===t.length,"receive cannot have arguments","obj.inputs",t),L(e,o(["payable"])),M(e),new Z(O,[],!0)}let s=I(e);s.length?(0,a.MR)(1===s.length&&"bytes"===s[0].type,"invalid fallback inputs","obj.inputs",s.map((e=>e.format("minimal"))).join(", ")):s=[j.from("bytes")];const r=x(e);if((0,a.MR)("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),L(e,o(["returns"])).has("returns")){const t=I(e);(0,a.MR)(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return M(e),new Z(O,s,"payable"===r)}if("receive"===e.type)return new Z(O,[],!0);if("fallback"===e.type){const t=[j.from("bytes")],n="payable"===e.stateMutability;return new Z(O,t,n)}(0,a.MR)(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[S]===F}}class q extends Q{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,s,a,i){super(e,"function",t,s),Object.defineProperty(this,S,{value:H}),a=Object.freeze(a.slice());const o="view"===n||"pure"===n,c="payable"===n;(0,r.n)(this,{constant:o,gas:i,outputs:a,payable:c,stateMutability:n})}get selector(){return(0,i.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+J(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(J(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map((e=>j.from(e))),new q(O,e,"view",t,[],null).selector}static from(e){if(q.isFragment(e))return e;if("string"==typeof e)try{return q.from(k(e))}catch(t){(0,a.MR)(!1,"invalid function fragment","obj",e)}else if(e instanceof v){const t=T("function",e),n=I(e),s=x(e);let a=[];L(e,o(["returns"])).has("returns")&&(a=I(e));const r=B(e);return M(e),new q(O,t,s,n,a,r)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new q(O,e.name,t,e.inputs?e.inputs.map(j.from):[],e.outputs?e.outputs.map(j.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[S]===H}}class X extends Q{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,S,{value:G})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return X.from(k(e))}catch(t){(0,a.MR)(!1,"invalid struct fragment","obj",e)}else if(e instanceof v){const t=T("struct",e),n=I(e);return M(e),new X(O,t,n)}return new X(O,e.name,e.inputs?e.inputs.map(j.from):[])}static isFragment(e){return e&&e[S]===G}}},9353:(e,t,n)=>{"use strict";n.d(t,{V:()=>l});var s=n(5309),a=n(8081);const r={};function i(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new l(r,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function o(e,t){return new l(r,`bytes${t||""}`,e,{size:t})}const c=Symbol.for("_ethers_typed");class l{type;value;#f;_typedSymbol;constructor(e,t,n,i){null==i&&(i=null),(0,s.gk)(r,e,"Typed"),(0,a.n)(this,{_typedSymbol:c,type:t,value:n}),this.#f=i,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#f}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#f?-1:!1===this.#f?this.value.length:null}static from(e,t){return new l(r,e,t)}static uint8(e){return i(e,8)}static uint16(e){return i(e,16)}static uint24(e){return i(e,24)}static uint32(e){return i(e,32)}static uint40(e){return i(e,40)}static uint48(e){return i(e,48)}static uint56(e){return i(e,56)}static uint64(e){return i(e,64)}static uint72(e){return i(e,72)}static uint80(e){return i(e,80)}static uint88(e){return i(e,88)}static uint96(e){return i(e,96)}static uint104(e){return i(e,104)}static uint112(e){return i(e,112)}static uint120(e){return i(e,120)}static uint128(e){return i(e,128)}static uint136(e){return i(e,136)}static uint144(e){return i(e,144)}static uint152(e){return i(e,152)}static uint160(e){return i(e,160)}static uint168(e){return i(e,168)}static uint176(e){return i(e,176)}static uint184(e){return i(e,184)}static uint192(e){return i(e,192)}static uint200(e){return i(e,200)}static uint208(e){return i(e,208)}static uint216(e){return i(e,216)}static uint224(e){return i(e,224)}static uint232(e){return i(e,232)}static uint240(e){return i(e,240)}static uint248(e){return i(e,248)}static uint256(e){return i(e,256)}static uint(e){return i(e,256)}static int8(e){return i(e,-8)}static int16(e){return i(e,-16)}static int24(e){return i(e,-24)}static int32(e){return i(e,-32)}static int40(e){return i(e,-40)}static int48(e){return i(e,-48)}static int56(e){return i(e,-56)}static int64(e){return i(e,-64)}static int72(e){return i(e,-72)}static int80(e){return i(e,-80)}static int88(e){return i(e,-88)}static int96(e){return i(e,-96)}static int104(e){return i(e,-104)}static int112(e){return i(e,-112)}static int120(e){return i(e,-120)}static int128(e){return i(e,-128)}static int136(e){return i(e,-136)}static int144(e){return i(e,-144)}static int152(e){return i(e,-152)}static int160(e){return i(e,-160)}static int168(e){return i(e,-168)}static int176(e){return i(e,-176)}static int184(e){return i(e,-184)}static int192(e){return i(e,-192)}static int200(e){return i(e,-200)}static int208(e){return i(e,-208)}static int216(e){return i(e,-216)}static int224(e){return i(e,-224)}static int232(e){return i(e,-232)}static int240(e){return i(e,-240)}static int248(e){return i(e,-248)}static int256(e){return i(e,-256)}static int(e){return i(e,-256)}static bytes1(e){return o(e,1)}static bytes2(e){return o(e,2)}static bytes3(e){return o(e,3)}static bytes4(e){return o(e,4)}static bytes5(e){return o(e,5)}static bytes6(e){return o(e,6)}static bytes7(e){return o(e,7)}static bytes8(e){return o(e,8)}static bytes9(e){return o(e,9)}static bytes10(e){return o(e,10)}static bytes11(e){return o(e,11)}static bytes12(e){return o(e,12)}static bytes13(e){return o(e,13)}static bytes14(e){return o(e,14)}static bytes15(e){return o(e,15)}static bytes16(e){return o(e,16)}static bytes17(e){return o(e,17)}static bytes18(e){return o(e,18)}static bytes19(e){return o(e,19)}static bytes20(e){return o(e,20)}static bytes21(e){return o(e,21)}static bytes22(e){return o(e,22)}static bytes23(e){return o(e,23)}static bytes24(e){return o(e,24)}static bytes25(e){return o(e,25)}static bytes26(e){return o(e,26)}static bytes27(e){return o(e,27)}static bytes28(e){return o(e,28)}static bytes29(e){return o(e,29)}static bytes30(e){return o(e,30)}static bytes31(e){return o(e,31)}static bytes32(e){return o(e,32)}static address(e){return new l(r,"address",e)}static bool(e){return new l(r,"bool",!!e)}static bytes(e){return new l(r,"bytes",e)}static string(e){return new l(r,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new l(r,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===c}static dereference(e,t){if(l.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}},31:(e,t,n)=>{"use strict";n.d(t,{b:()=>p});var s=n(2011),a=n(6212),r=n(5309);const i=BigInt(0),o=BigInt(36);function c(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const r=(0,a.q5)((0,s.S)(n));for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&r[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const l={};for(let e=0;e<10;e++)l[String(e)]=String(e);for(let e=0;e<26;e++)l[String.fromCharCode(65+e)]=String(10+e);const d=15;const u=function(){const e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function p(e){if((0,r.MR)("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=c(e);return(0,r.MR)(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,r.MR)(e.substring(2,4)===function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>l[e])).join("");for(;t.length>=d;){let e=t.substring(0,d);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=i;for(let n=0;n<e.length;n++)t=t*o+u[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return c("0x"+t)}(0,r.MR)(!1,"invalid address","address",e)}},1442:(e,t,n)=>{"use strict";n.d(t,{$C:()=>r,tG:()=>o});var s=n(5309),a=n(31);function r(e){return e&&"function"==typeof e.getAddress}async function i(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||((0,s.vA)("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),(0,s.MR)(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),(0,a.b)(n)}function o(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?(0,a.b)(e):((0,s.vA)(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),i(e,t.resolveName(e))):r(e)?i(e,e.getAddress()):e&&"function"==typeof e.then?i(e,e):void(0,s.MR)(!1,"unsupported addressable value","target",e)}},2724:(e,t,n)=>{"use strict";n.d(t,{NZ:()=>q});var s=n(9353),a=n(2011),r=n(8264),i=n(8081),o=n(5309),c=n(6212),l=n(7033),d=n(5273),u=n(1228),p=n(6124);class h{fragment;name;signature;topic;args;constructor(e,t,n){const s=e.name,a=e.format();(0,i.n)(this,{fragment:e,name:s,signature:a,topic:t,args:n})}}class f{fragment;name;args;signature;selector;value;constructor(e,t,n,s){const a=e.name,r=e.format();(0,i.n)(this,{fragment:e,name:a,args:n,signature:r,selector:t,value:s})}}class m{fragment;name;args;signature;selector;constructor(e,t,n){const s=e.name,a=e.format();(0,i.n)(this,{fragment:e,name:s,args:n,signature:a,selector:t})}}class y{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){(0,i.n)(this,{hash:e,_isIndexed:!0})}}const g={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},w={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&g[e.toString()]&&(t=g[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class A{fragments;deploy;fallback;receive;#m;#y;#g;#w;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#g=new Map,this.#m=new Map,this.#y=new Map;const n=[];for(const e of t)try{n.push(p.FK.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}(0,i.n)(this,{fragments:Object.freeze(n)});let s=null,a=!1;this.#w=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void(0,i.n)(this,{deploy:e});case"fallback":return void(0===e.inputs.length?a=!0:((0,o.MR)(!s||e.payable!==s.payable,"conflicting fallback fragments",`fragments[${t}]`,e),s=e,a=s.payable));case"function":n=this.#g;break;case"event":n=this.#y;break;case"error":n=this.#m;break;default:return}const r=e.format();n.has(r)||n.set(r,e)})),this.deploy||(0,i.n)(this,{deploy:p.Pw.from("constructor()")}),(0,i.n)(this,{fallback:s,receive:a})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return d.y.defaultAbiCoder()}#A(e,t,n){if((0,c.Lo)(e)){const t=e.toLowerCase();for(const e of this.#g.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const a=[];for(const[t,n]of this.#g)t.split("(")[0]===e&&a.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,r=!0;s.V.isTyped(e)&&"overrides"===e.type&&(r=!1,n--);for(let e=a.length-1;e>=0;e--){const t=a[e].inputs.length;t===n||r&&t===n-1||a.splice(e,1)}for(let e=a.length-1;e>=0;e--){const n=a[e].inputs;for(let r=0;r<t.length;r++)if(s.V.isTyped(t[r])){if(r>=n.length){if("overrides"===t[r].type)continue;a.splice(e,1);break}if(t[r].type!==n[r].baseType){a.splice(e,1);break}}}}if(1===a.length&&t&&t.length!==a[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&a.splice(0,1)}if(0===a.length)return null;if(a.length>1&&n){const t=a.map((e=>JSON.stringify(e.format()))).join(", ");(0,o.MR)(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return a[0]}return this.#g.get(p.hc.from(e).format())||null}getFunctionName(e){const t=this.#A(e,null,!1);return(0,o.MR)(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#A(e,null,!1)}getFunction(e,t){return this.#A(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#g.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const s=t[n];e(this.#g.get(s),n)}}#b(e,t,n){if((0,c.Lo)(e)){const t=e.toLowerCase();for(const e of this.#y.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const a=[];for(const[t,n]of this.#y)t.split("(")[0]===e&&a.push(n);if(t){for(let e=a.length-1;e>=0;e--)a[e].inputs.length<t.length&&a.splice(e,1);for(let e=a.length-1;e>=0;e--){const n=a[e].inputs;for(let r=0;r<t.length;r++)if(s.V.isTyped(t[r])&&t[r].type!==n[r].baseType){a.splice(e,1);break}}}if(0===a.length)return null;if(a.length>1&&n){const t=a.map((e=>JSON.stringify(e.format()))).join(", ");(0,o.MR)(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return a[0]}return this.#y.get(p.Zp.from(e).format())||null}getEventName(e){const t=this.#b(e,null,!1);return(0,o.MR)(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#b(e,null,!1)}getEvent(e,t){return this.#b(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#y.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const s=t[n];e(this.#y.get(s),n)}}getError(e,t){if((0,c.Lo)(e)){const t=e.toLowerCase();if(w[t])return p.bp.from(w[t].signature);for(const e of this.#m.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,s]of this.#m)n.split("(")[0]===e&&t.push(s);if(0===t.length)return"Error"===e?p.bp.from("error Error(string)"):"Panic"===e?p.bp.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map((e=>JSON.stringify(e.format()))).join(", ");(0,o.MR)(!1,`ambiguous error description (i.e. ${n})`,"name",e)}return t[0]}if("Error(string)"===(e=p.bp.from(e).format()))return p.bp.from("error Error(string)");if("Panic(uint256)"===e)return p.bp.from("error Panic(uint256)");return this.#m.get(e)||null}forEachError(e){const t=Array.from(this.#m.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const s=t[n];e(this.#m.get(s),n)}}_decodeParams(e,t){return this.#w.decode(e,t)}_encodeParams(e,t){return this.#w.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);(0,o.MR)(t,"unknown error","fragment",e),e=t}return(0,o.MR)((0,c.ZG)(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,c.ZG)(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);(0,o.MR)(t,"unknown error","fragment",e),e=t}return(0,c.xW)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,o.MR)(t,"unknown function","fragment",e),e=t}return(0,o.MR)((0,c.ZG)(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,c.ZG)(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,o.MR)(t,"unknown function","fragment",e),e=t}return(0,c.xW)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,o.MR)(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const s=(0,c.Lm)(t);if(s.length%32==0)try{return this.#w.decode(e.outputs,s)}catch(e){n="could not decode result data"}(0,o.vA)(!1,n,"BAD_DATA",{value:(0,c.c$)(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=(0,c.q5)(e,"data"),s=d.y.getBuiltinCallException("call",t,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const e=(0,c.c$)(n.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#w.decode(t.inputs,n.slice(4));s.revert={name:t.name,signature:t.format(),args:e},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch(e){s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(t);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,o.MR)(t,"unknown function","fragment",e),e=t}return(0,c.c$)(this.#w.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);(0,o.MR)(t,"unknown event","eventFragment",e),e=t}(0,o.vA)(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(e,t)=>"string"===e.type?(0,r.id)(t):"bytes"===e.type?(0,a.S)((0,c.c$)(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=(0,l.up)(t):e.type.match(/^bytes/)?t=(0,c.X_)(t,32):"address"===e.type&&this.#w.encode(["address"],[t]),(0,c.nx)((0,c.c$)(t),32));for(t.forEach(((t,a)=>{const r=e.inputs[a];r.indexed?null==t?n.push(null):"array"===r.baseType||"tuple"===r.baseType?(0,o.MR)(!1,"filtering with tuples or arrays not supported","contract."+r.name,t):Array.isArray(t)?n.push(t.map((e=>s(r,e)))):n.push(s(r,t)):(0,o.MR)(null==t,"cannot filter non-indexed parameters; must be null","contract."+r.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);(0,o.MR)(t,"unknown event","eventFragment",e),e=t}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),(0,o.MR)(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,o)=>{const c=t[o];if(e.indexed)if("string"===e.type)n.push((0,r.id)(c));else if("bytes"===e.type)n.push((0,a.S)(c));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this.#w.encode([e.type],[c]))}else s.push(e),i.push(c)})),{data:this.#w.encode(s,i),topics:n}}decodeEventLog(e,t,n){if("string"==typeof e){const t=this.getEvent(e);(0,o.MR)(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;(0,o.MR)((0,c.Lo)(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],a=[],r=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(s.push(p.aX.from({type:"bytes32",name:e.name})),r.push(!0)):(s.push(e),r.push(!1)):(a.push(e),r.push(!1))}));const i=null!=n?this.#w.decode(s,(0,c.xW)(n)):null,l=this.#w.decode(a,t,!0),d=[],h=[];let f=0,m=0;return e.inputs.forEach(((e,t)=>{let n=null;if(e.indexed)if(null==i)n=new y(null);else if(r[t])n=new y(i[m++]);else try{n=i[m++]}catch(e){n=e}else try{n=l[f++]}catch(e){n=e}d.push(n),h.push(e.name||null)})),u.Q7.fromItems(d,h)}parseTransaction(e){const t=(0,c.q5)(e.data,"tx.data"),n=(0,l.Ab)(null!=e.value?e.value:0,"tx.value"),s=this.getFunction((0,c.c$)(t.slice(0,4)));if(!s)return null;const a=this.#w.decode(s.inputs,t.slice(4));return new f(s,s.selector,a,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new h(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=(0,c.c$)(e),n=this.getError((0,c.ZG)(t,0,4));if(!n)return null;const s=this.#w.decode(n.inputs,(0,c.ZG)(t,4));return new m(n,n.selector,s)}static from(e){return e instanceof A?e:"string"==typeof e?new A(JSON.parse(e)):"function"==typeof e.formatJson?new A(e.formatJson()):"function"==typeof e.format?new A(e.format("json")):new A(e)}}var b=n(1442),E=n(3948),v=n(9381);class k extends E.tG{interface;fragment;args;constructor(e,t,n){super(e,e.provider);const s=t.decodeEventLog(n,e.data,e.topics);(0,i.n)(this,{args:s,fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class C extends E.tG{error;constructor(e,t){super(e,e.provider),(0,i.n)(this,{error:t})}}class T extends E.z5{#E;constructor(e,t,n){super(n,t),this.#E=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#E.getEvent(e.topics[0]):null;if(t)try{return new k(e,this.#E,t)}catch(t){return new C(e,t)}return e}))}}class L extends E.uI{#E;constructor(e,t,n){super(n,t),this.#E=e}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new T(this.#E,this.provider,n)}}class x extends v.z{log;constructor(e,t,n,s){super(e,t,n),(0,i.n)(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class I extends x{constructor(e,t,n,s,a){super(e,t,n,new k(a,e.interface,s));const r=e.interface.decodeEventLog(s,this.log.data,this.log.topics);(0,i.n)(this,{args:r,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const B=BigInt(0);function M(e){return e&&"function"==typeof e.call}function N(e){return e&&"function"==typeof e.estimateGas}function R(e){return e&&"function"==typeof e.resolveName}function O(e){return e&&"function"==typeof e.sendTransaction}function S(e){if(null!=e){if(R(e))return e;if(e.provider)return e.provider}}class P{#v;fragment;constructor(e,t,n){if((0,i.n)(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const s=_(e.runner,"resolveName"),a=R(s)?s:null;this.#v=async function(){const s=await Promise.all(t.inputs.map(((e,t)=>null==n[t]?null:e.walkAsync(n[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>(0,b.tG)(e,a)))):(0,b.tG)(t,a):t)))));return e.interface.encodeFilterTopics(t,s)}()}getTopicFilter(){return this.#v}}function _(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function D(e){return null==e?null:e.provider||null}async function U(e,t){const n=s.V.dereference(e,"overrides");(0,o.MR)("object"==typeof n,"invalid overrides parameter","overrides",e);const a=(0,E.VS)(n);return(0,o.MR)(null==a.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",a.to),(0,o.MR)(null==a.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",a.data),a.from&&(a.from=a.from),a}function F(e){const t=async function(t){const n=await U(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await(0,b.tG)(n.from,S(e.runner)));const s=e.interface,a=(0,l.Ab)(n.value||B,"overrides.value")===B,r="0x"===(n.data||"0x");!s.fallback||s.fallback.payable||!s.receive||r||a||(0,o.MR)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),(0,o.MR)(s.fallback||r,"cannot send data to receive-only contract","overrides.data",n.data);const i=s.receive||s.fallback&&s.fallback.payable;return(0,o.MR)(i||a,"cannot send value to non-payable fallback","overrides.value",n.value),(0,o.MR)(s.fallback||r,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const s=e.runner;(0,o.vA)(O(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const a=await s.sendTransaction(await t(n)),r=D(e.runner);return new L(e.interface,r,a)},s=async e=>await n(e);return(0,i.n)(s,{_contract:e,estimateGas:async function(n){const s=_(e.runner,"estimateGas");return(0,o.vA)(N(s),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await s.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const s=_(e.runner,"call");(0,o.vA)(M(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await t(n);try{return await s.call(a)}catch(t){if((0,o.E)(t)&&t.data)throw e.interface.makeError(t.data,a);throw t}}}),s}const H=Symbol.for("_ethersInternal_contract"),G=new WeakMap;function j(e){return G.get(e[H])}async function z(e,t){let n,s=null;if(Array.isArray(t)){const s=function(t){if((0,c.Lo)(t,32))return t;const n=e.interface.getEvent(t);return(0,o.MR)(n,"unknown fragment","name",t),n.topicHash};n=t.map((e=>null==e?null:Array.isArray(e)?e.map(s):s(e)))}else"*"===t?n=[null]:"string"==typeof t?(0,c.Lo)(t,32)?n=[t]:(s=e.interface.getEvent(t),(0,o.MR)(s,"unknown fragment","event",t),n=[s.topicHash]):(a=t)&&"object"==typeof a&&"getTopicFilter"in a&&"function"==typeof a.getTopicFilter&&a.fragment?n=await t.getTopicFilter():"fragment"in t?(s=t.fragment,n=[s.topicHash]):(0,o.MR)(!1,"unknown event name","event",t);var a;return n=n.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})),{fragment:s,tag:n.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:n}}async function Q(e,t){const{subs:n}=j(e);return n.get((await z(e,t)).tag)||null}async function J(e,t,n){const s=D(e.runner);(0,o.vA)(s,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:a,tag:r,topics:i}=await z(e,n),{addr:c,subs:l}=j(e);let d=l.get(r);if(!d){const t={address:c||e,topics:i},o=t=>{let s=a;if(null==s)try{s=e.interface.getEvent(t.topics[0])}catch(e){}if(s){const r=s,i=a?e.interface.decodeEventLog(a,t.data,t.topics):[];W(e,n,i,(s=>new I(e,s,n,r,t)))}else W(e,n,[],(s=>new x(e,s,n,t)))};let u=[];d={tag:r,listeners:[],start:()=>{u.length||u.push(s.on(t,o))},stop:async()=>{if(0==u.length)return;let e=u;u=[],await Promise.all(e),s.off(t,o)}},l.set(r,d)}return d}let V=Promise.resolve();async function W(e,t,n,s){try{await V}catch(e){}const a=async function(e,t,n,s){await V;const a=await Q(e,t);if(!a)return!1;const r=a.listeners.length;return a.listeners=a.listeners.filter((({listener:t,once:a})=>{const r=Array.from(n);s&&r.push(s(a?null:t));try{t.call(e,...r)}catch(e){}return!a})),0===a.listeners.length&&(a.stop(),j(e).subs.delete(a.tag)),r>0}(e,t,n,s);return V=a,await a}const K=["then"];class Z{target;interface;runner;filters;[H];fallback;constructor(e,t,n,s){(0,o.MR)("string"==typeof e||(0,b.$C)(e),"invalid value for Contract target","target",e),null==n&&(n=null);const a=A.from(t);let r;(0,i.n)(this,{target:e,runner:n,interface:a}),Object.defineProperty(this,H,{value:{}});let l=null,d=null;if(s){const e=D(n);d=new L(this.interface,e,s)}let u=new Map;if("string"==typeof e)if((0,c.Lo)(e))l=e,r=Promise.resolve(e);else{const t=_(n,"resolveName");if(!R(t))throw(0,o.xz)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});r=t.resolveName(e).then((t=>{if(null==t)throw(0,o.xz)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return j(this).addr=t,t}))}else r=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return j(this).addr=e,e}));var p;p={addrPromise:r,addr:l,deployTx:d,subs:u},G.set(this[H],p);const h=new Proxy({},{get:(e,t,n)=>{if("symbol"==typeof t||K.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(e){if(!(0,o.bJ)(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>K.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return(0,i.n)(this,{filters:h}),(0,i.n)(this,{fallback:a.receive||a.fallback?F(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"==typeof t||t in e||K.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(e){if(!(0,o.bJ)(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||K.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new Z(this.target,this.interface,e)}attach(e){return new Z(e,this.interface,this.runner)}async getAddress(){return await j(this).addrPromise}async getDeployedCode(){const e=D(this.runner);(0,o.vA)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=D(this.runner);return(0,o.vA)(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,n)=>{const s=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",s)}catch(e){n(e)}};s()}))}deploymentTransaction(){return j(this).deployTx}getFunction(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const n=function(...n){const s=e.interface.getFunction(t,n);return(0,o.vA)(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),s},a=async function(...t){const a=n(...t);let r={};if(a.inputs.length+1===t.length&&(r=await U(t.pop()),r.from&&(r.from=await(0,b.tG)(r.from,S(e.runner)))),a.inputs.length!==t.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const o=await async function(e,t,n){const a=_(e,"resolveName"),r=R(a)?a:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(n[t],((e,t)=>(t=s.V.dereference(t,e),"address"===e?(0,b.tG)(t,r):t))))))}(e.runner,a.inputs,t);return Object.assign({},r,await(0,i.k)({to:e.getAddress(),data:e.interface.encodeFunctionData(a,o)}))},r=async function(...e){const t=await l(...e);return 1===t.length?t[0]:t},c=async function(...t){const n=e.runner;(0,o.vA)(O(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await n.sendTransaction(await a(...t)),r=D(e.runner);return new L(e.interface,r,s)},l=async function(...t){const s=_(e.runner,"call");(0,o.vA)(M(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const r=await a(...t);let i="0x";try{i=await s.call(r)}catch(t){if((0,o.E)(t)&&t.data)throw e.interface.makeError(t.data,r);throw t}const c=n(...t);return e.interface.decodeFunctionResult(c,i)},d=async(...e)=>n(...e).constant?await r(...e):await c(...e);return(0,i.n)(d,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(...t){const n=_(e.runner,"estimateGas");return(0,o.vA)(N(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await a(...t))},populateTransaction:a,send:c,staticCall:r,staticCallResult:l}),Object.defineProperty(d,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return(0,o.vA)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),d}(this,e)}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const n=function(...n){const s=e.interface.getEvent(t,n);return(0,o.vA)(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),s},s=function(...t){return new P(e,n(...t),t)};return(0,i.n)(s,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return(0,o.vA)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),s}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:s,addrPromise:a}=j(this),r=s||await a,{fragment:i,topics:c}=await z(this,e),l={address:r,topics:c,fromBlock:t,toBlock:n},d=D(this.runner);return(0,o.vA)(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(l)).map((e=>{let t=i;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new k(e,this.interface,t)}catch(t){return new C(e,t)}return new E.tG(e,d)}))}async on(e,t){const n=await J(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await J(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await W(this,e,t,null)}async listenerCount(e){if(e){const t=await Q(this,e);return t?t.listeners.length:0}const{subs:t}=j(this);let n=0;for(const{listeners:e}of t.values())n+=e.length;return n}async listeners(e){if(e){const t=await Q(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=j(this);let n=[];for(const{listeners:e}of t.values())n=n.concat(e.map((({listener:e})=>e)));return n}async off(e,t){const n=await Q(this,e);if(!n)return this;if(t){const e=n.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),j(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await Q(this,e);if(!t)return this;t.stop(),j(this).subs.delete(t.tag)}else{const{subs:e}=j(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends Z{constructor(t,n=null){super(t,e,n)}}}static from(e,t,n){return null==n&&(n=null),new this(e,t,n)}}class q extends(function(){return Z}()){}},2011:(e,t,n)=>{"use strict";n.d(t,{S:()=>T});var s=n(9190),a=n(9271),r=n(2531);const[i,o,c]=[[],[],[]],l=BigInt(0),d=BigInt(1),u=BigInt(2),p=BigInt(7),h=BigInt(256),f=BigInt(113);for(let e=0,t=d,n=1,s=0;e<24;e++){[n,s]=[s,(2*n+3*s)%5],i.push(2*(5*s+n)),o.push((e+1)*(e+2)/2%64);let a=l;for(let e=0;e<7;e++)t=(t<<d^(t>>p)*f)%h,t&u&&(a^=d<<(d<<BigInt(e))-d);c.push(a)}const[m,y]=(0,a.lD)(c,!0),g=(e,t,n)=>n>32?(0,a.WM)(e,t,n):(0,a.P5)(e,t,n),w=(e,t,n)=>n>32?(0,a.im)(e,t,n):(0,a.B4)(e,t,n);class A extends r.Vw{constructor(e,t,n,a=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=a,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,s.ai)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.DH)(this.state)}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const s=(t+8)%10,a=(t+2)%10,r=n[a],i=n[a+1],o=g(r,i,1)^n[s],c=w(r,i,1)^n[s+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],a=e[3];for(let n=0;n<24;n++){const s=o[n],r=g(t,a,s),c=w(t,a,s),l=i[n];t=e[l],a=e[l+1],e[l]=r,e[l+1]=c}for(let t=0;t<50;t+=10){for(let s=0;s<10;s++)n[s]=e[t+s];for(let s=0;s<10;s++)e[t+s]^=~n[(s+2)%10]&n[(s+4)%10]}e[0]^=m[s],e[1]^=y[s]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,s.t2)(this);const{blockLen:t,state:n}=this,a=(e=(0,r.ZJ)(e)).length;for(let s=0;s<a;){const r=Math.min(t-this.pos,a-s);for(let t=0;t<r;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,128&t&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){(0,s.t2)(this,!1),(0,s.ee)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let s=0,a=e.length;s<a;){this.posOut>=n&&this.keccak();const r=Math.min(n-this.posOut,a-s);e.set(t.subarray(this.posOut,this.posOut+r),s),this.posOut+=r,s+=r}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,s.ai)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,s.CG)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:s,rounds:a,enableXOF:r}=this;return e||(e=new A(t,n,s,r,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=s,e.enableXOF=r,e.destroyed=this.destroyed,e}}const b=((e,t,n)=>(0,r.ld)((()=>new A(t,e,n))))(1,136,32);var E=n(6212);let v=!1;const k=function(e){return b(e)};let C=k;function T(e){const t=(0,E.q5)(e,"data");return(0,E.c$)(C(t))}T._=k,T.lock=function(){v=!0},T.register=function(e){if(v)throw new TypeError("keccak256 is locked");C=e},Object.freeze(T)},8264:(e,t,n)=>{"use strict";n.d(t,{id:()=>r});var s=n(2011),a=n(7303);function r(e){return(0,s.S)((0,a.YW)(e))}},6525:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var s=n(5309),a=n(6955);class r extends a._y{#k;constructor(e,t){(0,s.MR)(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,{batchMaxCount:1}),this.#k=async(t,n)=>{const s={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:s});try{const t=await e.request(s);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(e){const t=new Error(e.message);throw t.code=e.code,t.data=e.data,t.payload=s,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){(0,s.MR)(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#k(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#k("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(e)}}},6955:(e,t,n)=>{"use strict";n.d(t,{_y:()=>Oa,FR:()=>Sa});var s={};n.r(s),n.d(s,{OG:()=>on,My:()=>Xt,bytesToNumberBE:()=>en,lX:()=>tn,Id:()=>rn,fg:()=>dn,qj:()=>an,hexToBytes:()=>Yt,lq:()=>nn,z:()=>sn,Q5:()=>pn});var a=n(5273),r=n(31),i=n(1442),o=n(2011),c=n(6212),l=n(7033),d=n(5309),u=n(8081),p=n(8264);const h=new Uint8Array(32);h.fill(0);const f=BigInt(-1),m=BigInt(0),y=BigInt(1),g=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),w=(0,l.up)(y,32),A=(0,l.up)(m,32),b={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},E=["name","version","chainId","verifyingContract","salt"];function v(e){return function(t){return(0,d.MR)("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const k={name:v("name"),version:v("version"),chainId:function(e){const t=(0,l.Ab)(e,"domain.chainId");return(0,d.MR)(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):(0,l.nD)(t)},verifyingContract:function(e){try{return(0,r.b)(e).toLowerCase()}catch(e){}(0,d.MR)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=(0,c.q5)(e,"domain.salt");return(0,d.MR)(32===t.length,'invalid domain value "salt"',"domain.salt",e),(0,c.c$)(t)}};function C(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],s=parseInt(t[2]);(0,d.MR)(s%8==0&&0!==s&&s<=256&&t[2]===String(s),"invalid numeric width","type",e);const a=(0,l.dK)(g,n?s-1:s),r=n?(a+y)*f:m;return function(t){const s=(0,l.Ab)(t,"value");return(0,d.MR)(s>=r&&s<=a,`value out-of-bounds for ${e}`,"value",s),(0,l.up)(n?(0,l.JJ)(s,256):s,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return(0,d.MR)(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){const s=(0,c.q5)(t);return(0,d.MR)(s.length===n,`invalid length for ${e}`,"value",t),function(e){const t=(0,c.q5)(e),n=t.length%32;return n?(0,c.xW)([t,h.slice(n)]):(0,c.c$)(t)}(t)}}}switch(e){case"address":return function(e){return(0,c.nx)((0,r.b)(e),32)};case"bool":return function(e){return e?w:A};case"bytes":return function(e){return(0,o.S)(e)};case"string":return function(e){return(0,p.id)(e)}}return null}function T(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}function L(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class x{primaryType;#C;get types(){return JSON.parse(this.#C)}#T;#L;constructor(e){this.#T=new Map,this.#L=new Map;const t=new Map,n=new Map,s=new Map,a={};Object.keys(e).forEach((r=>{a[r]=e[r].map((({name:t,type:n})=>{let{base:s,index:a}=L(n);return"int"!==s||e.int||(s="int256"),"uint"!==s||e.uint||(s="uint256"),{name:t,type:s+(a||"")}})),t.set(r,new Set),n.set(r,[]),s.set(r,new Set)})),this.#C=JSON.stringify(a);for(const s in a){const r=new Set;for(const i of a[s]){(0,d.MR)(!r.has(i.name),`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(s)}`,"types",e),r.add(i.name);const a=L(i.type).base;(0,d.MR)(a!==s,`circular type reference to ${JSON.stringify(a)}`,"types",e),C(a)||((0,d.MR)(n.has(a),`unknown type ${JSON.stringify(a)}`,"types",e),n.get(a).push(s),t.get(s).add(a))}}const r=Array.from(n.keys()).filter((e=>0===n.get(e).length));(0,d.MR)(0!==r.length,"missing primary type","types",e),(0,d.MR)(1===r.length,`ambiguous primary types or unused types: ${r.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),(0,u.n)(this,{primaryType:r[0]}),function a(r,i){(0,d.MR)(!i.has(r),`circular type reference to ${JSON.stringify(r)}`,"types",e),i.add(r);for(const e of t.get(r))if(n.has(e)){a(e,i);for(const t of i)s.get(t).add(e)}i.delete(r)}(this.primaryType,new Set);for(const[e,t]of s){const n=Array.from(t);n.sort(),this.#T.set(e,T(e,a[e])+n.map((e=>T(e,a[e]))).join(""))}}getEncoder(e){let t=this.#L.get(e);return t||(t=this.#x(e),this.#L.set(e,t)),t}#x(e){{const t=C(e);if(t)return t}const t=L(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return s=>{(0,d.MR)(-1===t.count||t.count===s.length,`array length mismatch; expected length ${t.count}`,"value",s);let a=s.map(n);return this.#T.has(e)&&(a=a.map(o.S)),(0,o.S)((0,c.xW)(a))}}const n=this.types[e];if(n){const t=(0,p.id)(this.#T.get(e));return e=>{const s=n.map((({name:t,type:n})=>{const s=this.getEncoder(n)(e[t]);return this.#T.has(n)?(0,o.S)(s):s}));return s.unshift(t),(0,c.xW)(s)}}(0,d.MR)(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#T.get(e);return(0,d.MR)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,o.S)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(C(e))return n(e,t);const s=L(e).array;if(s)return(0,d.MR)(-1===s.count||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map((e=>this._visit(s.prefix,e,n)));const a=this.types[e];if(a)return a.reduce(((e,{name:s,type:a})=>(e[s]=this._visit(a,t[s],n),e)),{});(0,d.MR)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new x(e)}static getPrimaryType(e){return x.from(e).primaryType}static hashStruct(e,t,n){return x.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const s=b[n];(0,d.MR)(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:s})}return t.sort(((e,t)=>E.indexOf(e.name)-E.indexOf(t.name))),x.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return(0,c.xW)(["0x1901",x.hashDomain(e),x.from(t).hash(n)])}static hash(e,t,n){return(0,o.S)(x.encode(e,t,n))}static async resolveNames(e,t,n,s){e=Object.assign({},e);for(const t in e)null==e[t]&&delete e[t];const a={};e.verifyingContract&&!(0,c.Lo)(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const r=x.from(t);r.visit(n,((e,t)=>("address"!==e||(0,c.Lo)(t,20)||(a[t]="0x"),t)));for(const e in a)a[e]=await s(e);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),{domain:e,value:n=r.visit(n,((e,t)=>"address"===e&&a[t]?a[t]:t))}}static getPayload(e,t,n){x.hashDomain(e);const s={},a=[];E.forEach((t=>{const n=e[t];null!=n&&(s[t]=k[t](n),a.push({name:t,type:b[t]}))}));const r=x.from(t);t=r.types;const i=Object.assign({},t);return(0,d.MR)(null==i.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),i.EIP712Domain=a,r.encode(n),{types:i,domain:s,primaryType:r.primaryType,message:r.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return(0,c.c$)((0,c.q5)(t));if(e.match(/^u?int/))return(0,l.Ab)(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return(0,d.MR)("string"==typeof t,"invalid string","value",t),t}(0,d.MR)(!1,"unsupported type","type",e)}))}}}var I=n(8177),B=n(7303);function M(e){return async function(e,t){const n=e.url.split(":")[0].toLowerCase();let s;if((0,d.vA)("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),(0,d.vA)("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),t){const e=new AbortController;s=e.signal,t.addListener((()=>{e.abort()}))}const a={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:s},r=await fetch(e.url,a),i={};r.headers.forEach(((e,t)=>{i[t.toLowerCase()]=e}));const o=await r.arrayBuffer(),c=null==o?null:new Uint8Array(o);return{statusCode:r.status,statusMessage:r.statusText,headers:i,body:c}}}M();let N=M();const R=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),O=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let S=!1;async function P(e,t){try{const t=e.match(R);if(!t)throw new Error("invalid data");return new j(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return(0,c.q5)(t)}(t[3]):(n=t[3],(0,B.YW)(n.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16)))))))}catch(t){return new j(599,"BAD REQUEST (invalid data: URI)",{},null,new G(e))}var n}function _(e){return async function(t,n){try{const n=t.match(O);if(!n)throw new Error("invalid link");return new G(`${e}${n[2]}`)}catch(e){return new j(599,"BAD REQUEST (invalid IPFS URI)",{},null,new G(t))}}}const D={data:P,ipfs:_("https://gateway.ipfs.io/ipfs/")},U=new WeakMap;class F{#I;#B;constructor(e){this.#I=[],this.#B=!1,U.set(e,(()=>{if(!this.#B){this.#B=!0;for(const e of this.#I)setTimeout((()=>{e()}),0);this.#I=[]}}))}addListener(e){(0,d.vA)(!this.#B,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#I.push(e)}get cancelled(){return this.#B}checkSignal(){(0,d.vA)(!this.cancelled,"cancelled","CANCELLED",{})}}function H(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class G{#M;#N;#R;#O;#S;#P;#_;#D;#U;#F;#H;#G;#j;#z;#Q;get url(){return this.#P}set url(e){this.#P=String(e)}get body(){return null==this.#_?null:new Uint8Array(this.#_)}set body(e){if(null==e)this.#_=void 0,this.#D=void 0;else if("string"==typeof e)this.#_=(0,B.YW)(e),this.#D="text/plain";else if(e instanceof Uint8Array)this.#_=e,this.#D="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#_=(0,B.YW)(JSON.stringify(e)),this.#D="application/json"}}hasBody(){return null!=this.#_}get method(){return this.#O?this.#O:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#O=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#R);return this.#U&&(e.authorization=`Basic ${function(e){const t=(0,c.q5)(e);let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return btoa(n)}((0,B.YW)(this.#U))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#D&&(e["content-type"]=this.#D),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#R[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#R={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#U||null}setCredentials(e,t){(0,d.MR)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#U=`${e}:${t}`}get allowGzip(){return this.#N}set allowGzip(e){this.#N=!!e}get allowInsecureAuthentication(){return!!this.#M}set allowInsecureAuthentication(e){this.#M=!!e}get timeout(){return this.#S}set timeout(e){(0,d.MR)(e>=0,"timeout must be non-zero","timeout",e),this.#S=e}get preflightFunc(){return this.#F||null}set preflightFunc(e){this.#F=e}get processFunc(){return this.#H||null}set processFunc(e){this.#H=e}get retryFunc(){return this.#G||null}set retryFunc(e){this.#G=e}get getUrlFunc(){return this.#Q||N}set getUrlFunc(e){this.#Q=e}constructor(e){this.#P=String(e),this.#M=!1,this.#N=!0,this.#R={},this.#O="",this.#S=3e5,this.#z={slotInterval:250,maxAttempts:12},this.#Q=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#_?(0,c.c$)(this.#_):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#z.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#z.maxAttempts=e.maxAttempts)}async#J(e,t,n,s,a){if(e>=this.#z.maxAttempts)return a.makeServerError("exceeded maximum retry limit");(0,d.vA)(z()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(n);let r=this.clone();const i=(r.url.split(":")[0]||"").toLowerCase();if(i in D){const e=await D[i](r.url,H(s.#j));if(e instanceof j){let t=e;if(this.processFunc){H(s.#j);try{t=await this.processFunc(r,t)}catch(e){null!=e.throttle&&"number"==typeof e.stall||t.makeServerError("error in post-processing function",e).assertOk()}}return t}r=e}this.preflightFunc&&(r=await this.preflightFunc(r));const o=await this.getUrlFunc(r,H(s.#j));let c=new j(o.statusCode,o.statusMessage,o.headers,o.body,s);if(301===c.statusCode||302===c.statusCode){try{const n=c.headers.location||"";return r.redirect(n).#J(e+1,t,0,s,c)}catch(e){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(r,c,e))){const n=c.headers["retry-after"];let a=this.#z.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof n&&n.match(/^[1-9][0-9]*$/)&&(a=parseInt(n)),r.clone().#J(e+1,t,a,s,c)}if(this.processFunc){H(s.#j);try{c=await this.processFunc(r,c)}catch(n){null!=n.throttle&&"number"==typeof n.stall||c.makeServerError("error in post-processing function",n).assertOk();let a=this.#z.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return n.stall>=0&&(a=n.stall),r.clone().#J(e+1,t,a,s,c)}}return c}send(){return(0,d.vA)(null==this.#j,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#j=new F(this),this.#J(0,z()+this.timeout,0,this,new j(0,"",{},null,this))}cancel(){(0,d.vA)(null!=this.#j,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=U.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();(0,d.vA)("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new G(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#R=Object.assign({},this.#R),this.#_&&(s.#_=new Uint8Array(this.#_)),s.#D=this.#D,s}clone(){const e=new G(this.url);return e.#O=this.#O,this.#_&&(e.#_=this.#_),e.#D=this.#D,e.#R=Object.assign({},this.#R),e.#U=this.#U,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#F=this.#F,e.#H=this.#H,e.#G=this.#G,e.#z=Object.assign({},this.#z),e.#Q=this.#Q,e}static lockConfig(){S=!0}static getGateway(e){return D[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(S)throw new Error("gateways locked");D[e]=t}static registerGetUrl(e){if(S)throw new Error("gateways locked");N=e}static createGetUrlFunc(e){return M()}static createDataGateway(){return P}static createIpfsGatewayFunc(e){return _(e)}}class j{#V;#W;#R;#_;#k;#K;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#_?(0,c.c$)(this.#_):"null"}>`}get statusCode(){return this.#V}get statusMessage(){return this.#W}get headers(){return Object.assign({},this.#R)}get body(){return null==this.#_?null:new Uint8Array(this.#_)}get bodyText(){try{return null==this.#_?"":(0,B._v)(this.#_)}catch(e){(0,d.vA)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){(0,d.vA)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,s,a){this.#V=e,this.#W=t,this.#R=Object.keys(n).reduce(((e,t)=>(e[t.toLowerCase()]=String(n[t]),e)),{}),this.#_=null==s?null:new Uint8Array(s),this.#k=a||null,this.#K={message:""}}makeServerError(e,t){let n;n=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const s=new j(599,n,this.headers,this.body,this.#k||void 0);return s.#K={message:e,error:t},s}throwThrottleError(e,t){null==t?t=-1:(0,d.MR)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw(0,u.n)(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#_}get request(){return this.#k}ok(){return""===this.#K.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#K;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{this.#_&&(s=(0,B._v)(this.#_))}catch(e){}(0,d.vA)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function z(){return(new Date).getTime()}const Q="0x0000000000000000000000000000000000000000";var J=n(2724),V="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const W=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),K=4;function Z(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let s=n(),a=1,r=[0,1];for(let e=1;e<s;e++)r.push(a+=n());let i=n(),o=t;t+=i;let c=0,l=0;function d(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const u=2**31,p=u>>>1,h=p>>1,f=u-1;let m=0;for(let e=0;e<31;e++)m=m<<1|d();let y=[],g=0,w=u;for(;;){let e=Math.floor(((m-g+1)*a-1)/w),t=0,n=s;for(;n-t>1;){let s=t+n>>>1;e<r[s]?n=s:t=s}if(0==t)break;y.push(t);let i=g+Math.floor(w*r[t]/a),o=g+Math.floor(w*r[t+1]/a)-1;for(;!((i^o)&p);)m=m<<1&f|d(),i=i<<1&f,o=o<<1&f|1;for(;i&~o&h;)m=m&p|m<<1&f>>>1|d(),i=i<<1^p,o=(o^p)<<1|p|1;g=i,w=1+o-i}let A=s-4;return y.map((t=>{switch(t-A){case 3:return A+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return A+256+(e[o++]<<8|e[o++]);case 1:return A+e[o++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,s=new Uint8Array(6*n>>3);for(let a=0,r=0,i=0,o=0;a<n;a++)o=o<<6|t[e.charCodeAt(a)],i+=6,i>=8&&(s[r++]=o>>(i-=8));return s}(e)))}function q(e){return 1&e?~e>>1:e>>1}function X(e,t){let n=Array(e);for(let s=0,a=0;s<e;s++)n[s]=a+=q(t());return n}function $(e,t=0){let n=[];for(;;){let s=e(),a=e();if(!a)break;t+=s;for(let e=0;e<a;e++)n.push(t+e);t+=a+1}return n}function Y(e){return te((()=>{let t=$(e);if(t.length)return t}))}function ee(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(se(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(ae(n,e))}return t.flat()}function te(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function ne(e,t,n){let s=Array(e).fill().map((()=>[]));for(let a=0;a<t;a++)X(e,n).forEach(((e,t)=>s[t].push(e)));return s}function se(e,t){let n=1+t(),s=t(),a=te(t);return ne(a.length,1+e,t).flatMap(((e,t)=>{let[r,...i]=e;return Array(a[t]).fill().map(((e,t)=>{let a=t*s;return[r+t*n,i.map((e=>e+a))]}))}))}function ae(e,t){return ne(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function re(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function ie(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let s=0;s<t;)n.push(String.fromCodePoint(...e.slice(s,s+=4096)));return n.join("")}function oe(e,t){let n=e.length,s=n-t.length;for(let a=0;0==s&&a<n;a++)s=e[a]-t[a];return s}var ce="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";const le=44032,de=4352,ue=4449,pe=4519,he=28,fe=21*he,me=le+19*fe,ye=de+19,ge=ue+21,we=pe+he;function Ae(e){return e>>24&255}function be(e){return 16777215&e}let Ee,ve,ke,Ce;function Te(e){return e>=le&&e<me}function Le(e,t){if(e>=de&&e<ye&&t>=ue&&t<ge)return le+(e-de)*fe+(t-ue)*he;if(Te(e)&&t>pe&&t<we&&(e-le)%he==0)return e+(t-pe);{let n=Ce.get(e);return n&&(n=n.get(t),n)?n:-1}}function xe(e){Ee||function(){let e=Z(ce);Ee=new Map(Y(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),ve=new Set($(e)),ke=new Map,Ce=new Map;for(let[t,n]of ee(e)){if(!ve.has(t)&&2==n.length){let[e,s]=n,a=Ce.get(e);a||(a=new Map,Ce.set(e,a)),a.set(s,t)}ke.set(t,n.reverse())}}();let t=[],n=[],s=!1;function a(e){let n=Ee.get(e);n&&(s=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(Te(s)){let e=s-le,t=e%fe/he|0,n=e%he;a(de+(e/fe|0)),a(ue+t),n>0&&a(pe+n)}else{let e=ke.get(s);e?n.push(...e):a(s)}if(!n.length)break;s=n.pop()}if(s&&t.length>1){let e=Ae(t[0]);for(let n=1;n<t.length;n++){let s=Ae(t[n]);if(0==s||e<=s){e=s;continue}let a=n-1;for(;;){let n=t[a+1];if(t[a+1]=t[a],t[a]=n,!a)break;if(e=Ae(t[--a]),e<=s)break}e=Ae(t[n])}}return t}function Ie(e){return xe(e).map(be)}function Be(e){return function(e){let t=[],n=[],s=-1,a=0;for(let r of e){let e=Ae(r),i=be(r);if(-1==s)0==e?s=i:t.push(i);else if(a>0&&a>=e)0==e?(t.push(s,...n),n.length=0,s=i):n.push(i),a=e;else{let r=Le(s,i);r>=0?s=r:0==a&&0==e?(t.push(s),s=i):(n.push(i),a=e)}}return s>=0&&t.push(s,...n),t}(xe(e))}const Me=45,Ne=".",Re=65039,Oe=1,Se=e=>Array.from(e);function Pe(e,t){return e.P.has(t)||e.Q.has(t)}class _e extends Array{get is_emoji(){return!0}}let De,Ue,Fe,He,Ge,je,ze,Qe,Je,Ve,We,Ke;function Ze(){if(De)return;let e=Z(V);const t=()=>$(e),n=()=>new Set(t()),s=(e,t)=>t.forEach((t=>e.add(t)));De=new Map(ee(e)),Ue=n(),Fe=t(),He=new Set(t().map((e=>Fe[e]))),Fe=new Set(Fe),Ge=n(),je=n();let a=Y(e),r=e();const i=()=>{let e=new Set;return t().forEach((t=>s(e,a[t]))),s(e,t()),e};ze=te((t=>{let n=te(e).map((e=>e+96));if(n.length){let s=t>=r;return n[0]-=32,n=ie(n),s&&(n=`Restricted[${n}]`),{N:n,P:i(),Q:i(),M:!e(),R:s}}})),Qe=n(),Je=new Map;let o=t().concat(Se(Qe)).sort(((e,t)=>e-t));o.forEach(((t,n)=>{let s=e(),a=o[n]=s?o[n-s]:{V:[],M:new Map};a.V.push(t),Qe.has(t)||Je.set(t,a)}));for(let{V:e,M:t}of new Set(Je.values())){let n=[];for(let t of e){let e=ze.filter((e=>Pe(e,t))),a=n.find((({G:t})=>e.some((e=>t.has(e)))));a||(a={G:new Set,V:[]},n.push(a)),a.V.push(t),s(a.G,e)}let a=n.flatMap((e=>Se(e.G)));for(let{G:e,V:s}of n){let n=new Set(a.filter((t=>!e.has(t))));for(let e of s)t.set(e,n)}}Ve=new Set;let c=new Set;const l=e=>Ve.has(e)?c.add(e):Ve.add(e);for(let e of ze){for(let t of e.P)l(t);for(let t of e.Q)l(t)}for(let e of Ve)Je.has(e)||c.has(e)||Je.set(e,Oe);s(Ve,Ie(Ve)),We=function(e){let t=[],n=$(e);return function e({S:n,B:s},a,r){if(!(4&n&&r===a[a.length-1])){2&n&&(r=a[a.length-1]),1&n&&t.push(a);for(let t of s)for(let n of t.Q)e(t,[...a,n],r)}}(function t(s){return{S:e(),B:te((()=>{let s=$(e).map((e=>n[e]));if(s.length)return t(s)})),Q:s}}([]),[]),t}(e).map((e=>_e.from(e))).sort(oe),Ke=new Map;for(let e of We){let t=[Ke];for(let n of e){let e=t.map((e=>{let t=e.get(n);return t||(t=new Map,e.set(n,t)),t}));n===Re?t.push(...e):t=e}for(let n of t)n.V=e}}function qe(e){return(Ye(e)?"":`${Xe($e([e]))} `)+re(e)}function Xe(e){return`"${e}"`}function $e(e,t=1/0,n=re){let s=[];var a;a=e[0],Ze(),Fe.has(a)&&s.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let r=0,i=e.length;for(let t=0;t<i;t++){let a=e[t];Ye(a)&&(s.push(ie(e.slice(r,t))),s.push(n(a)),r=t+1)}return s.push(ie(e.slice(r,i))),s.join("")}function Ye(e){return Ze(),Ge.has(e)}function et(e,t,n){if(!e)return[];Ze();let s=0;return e.split(Ne).map((e=>{let a=function(e){let t=[];for(let n=0,s=e.length;n<s;){let s=e.codePointAt(n);n+=s<65536?1:2,t.push(s)}return t}(e),r={input:a,offset:s};s+=a.length+1;try{let e,s=r.tokens=function(e,t,n){let s=[],a=[];for(e=e.slice().reverse();e.length;){let r=rt(e);if(r)a.length&&(s.push(t(a)),a=[]),s.push(n(r));else{let t=e.pop();if(Ve.has(t))a.push(t);else{let e=De.get(t);if(e)a.push(...e);else if(!Ue.has(t))throw tt(t)}}}return a.length&&s.push(t(a)),s}(a,t,n),i=s.length;if(!i)throw new Error("empty label");let o=r.output=s.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(o),!(r.emoji=i>1||s[0].is_emoji)&&o.every((e=>e<128)))!function(e){if(e.length>=4&&e[2]==Me&&e[3]==Me)throw new Error(`invalid label extension: "${ie(e.slice(0,4))}"`)}(o),e="ASCII";else{let t=s.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(Fe.has(o[0]))throw st("leading combining mark");for(let e=1;e<i;e++){let t=s[e];if(!t.is_emoji&&Fe.has(t[0]))throw st(`emoji + combining mark: "${ie(s[e-1])} + ${$e([t[0]])}"`)}!function(e){let t=e[0],n=W.get(t);if(n)throw st(`leading ${n}`);let s=e.length,a=-1;for(let r=1;r<s;r++){t=e[r];let s=W.get(t);if(s){if(a==r)throw st(`${n} + ${s}`);a=r+1,n=s}}if(a==s)throw st(`trailing ${n}`)}(o);let n=Se(new Set(t)),[a]=function(e){let t=ze;for(let n of e){let e=t.filter((e=>Pe(e,n)));if(!e.length)throw ze.some((e=>Pe(e,n)))?nt(t[0],n):tt(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!Pe(e,n))throw nt(e,n);if(e.M){let e=Ie(t);for(let t=1,n=e.length;t<n;t++)if(He.has(e[t])){let s=t+1;for(let a;s<n&&He.has(a=e[s]);s++)for(let n=t;n<s;n++)if(e[n]==a)throw new Error(`duplicate non-spacing marks: ${qe(a)}`);if(s-t>K)throw new Error(`excessive non-spacing marks: ${Xe($e(e.slice(t-1,s)))} (${s-t}/${K})`);t=s}}}(a,t),function(e,t){let n,s=[];for(let e of t){let t=Je.get(e);if(t===Oe)return;if(t){let s=t.M.get(e);if(n=n?n.filter((e=>s.has(e))):Se(s),!n.length)return}else s.push(e)}if(n)for(let t of n)if(s.every((e=>Pe(t,e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(a,n),e=a.N}else e="Emoji"}r.type=e}catch(e){r.error=e}return r}))}function tt(e){return new Error(`disallowed character: ${qe(e)}`)}function nt(e,t){let n=qe(t),s=ze.find((e=>e.P.has(t)));return s&&(n=`${s.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function st(e){return new Error(`illegal placement: ${e}`)}function at(e){return e.filter((e=>e!=Re))}function rt(e,t){let n,s=Ke,a=e.length;for(;a&&(s=s.get(e[--a]),s);){let{V:r}=s;r&&(n=r,t&&t.push(...e.slice(a).reverse()),e.length=a)}return n}const it=new Uint8Array(32);function ot(e){return(0,d.MR)(0!==e.length,"invalid ENS name; empty component","comp",e),e}function ct(e){const t=(0,B.YW)(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return function(e){return e.map((({input:t,error:n,output:s})=>{if(n){let s=n.message;throw new Error(1==e.length?s:`Invalid label ${Xe($e(t,63))}: ${s}`)}return ie(s)})).join(Ne)}(et(e,Be,at))}(e)}catch(t){(0,d.MR)(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),n=[];if(0===e.length)return n;let s=0;for(let e=0;e<t.length;e++)46===t[e]&&(n.push(ot(t.slice(s,e))),s=e+1);return(0,d.MR)(s<t.length,"invalid ENS name; empty component","name",e),n.push(ot(t.slice(s))),n}function lt(e){(0,d.MR)("string"==typeof e,"invalid ENS name; not a string","name",e),(0,d.MR)(e.length,"invalid ENS name (empty label)","name",e);let t=it;const n=ct(e);for(;n.length;)t=(0,o.S)((0,c.xW)([t,(0,o.S)(n.pop())]));return(0,c.c$)(t)}function dt(e,t){const n=null!=t?t:63;return(0,d.MR)(n<=255,"DNS encoded label cannot exceed 255","length",n),(0,c.c$)((0,c.xW)(ct(e).map((t=>{(0,d.MR)(t.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);const s=new Uint8Array(t.length+1);return s.set(t,1),s[0]=s.length-1,s}))))+"00"}it.fill(0);var ut=n(9190),pt=n(2531);class ht extends pt.Vw{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,pt.O8)(this.buffer)}update(e){(0,ut.t2)(this);const{view:t,buffer:n,blockLen:s}=this,a=(e=(0,pt.ZJ)(e)).length;for(let r=0;r<a;){const i=Math.min(s-this.pos,a-r);if(i!==s)n.set(e.subarray(r,r+i),this.pos),this.pos+=i,r+=i,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,pt.O8)(e);for(;s<=a-r;r+=s)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,ut.t2)(this),(0,ut.CG)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:a}=this;let{pos:r}=this;t[r++]=128,this.buffer.subarray(r).fill(0),this.padOffset>s-r&&(this.process(n,0),r=0);for(let e=r;e<s;e++)t[e]=0;!function(e,t,n,s){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,s);const a=BigInt(32),r=BigInt(4294967295),i=Number(n>>a&r),o=Number(n&r),c=s?4:0,l=s?0:4;e.setUint32(t+c,i,s),e.setUint32(t+l,o,s)}(n,s-8,BigInt(8*this.length),a),this.process(n,0);const i=(0,pt.O8)(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)i.setUint32(4*e,l[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:s,finished:a,destroyed:r,pos:i}=this;return e.length=s,e.pos=i,e.finished=a,e.destroyed=r,s%t&&e.buffer.set(n),e}}const ft=(e,t,n)=>e&t^e&n^t&n,mt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gt=new Uint32Array(64);class wt extends ht{constructor(){super(64,32,8,!1),this.A=0|yt[0],this.B=0|yt[1],this.C=0|yt[2],this.D=0|yt[3],this.E=0|yt[4],this.F=0|yt[5],this.G=0|yt[6],this.H=0|yt[7]}get(){const{A:e,B:t,C:n,D:s,E:a,F:r,G:i,H:o}=this;return[e,t,n,s,a,r,i,o]}set(e,t,n,s,a,r,i,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|s,this.E=0|a,this.F=0|r,this.G=0|i,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)gt[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=gt[e-15],n=gt[e-2],s=(0,pt.Ow)(t,7)^(0,pt.Ow)(t,18)^t>>>3,a=(0,pt.Ow)(n,17)^(0,pt.Ow)(n,19)^n>>>10;gt[e]=a+gt[e-7]+s+gt[e-16]|0}let{A:n,B:s,C:a,D:r,E:i,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+((0,pt.Ow)(i,6)^(0,pt.Ow)(i,11)^(0,pt.Ow)(i,25))+((d=i)&o^~d&c)+mt[e]+gt[e]|0,u=((0,pt.Ow)(n,2)^(0,pt.Ow)(n,13)^(0,pt.Ow)(n,22))+ft(n,s,a)|0;l=c,c=o,o=i,i=r+t|0,r=a,a=s,s=n,n=t+u|0}var d;n=n+this.A|0,s=s+this.B|0,a=a+this.C|0,r=r+this.D|0,i=i+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,s,a,r,i,o,c,l)}roundClean(){gt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const At=(0,pt.ld)((()=>new wt));var bt=n(9271);const[Et,vt]=(()=>bt.Ay.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),kt=new Uint32Array(80),Ct=new Uint32Array(80);class Tt extends ht{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:s,Ch:a,Cl:r,Dh:i,Dl:o,Eh:c,El:l,Fh:d,Fl:u,Gh:p,Gl:h,Hh:f,Hl:m}=this;return[e,t,n,s,a,r,i,o,c,l,d,u,p,h,f,m]}set(e,t,n,s,a,r,i,o,c,l,d,u,p,h,f,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|s,this.Ch=0|a,this.Cl=0|r,this.Dh=0|i,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|d,this.Fl=0|u,this.Gh=0|p,this.Gl=0|h,this.Hh=0|f,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)kt[n]=e.getUint32(t),Ct[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|kt[e-15],n=0|Ct[e-15],s=bt.Ay.rotrSH(t,n,1)^bt.Ay.rotrSH(t,n,8)^bt.Ay.shrSH(t,n,7),a=bt.Ay.rotrSL(t,n,1)^bt.Ay.rotrSL(t,n,8)^bt.Ay.shrSL(t,n,7),r=0|kt[e-2],i=0|Ct[e-2],o=bt.Ay.rotrSH(r,i,19)^bt.Ay.rotrBH(r,i,61)^bt.Ay.shrSH(r,i,6),c=bt.Ay.rotrSL(r,i,19)^bt.Ay.rotrBL(r,i,61)^bt.Ay.shrSL(r,i,6),l=bt.Ay.add4L(a,c,Ct[e-7],Ct[e-16]),d=bt.Ay.add4H(l,s,o,kt[e-7],kt[e-16]);kt[e]=0|d,Ct[e]=0|l}let{Ah:n,Al:s,Bh:a,Bl:r,Ch:i,Cl:o,Dh:c,Dl:l,Eh:d,El:u,Fh:p,Fl:h,Gh:f,Gl:m,Hh:y,Hl:g}=this;for(let e=0;e<80;e++){const t=bt.Ay.rotrSH(d,u,14)^bt.Ay.rotrSH(d,u,18)^bt.Ay.rotrBH(d,u,41),w=bt.Ay.rotrSL(d,u,14)^bt.Ay.rotrSL(d,u,18)^bt.Ay.rotrBL(d,u,41),A=d&p^~d&f,b=u&h^~u&m,E=bt.Ay.add5L(g,w,b,vt[e],Ct[e]),v=bt.Ay.add5H(E,y,t,A,Et[e],kt[e]),k=0|E,C=bt.Ay.rotrSH(n,s,28)^bt.Ay.rotrBH(n,s,34)^bt.Ay.rotrBH(n,s,39),T=bt.Ay.rotrSL(n,s,28)^bt.Ay.rotrBL(n,s,34)^bt.Ay.rotrBL(n,s,39),L=n&a^n&i^a&i,x=s&r^s&o^r&o;y=0|f,g=0|m,f=0|p,m=0|h,p=0|d,h=0|u,({h:d,l:u}=bt.Ay.add(0|c,0|l,0|v,0|k)),c=0|i,l=0|o,i=0|a,o=0|r,a=0|n,r=0|s;const I=bt.Ay.add3L(k,T,x);n=bt.Ay.add3H(I,v,C,L),s=0|I}({h:n,l:s}=bt.Ay.add(0|this.Ah,0|this.Al,0|n,0|s)),({h:a,l:r}=bt.Ay.add(0|this.Bh,0|this.Bl,0|a,0|r)),({h:i,l:o}=bt.Ay.add(0|this.Ch,0|this.Cl,0|i,0|o)),({h:c,l}=bt.Ay.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:d,l:u}=bt.Ay.add(0|this.Eh,0|this.El,0|d,0|u)),({h:p,l:h}=bt.Ay.add(0|this.Fh,0|this.Fl,0|p,0|h)),({h:f,l:m}=bt.Ay.add(0|this.Gh,0|this.Gl,0|f,0|m)),({h:y,l:g}=bt.Ay.add(0|this.Hh,0|this.Hl,0|y,0|g)),this.set(n,s,a,r,i,o,c,l,d,u,p,h,f,m,y,g)}roundClean(){kt.fill(0),Ct.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Lt=(0,pt.ld)((()=>new Tt)),xt=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();function It(e){switch(e){case"sha256":return At.create();case"sha512":return Lt.create()}(0,d.MR)(!1,"invalid hashing algorithm name","algorithm",e)}xt.crypto||xt.msCrypto;const Bt=function(e){return It("sha256").update(e).digest()},Mt=function(e){return It("sha512").update(e).digest()};let Nt=Bt,Rt=Mt,Ot=!1,St=!1;function Pt(e){const t=(0,c.q5)(e,"data");return(0,c.c$)(Nt(t))}function _t(e){const t=(0,c.q5)(e,"data");return(0,c.c$)(Rt(t))}Pt._=Bt,Pt.lock=function(){Ot=!0},Pt.register=function(e){if(Ot)throw new Error("sha256 is locked");Nt=e},Object.freeze(Pt),_t._=Mt,_t.lock=function(){St=!0},_t.register=function(e){if(St)throw new Error("sha512 is locked");Rt=e},Object.freeze(Pt);const Dt="0x0000000000000000000000000000000000000000000000000000000000000000",Ut=BigInt(0),Ft=BigInt(1),Ht=BigInt(2),Gt=BigInt(27),jt=BigInt(28),zt=BigInt(35),Qt={};function Jt(e){return(0,c.nx)((0,l.c4)(e),32)}class Vt{#Z;#q;#X;#$;get r(){return this.#Z}set r(e){(0,d.MR)(32===(0,c.pO)(e),"invalid r","value",e),this.#Z=(0,c.c$)(e)}get s(){return this.#q}set s(e){(0,d.MR)(32===(0,c.pO)(e),"invalid s","value",e);const t=(0,c.c$)(e);(0,d.MR)(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#q=t}get v(){return this.#X}set v(e){const t=(0,l.WZ)(e,"value");(0,d.MR)(27===t||28===t,"invalid v","v",e),this.#X=t}get networkV(){return this.#$}get legacyChainId(){const e=this.networkV;return null==e?null:Vt.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=(0,c.q5)(this.s);return this.yParity&&(e[0]|=128),(0,c.c$)(e)}get compactSerialized(){return(0,c.xW)([this.r,this.yParityAndS])}get serialized(){return(0,c.xW)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,s){(0,d.gk)(e,Qt,"Signature"),this.#Z=t,this.#q=n,this.#X=s,this.#$=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Vt(Qt,this.r,this.s,this.v);return this.networkV&&(e.#$=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=(0,l.Ab)(e,"v");return t==Gt||t==jt?Ut:((0,d.MR)(t>=zt,"invalid EIP-155 v","v",e),(t-zt)/Ht)}static getChainIdV(e,t){return(0,l.Ab)(e)*Ht+BigInt(35+t-27)}static getNormalizedV(e){const t=(0,l.Ab)(e);return t===Ut||t===Gt?27:t===Ft||t===jt?28:((0,d.MR)(t>=zt,"invalid v","v",e),t&Ft?27:28)}static from(e){function t(t,n){(0,d.MR)(t,n,"signature",e)}if(null==e)return new Vt(Qt,Dt,Dt,27);if("string"==typeof e){const n=(0,c.q5)(e,"signature");if(64===n.length){const e=(0,c.c$)(n.slice(0,32)),t=n.slice(32,64),s=128&t[0]?28:27;return t[0]&=127,new Vt(Qt,e,(0,c.c$)(t),s)}if(65===n.length){const e=(0,c.c$)(n.slice(0,32)),s=n.slice(32,64);t(!(128&s[0]),"non-canonical s");const a=Vt.getNormalizedV(n[64]);return new Vt(Qt,e,(0,c.c$)(s),a)}t(!1,"invalid raw signature length")}if(e instanceof Vt)return e.clone();const n=e.r;t(null!=n,"missing r");const s=Jt(n),a=function(e,n){if(null!=e)return Jt(e);if(null!=n){t((0,c.Lo)(n,32),"invalid yParityAndS");const e=(0,c.q5)(n);return e[0]&=127,(0,c.c$)(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(!(128&(0,c.q5)(a)[0]),"non-canonical s");const{networkV:r,v:i}=function(e,n,s){if(null!=e){const t=(0,l.Ab)(e);return{networkV:t>=zt?t:void 0,v:Vt.getNormalizedV(t)}}if(null!=n)return t((0,c.Lo)(n,32),"invalid yParityAndS"),{v:128&(0,c.q5)(n)[0]?28:27};if(null!=s){switch((0,l.WZ)(s,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new Vt(Qt,s,a,i);return r&&(o.#$=r),t(null==e.yParity||(0,l.WZ)(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}BigInt(0);const Wt=BigInt(1),Kt=BigInt(2),Zt=e=>e instanceof Uint8Array,qt=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Xt(e){if(!Zt(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=qt[e[n]];return t}function $t(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function Yt(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const s=2*t,a=e.slice(s,s+2),r=Number.parseInt(a,16);if(Number.isNaN(r)||r<0)throw new Error("Invalid byte sequence");n[t]=r}return n}function en(e){return $t(Xt(e))}function tn(e){if(!Zt(e))throw new Error("Uint8Array expected");return $t(Xt(Uint8Array.from(e).reverse()))}function nn(e,t){return Yt(e.toString(16).padStart(2*t,"0"))}function sn(e,t){return nn(e,t).reverse()}function an(e,t,n){let s;if("string"==typeof t)try{s=Yt(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!Zt(t))throw new Error(`${e} must be hex string or Uint8Array`);s=Uint8Array.from(t)}const a=s.length;if("number"==typeof n&&a!==n)throw new Error(`${e} expected ${n} bytes, got ${a}`);return s}function rn(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Zt(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}const on=e=>(Kt<<BigInt(e-1))-Wt,cn=e=>new Uint8Array(e),ln=e=>Uint8Array.from(e);function dn(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let s=cn(e),a=cn(e),r=0;const i=()=>{s.fill(1),a.fill(0),r=0},o=(...e)=>n(a,s,...e),c=(e=cn())=>{a=o(ln([0]),e),s=o(),0!==e.length&&(a=o(ln([1]),e),s=o())},l=()=>{if(r++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){s=o();const t=s.slice();n.push(t),e+=s.length}return rn(...n)};return(e,t)=>{let n;for(i(),c(e);!(n=t(l()));)c();return i(),n}}const un={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function pn(e,t,n={}){const s=(t,n,s)=>{const a=un[n];if("function"!=typeof a)throw new Error(`Invalid validator "${n}", expected function`);const r=e[t];if(!(s&&void 0===r||a(r,e)))throw new Error(`Invalid param ${String(t)}=${r} (${typeof r}), expected ${n}`)};for(const[e,n]of Object.entries(t))s(e,n,!1);for(const[e,t]of Object.entries(n))s(e,t,!0);return e}const hn=BigInt(0),fn=BigInt(1),mn=BigInt(2),yn=BigInt(3),gn=BigInt(4),wn=BigInt(5),An=BigInt(8);function bn(e,t){const n=e%t;return n>=hn?n:t+n}function En(e,t,n){if(n<=hn||t<hn)throw new Error("Expected power/modulo > 0");if(n===fn)return hn;let s=fn;for(;t>hn;)t&fn&&(s=s*e%n),e=e*e%n,t>>=fn;return s}function vn(e,t,n){let s=e;for(;t-- >hn;)s*=s,s%=n;return s}function kn(e,t){if(e===hn||t<=hn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=bn(e,t),s=t,a=hn,r=fn,i=fn,o=hn;for(;n!==hn;){const e=s/n,t=s%n,c=a-i*e,l=r-o*e;s=n,n=t,a=i,r=o,i=c,o=l}if(s!==fn)throw new Error("invert: does not exist");return bn(a,t)}BigInt(9),BigInt(16);const Cn=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Tn(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Ln(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function xn(e){const t=Ln(e);return t+Math.ceil(t/2)}class In extends pt.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,ut.tW)(e);const n=(0,pt.ZJ)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(n.length>s?e.create().update(n).digest():n);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,ut.t2)(this),this.iHash.update(e),this}digestInto(e){(0,ut.t2)(this),(0,ut.ee)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:s,destroyed:a,blockLen:r,outputLen:i}=this;return e.finished=s,e.destroyed=a,e.blockLen=r,e.outputLen=i,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Bn=(e,t,n)=>new In(e,t).update(n).digest();Bn.create=(e,t)=>new In(e,t);const Mn=BigInt(0),Nn=BigInt(1);function Rn(e){return pn(e.Fp,Cn.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),pn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Tn(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:On,hexToBytes:Sn}=s,Pn={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Pn;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(128&s[0])throw new t("Invalid signature integer: negative");if(0===s[0]&&!(128&s[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:On(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Pn,n="string"==typeof e?Sn(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:a,l:r}=Pn._parseInt(n.subarray(2)),{d:i,l:o}=Pn._parseInt(r);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s:i}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},s=t(n(e.s)),a=t(n(e.r)),r=s.length/2,i=a.length/2,o=n(r),c=n(i);return`30${n(i+r+4)}02${c}${a}02${o}${s}`}},_n=BigInt(0),Dn=BigInt(1),Un=(BigInt(2),BigInt(3));function Fn(e){const t=function(e){const t=Rn(e);return pn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:s}=t,a=n.BYTES+1,r=2*n.BYTES+1;function i(e){return bn(e,s)}function o(e){return kn(e,s)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:u}=function(e){const t=function(e){const t=Rn(e);pn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a}=t;if(n){if(!s.eql(a,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,s=t.toBytes||((e,t,s)=>{const a=t.toAffine();return rn(Uint8Array.from([4]),n.toBytes(a.x),n.toBytes(a.y))}),a=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function r(e){const{a:s,b:a}=t,r=n.sqr(e),i=n.mul(r,e);return n.add(n.add(i,n.mul(e,s)),a)}if(!n.eql(n.sqr(t.Gy),r(t.Gx)))throw new Error("bad generator point: equation left != right");function i(e){return"bigint"==typeof e&&_n<e&&e<t.n}function o(e){if(!i(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:s,wrapPrivateKey:a,n:r}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Xt(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*s,"0")}let i;try{i="bigint"==typeof e?e:en(an("private key",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return a&&(i=bn(i,r)),o(i),i}const l=new Map;function d(e){if(!(e instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(e,t,s){if(this.px=e,this.py=t,this.pz=s,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==s||!n.isValid(s))throw new Error("z required")}static fromAffine(e){const{x:t,y:s}=e||{};if(!e||!n.isValid(t)||!n.isValid(s))throw new Error("invalid affine point");if(e instanceof u)throw new Error("projective point not allowed");const a=e=>n.eql(e,n.ZERO);return a(t)&&a(s)?u.ZERO:new u(t,s,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(u.fromAffine)}static fromHex(e){const t=u.fromAffine(a(an("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return u.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:s}=this.toAffine();if(!n.isValid(e)||!n.isValid(s))throw new Error("bad point: x or y not FE");const a=n.sqr(s),i=r(e);if(!n.eql(a,i))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){d(e);const{px:t,py:s,pz:a}=this,{px:r,py:i,pz:o}=e,c=n.eql(n.mul(t,o),n.mul(r,a)),l=n.eql(n.mul(s,o),n.mul(i,a));return c&&l}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:s}=t,a=n.mul(s,Un),{px:r,py:i,pz:o}=this;let c=n.ZERO,l=n.ZERO,d=n.ZERO,p=n.mul(r,r),h=n.mul(i,i),f=n.mul(o,o),m=n.mul(r,i);return m=n.add(m,m),d=n.mul(r,o),d=n.add(d,d),c=n.mul(e,d),l=n.mul(a,f),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(m,c),d=n.mul(a,d),f=n.mul(e,f),m=n.sub(p,f),m=n.mul(e,m),m=n.add(m,d),d=n.add(p,p),p=n.add(d,p),p=n.add(p,f),p=n.mul(p,m),l=n.add(l,p),f=n.mul(i,o),f=n.add(f,f),p=n.mul(f,m),c=n.sub(c,p),d=n.mul(f,h),d=n.add(d,d),d=n.add(d,d),new u(c,l,d)}add(e){d(e);const{px:s,py:a,pz:r}=this,{px:i,py:o,pz:c}=e;let l=n.ZERO,p=n.ZERO,h=n.ZERO;const f=t.a,m=n.mul(t.b,Un);let y=n.mul(s,i),g=n.mul(a,o),w=n.mul(r,c),A=n.add(s,a),b=n.add(i,o);A=n.mul(A,b),b=n.add(y,g),A=n.sub(A,b),b=n.add(s,r);let E=n.add(i,c);return b=n.mul(b,E),E=n.add(y,w),b=n.sub(b,E),E=n.add(a,r),l=n.add(o,c),E=n.mul(E,l),l=n.add(g,w),E=n.sub(E,l),h=n.mul(f,b),l=n.mul(m,w),h=n.add(l,h),l=n.sub(g,h),h=n.add(g,h),p=n.mul(l,h),g=n.add(y,y),g=n.add(g,y),w=n.mul(f,w),b=n.mul(m,b),g=n.add(g,w),w=n.sub(y,w),w=n.mul(f,w),b=n.add(b,w),y=n.mul(g,b),p=n.add(p,y),y=n.mul(E,b),l=n.mul(A,l),l=n.sub(l,y),y=n.mul(A,g),h=n.mul(E,h),h=n.add(h,y),new u(l,p,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(u.ZERO)}wNAF(e){return h.wNAFCached(this,l,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(u.fromAffine)}))}multiplyUnsafe(e){const s=u.ZERO;if(e===_n)return s;if(o(e),e===Dn)return this;const{endo:a}=t;if(!a)return h.unsafeLadder(this,e);let{k1neg:r,k1:i,k2neg:c,k2:l}=a.splitScalar(e),d=s,p=s,f=this;for(;i>_n||l>_n;)i&Dn&&(d=d.add(f)),l&Dn&&(p=p.add(f)),f=f.double(),i>>=Dn,l>>=Dn;return r&&(d=d.negate()),c&&(p=p.negate()),p=new u(n.mul(p.px,a.beta),p.py,p.pz),d.add(p)}multiply(e){o(e);let s,a,r=e;const{endo:i}=t;if(i){const{k1neg:e,k1:t,k2neg:o,k2:c}=i.splitScalar(r);let{p:l,f:d}=this.wNAF(t),{p,f}=this.wNAF(c);l=h.constTimeNegate(e,l),p=h.constTimeNegate(o,p),p=new u(n.mul(p.px,i.beta),p.py,p.pz),s=l.add(p),a=d.add(f)}else{const{p:e,f:t}=this.wNAF(r);s=e,a=t}return u.normalizeZ([s,a])[0]}multiplyAndAddUnsafe(e,t,n){const s=u.BASE,a=(e,t)=>t!==_n&&t!==Dn&&e.equals(s)?e.multiply(t):e.multiplyUnsafe(t),r=a(this,t).add(a(e,n));return r.is0()?void 0:r}toAffine(e){const{px:t,py:s,pz:a}=this,r=this.is0();null==e&&(e=r?n.ONE:n.inv(a));const i=n.mul(t,e),o=n.mul(s,e),c=n.mul(a,e);if(r)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:i,y:o}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Dn)return!0;if(n)return n(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Dn?this:n?n(u,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),s(u,this,e)}toHex(e=!0){return Xt(this.toRawBytes(e))}}u.BASE=new u(t.Gx,t.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);const p=t.nBitLength,h=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},s=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let s=e.ZERO,a=t;for(;n>Mn;)n&Nn&&(s=s.add(a)),a=a.double(),n>>=Nn;return s},precomputeWindow(e,t){const{windows:n,windowSize:a}=s(t),r=[];let i=e,o=i;for(let e=0;e<n;e++){o=i,r.push(o);for(let e=1;e<a;e++)o=o.add(i),r.push(o);i=o.double()}return r},wNAF(t,a,r){const{windows:i,windowSize:o}=s(t);let c=e.ZERO,l=e.BASE;const d=BigInt(2**t-1),u=2**t,p=BigInt(t);for(let e=0;e<i;e++){const t=e*o;let s=Number(r&d);r>>=p,s>o&&(s-=u,r+=Nn);const i=t,h=t+Math.abs(s)-1,f=e%2!=0,m=s<0;0===s?l=l.add(n(f,a[i])):c=c.add(n(m,a[h]))}return{p:c,f:l}},wNAFCached(e,t,n,s){const a=e._WINDOW_SIZE||1;let r=t.get(e);return r||(r=this.precomputeWindow(e,a),1!==a&&t.set(e,s(r))),this.wNAF(a,r,n)}}}(u,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:r,isWithinCurveOrder:i}}({...t,toBytes(e,t,s){const a=t.toAffine(),r=n.toBytes(a.x),i=rn;return s?i(Uint8Array.from([t.hasEvenY()?2:3]),r):i(Uint8Array.from([4]),r,n.toBytes(a.y))},fromBytes(e){const t=e.length,s=e[0],i=e.subarray(1);if(t!==a||2!==s&&3!==s){if(t===r&&4===s)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${a} compressed bytes or ${r} uncompressed bytes`)}{const e=en(i);if(!(_n<(o=e)&&o<n.ORDER))throw new Error("Point is not on curve");const t=d(e);let a=n.sqrt(t);return!(1&~s)!=((a&Dn)===Dn)&&(a=n.neg(a)),{x:e,y:a}}var o}}),p=e=>Xt(nn(e,t.nByteLength));function h(e){return e>s>>Dn}const f=(e,t,n)=>en(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=an("compactSignature",e,2*n),new m(f(e,0,n),f(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Pn.toSig(an("DER",e));return new m(t,n)}assertValidity(){if(!u(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:s,s:a,recovery:r}=this,l=A(an("msgHash",e));if(null==r||![0,1,2,3].includes(r))throw new Error("recovery id invalid");const d=2===r||3===r?s+t.n:s;if(d>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&r?"03":"02",h=c.fromHex(u+p(d)),f=o(d),m=i(-l*f),y=i(a*f),g=c.BASE.multiplyAndAddUnsafe(h,m,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Yt(this.toDERHex())}toDERHex(){return Pn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Yt(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const y={isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=xn(t.n);return function(e,t,n=!1){const s=e.length,a=Ln(t),r=xn(t);if(s<16||s<r||s>1024)throw new Error(`expected ${r}-1024 bytes of input, got ${s}`);const i=bn(n?en(e):tn(e),t-fn)+fn;return n?sn(i,a):nn(i,a)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=e instanceof Uint8Array,n="string"==typeof e,s=(t||n)&&e.length;return t?s===a||s===r:n?s===2*a||s===2*r:e instanceof c}const w=t.bits2int||function(e){const n=en(e),s=8*e.length-t.nBitLength;return s>0?n>>BigInt(s):n},A=t.bits2int_modN||function(e){return i(w(e))},b=on(t.nBitLength);function E(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(_n<=e&&e<b))throw new Error(`bigint expected < 2^${t.nBitLength}`);return nn(e,t.nByteLength)}const v={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,s,a=v){const{seed:r,k2sig:d}=function(e,s,a=v){if(["recovered","canonical"].some((e=>e in a)))throw new Error("sign() legacy options not supported");const{hash:r,randomBytes:d}=t;let{lowS:p,prehash:f,extraEntropy:y}=a;null==p&&(p=!0),e=an("msgHash",e),f&&(e=an("prehashed msgHash",r(e)));const g=A(e),b=l(s),k=[E(b),E(g)];if(null!=y){const e=!0===y?d(n.BYTES):y;k.push(an("extraEntropy",e))}const C=rn(...k),T=g;return{seed:C,k2sig:function(e){const t=w(e);if(!u(t))return;const n=o(t),s=c.BASE.multiply(t).toAffine(),a=i(s.x);if(a===_n)return;const r=i(n*i(T+a*b));if(r===_n)return;let l=(s.x===a?0:2)|Number(s.y&Dn),d=r;return p&&h(r)&&(d=function(e){return h(e)?i(-e):e}(r),l^=1),new m(a,d,l)}}}(e,s,a),p=t;return dn(p.hash.outputLen,p.nByteLength,p.hmac)(r,d)},verify:function(e,n,s,a=k){const r=e;if(n=an("msgHash",n),s=an("publicKey",s),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:d}=a;let u,p;try{if("string"==typeof r||r instanceof Uint8Array)try{u=m.fromDER(r)}catch(e){if(!(e instanceof Pn.Err))throw e;u=m.fromCompact(r)}else{if("object"!=typeof r||"bigint"!=typeof r.r||"bigint"!=typeof r.s)throw new Error("PARSE");{const{r:e,s:t}=r;u=new m(e,t)}}p=c.fromHex(s)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&u.hasHighS())return!1;d&&(n=t.hash(n));const{r:h,s:f}=u,y=A(n),g=o(f),w=i(y*g),b=i(h*g),E=c.BASE.multiplyAndAddUnsafe(p,w,b)?.toAffine();return!!E&&i(E.x)===h},ProjectivePoint:c,Signature:m,utils:y}}function Hn(e){return{hash:e,hmac:(t,...n)=>Bn(e,t,(0,pt.Id)(...n)),randomBytes:pt.po}}BigInt(4);const Gn=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jn=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),zn=BigInt(1),Qn=BigInt(2),Jn=(e,t)=>(e+t/Qn)/t;const Vn=function(e,t,n=!1,s={}){if(e<=hn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:r}=Tn(e,t);if(r>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=function(e){if(e%gn===yn){const t=(e+fn)/gn;return function(e,n){const s=e.pow(n,t);if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}if(e%An===wn){const t=(e-wn)/An;return function(e,n){const s=e.mul(n,mn),a=e.pow(s,t),r=e.mul(n,a),i=e.mul(e.mul(r,mn),a),o=e.mul(r,e.sub(i,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-fn)/mn;let n,s,a;for(n=e-fn,s=0;n%mn===hn;n/=mn,s++);for(a=mn;a<e&&En(a,t,e)!==e-fn;a++);if(1===s){const t=(e+fn)/gn;return function(e,n){const s=e.pow(n,t);if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}const r=(n+fn)/mn;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=s,c=e.pow(e.mul(e.ONE,a),n),l=e.pow(i,r),d=e.pow(i,n);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(d);t<o&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,fn<<BigInt(o-t-1));c=e.sqr(n),l=e.mul(l,n),d=e.mul(d,c),o=t}return l}}(e)}(e),o=Object.freeze({ORDER:e,BITS:a,BYTES:r,MASK:on(a),ZERO:hn,ONE:fn,create:t=>bn(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return hn<=t&&t<e},is0:e=>e===hn,isOdd:e=>(e&fn)===fn,neg:t=>bn(-t,e),eql:(e,t)=>e===t,sqr:t=>bn(t*t,e),add:(t,n)=>bn(t+n,e),sub:(t,n)=>bn(t-n,e),mul:(t,n)=>bn(t*n,e),pow:(e,t)=>function(e,t,n){if(n<hn)throw new Error("Expected power > 0");if(n===hn)return e.ONE;if(n===fn)return t;let s=e.ONE,a=t;for(;n>hn;)n&fn&&(s=e.mul(s,a)),a=e.sqr(a),n>>=fn;return s}(o,e,t),div:(t,n)=>bn(t*kn(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>kn(t,e),sqrt:s.sqrt||(e=>i(o,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),s=t.reduce(((t,s,a)=>e.is0(s)?t:(n[a]=t,e.mul(t,s))),e.ONE),a=e.inv(s);return t.reduceRight(((t,s,a)=>e.is0(s)?t:(n[a]=e.mul(t,n[a]),e.mul(t,s))),a),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?sn(e,r):nn(e,r),fromBytes:e=>{if(e.length!==r)throw new Error(`Fp.fromBytes: expected ${r}, got ${e.length}`);return n?tn(e):en(e)}});return Object.freeze(o)}(Gn,void 0,void 0,{sqrt:function(e){const t=Gn,n=BigInt(3),s=BigInt(6),a=BigInt(11),r=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),l=e*e*e%t,d=l*l*e%t,u=vn(d,n,t)*d%t,p=vn(u,n,t)*d%t,h=vn(p,Qn,t)*l%t,f=vn(h,a,t)*h%t,m=vn(f,r,t)*f%t,y=vn(m,o,t)*m%t,g=vn(y,c,t)*y%t,w=vn(g,o,t)*m%t,A=vn(w,n,t)*d%t,b=vn(A,i,t)*f%t,E=vn(b,s,t)*l%t,v=vn(E,Qn,t);if(!Vn.eql(Vn.sqr(v),e))throw new Error("Cannot find square root");return v}}),Wn=function(e,t){const n=t=>Fn({...e,...Hn(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Vn,n:jn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=jn,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-zn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),r=n,i=BigInt("0x100000000000000000000000000000000"),o=Jn(r*e,t),c=Jn(-s*e,t);let l=bn(e-o*n-c*a,t),d=bn(-o*s-c*r,t);const u=l>i,p=d>i;if(u&&(l=t-l),p&&(d=t-d),l>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:l,k2neg:p,k2:d}}}},At);BigInt(0),Wn.ProjectivePoint;class Kn{#Y;constructor(e){(0,d.MR)(32===(0,c.pO)(e),"invalid private key","privateKey","[REDACTED]"),this.#Y=(0,c.c$)(e)}get privateKey(){return this.#Y}get publicKey(){return Kn.computePublicKey(this.#Y)}get compressedPublicKey(){return Kn.computePublicKey(this.#Y,!0)}sign(e){(0,d.MR)(32===(0,c.pO)(e),"invalid digest length","digest",e);const t=Wn.sign((0,c.Lm)(e),(0,c.Lm)(this.#Y),{lowS:!0});return Vt.from({r:(0,l.up)(t.r,32),s:(0,l.up)(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Kn.computePublicKey(e);return(0,c.c$)(Wn.getSharedSecret((0,c.Lm)(this.#Y),(0,c.q5)(t),!1))}static computePublicKey(e,t){let n=(0,c.q5)(e,"key");if(32===n.length){const e=Wn.getPublicKey(n,!!t);return(0,c.c$)(e)}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}const s=Wn.ProjectivePoint.fromHex(n);return(0,c.c$)(s.toRawBytes(t))}static recoverPublicKey(e,t){(0,d.MR)(32===(0,c.pO)(e),"invalid digest length","digest",e);const n=Vt.from(t);let s=Wn.Signature.fromCompact((0,c.Lm)((0,c.xW)([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const a=s.recoverPublicKey((0,c.Lm)(e));return(0,d.MR)(null!=a,"invalid signautre for digest","signature",t),"0x"+a.toHex(!1)}static addPoints(e,t,n){const s=Wn.ProjectivePoint.fromHex(Kn.computePublicKey(e).substring(2)),a=Wn.ProjectivePoint.fromHex(Kn.computePublicKey(t).substring(2));return"0x"+s.add(a).toHex(!!n)}}function Zn(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function qn(e,t,n){let s=0;for(let a=0;a<n;a++)s=256*s+e[t+a];return s}function Xn(e,t,n,s){const a=[];for(;n<t+1+s;){const r=$n(e,n);a.push(r.result),n+=r.consumed,(0,d.vA)(n<=t+1+s,"child data too short","BUFFER_OVERRUN",{buffer:e,length:s,offset:t})}return{consumed:1+s,result:a}}function $n(e,t){(0,d.vA)(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{(0,d.vA)(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const s=e[t]-247;n(t+1+s);const a=qn(e,t+1,s);return n(t+1+s+a),Xn(e,t,t+1+s,s+a)}if(e[t]>=192){const s=e[t]-192;return n(t+1+s),Xn(e,t,t+1,s)}if(e[t]>=184){const s=e[t]-183;n(t+1+s);const a=qn(e,t+1,s);return n(t+1+s+a),{consumed:1+s+a,result:(0,c.c$)(e.slice(t+1+s,t+1+s+a))}}if(e[t]>=128){const s=e[t]-128;return n(t+1+s),{consumed:1+s,result:(0,c.c$)(e.slice(t+1,t+1+s))}}return{consumed:1,result:Zn(e[t])}}function Yn(e){const t=(0,c.q5)(e,"data"),n=$n(t,0);return(0,d.MR)(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function es(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function ts(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(ts(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=es(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call((0,c.q5)(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=es(t.length);return n.unshift(183+n.length),n.concat(t)}const ns="0123456789abcdef";function ss(e){let t="0x";for(const n of ts(e))t+=ns[n>>4],t+=ns[15&n];return t}const as=BigInt(0),rs=BigInt(2),is=BigInt(27),os=BigInt(28),cs=BigInt(35),ls=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ds=131072;function us(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=Pt(t).substring(4),"0x"+n}function ps(e){return"0x"===e?null:(0,r.b)(e)}function hs(e,t){try{return(0,I.$)(e)}catch(n){(0,d.MR)(!1,n.message,t,e)}}function fs(e,t){return"0x"===e?0:(0,l.WZ)(e,t)}function ms(e,t){if("0x"===e)return as;const n=(0,l.Ab)(e,t);return(0,d.MR)(n<=ls,"value exceeds uint size",t,n),n}function ys(e,t){const n=(0,l.Ab)(e,"value"),s=(0,l.c4)(n);return(0,d.MR)(s.length<=32,"value too large",`tx.${t}`,n),s}function gs(e){return(0,I.$)(e).map((e=>[e.address,e.storageKeys]))}function ws(e,t){(0,d.MR)(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)(0,d.MR)((0,c.Lo)(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}function As(e,t){let n;try{if(n=fs(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(e){(0,d.MR)(!1,"invalid yParity","yParity",t[0])}const s=(0,c.nx)(t[1],32),a=(0,c.nx)(t[2],32),r=Vt.from({r:s,s:a,yParity:n});e.signature=r}class bs{#ee;#te;#n;#ne;#se;#ae;#re;#ie;#oe;#ce;#le;#de;#ue;#pe;#he;#fe;get type(){return this.#ee}set type(e){switch(e){case null:this.#ee=null;break;case 0:case"legacy":this.#ee=0;break;case 1:case"berlin":case"eip-2930":this.#ee=1;break;case 2:case"london":case"eip-1559":this.#ee=2;break;case 3:case"cancun":case"eip-4844":this.#ee=3;break;default:(0,d.MR)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#te;return null==e&&3===this.type?Q:e}set to(e){this.#te=null==e?null:(0,r.b)(e)}get nonce(){return this.#ne}set nonce(e){this.#ne=(0,l.WZ)(e,"value")}get gasLimit(){return this.#se}set gasLimit(e){this.#se=(0,l.Ab)(e)}get gasPrice(){const e=this.#ae;return null!=e||0!==this.type&&1!==this.type?e:as}set gasPrice(e){this.#ae=null==e?null:(0,l.Ab)(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#re;return null==e?2===this.type||3===this.type?as:null:e}set maxPriorityFeePerGas(e){this.#re=null==e?null:(0,l.Ab)(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#ie;return null==e?2===this.type||3===this.type?as:null:e}set maxFeePerGas(e){this.#ie=null==e?null:(0,l.Ab)(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=(0,c.c$)(e)}get value(){return this.#oe}set value(e){this.#oe=(0,l.Ab)(e,"value")}get chainId(){return this.#ce}set chainId(e){this.#ce=(0,l.Ab)(e)}get signature(){return this.#le||null}set signature(e){this.#le=null==e?null:Vt.from(e)}get accessList(){const e=this.#de||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#de=null==e?null:(0,I.$)(e)}get maxFeePerBlobGas(){const e=this.#ue;return null==e&&3===this.type?as:e}set maxFeePerBlobGas(e){this.#ue=null==e?null:(0,l.Ab)(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#pe;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){(0,d.MR)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)(0,d.MR)((0,c.Lo)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#pe=e}get blobs(){return null==this.#fe?null:this.#fe.map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void(this.#fe=null);const t=[],n=[];for(let s=0;s<e.length;s++){const a=e[s];if((0,c.f)(a)){(0,d.vA)(this.#he,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=(0,c.q5)(a);if((0,d.MR)(e.length<=ds,"blob is too large",`blobs[${s}]`,a),e.length!==ds){const t=new Uint8Array(ds);t.set(e),e=t}const r=this.#he.blobToKzgCommitment(e),i=(0,c.c$)(this.#he.computeBlobKzgProof(e,r));t.push({data:(0,c.c$)(e),commitment:(0,c.c$)(r),proof:i}),n.push(us(1,r))}else{const e=(0,c.c$)(a.commitment);t.push({data:(0,c.c$)(a.data),commitment:e,proof:(0,c.c$)(a.proof)}),n.push(us(1,e))}}this.#fe=t,this.#pe=n}get kzg(){return this.#he}set kzg(e){this.#he=e}constructor(){this.#ee=null,this.#te=null,this.#ne=0,this.#se=as,this.#ae=null,this.#re=null,this.#ie=null,this.#n="0x",this.#oe=as,this.#ce=as,this.#le=null,this.#de=null,this.#ue=null,this.#pe=null,this.#fe=null,this.#he=null}get hash(){return null==this.signature?null:(0,o.S)(this.#me(!0,!1))}get unsignedHash(){return(0,o.S)(this.unsignedSerialized)}get from(){return null==this.signature?null:(e=this.unsignedHash,t=this.signature,function(e){let t;return t="string"==typeof e?Kn.computePublicKey(e,!1):e.publicKey,(0,r.b)((0,o.S)("0x"+t.substring(4)).substring(26))}(Kn.recoverPublicKey(e,t)));var e,t}get fromPublicKey(){return null==this.signature?null:Kn.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#me(e,t){(0,d.vA)(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[ys(e.nonce,"nonce"),ys(e.gasPrice||0,"gasPrice"),ys(e.gasLimit,"gasLimit"),e.to||"0x",ys(e.value,"value"),e.data];let s=as;if(e.chainId!=as)s=(0,l.Ab)(e.chainId,"tx.chainId"),(0,d.MR)(!t||null==t.networkV||t.legacyChainId===s,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(s=t)}if(!t)return s!==as&&(n.push((0,l.c4)(s)),n.push("0x"),n.push("0x")),ss(n);let a=BigInt(27+t.yParity);return s!==as?a=Vt.getChainIdV(s,t.v):BigInt(t.v)!==a&&(0,d.MR)(!1,"tx.chainId/sig.v mismatch","sig",t),n.push((0,l.c4)(a)),n.push((0,l.c4)(t.r)),n.push((0,l.c4)(t.s)),ss(n)}(this,n);case 1:return function(e,t){const n=[ys(e.chainId,"chainId"),ys(e.nonce,"nonce"),ys(e.gasPrice||0,"gasPrice"),ys(e.gasLimit,"gasLimit"),e.to||"0x",ys(e.value,"value"),e.data,gs(e.accessList||[])];return t&&(n.push(ys(t.yParity,"recoveryParam")),n.push((0,l.c4)(t.r)),n.push((0,l.c4)(t.s))),(0,c.xW)(["0x01",ss(n)])}(this,n);case 2:return function(e,t){const n=[ys(e.chainId,"chainId"),ys(e.nonce,"nonce"),ys(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ys(e.maxFeePerGas||0,"maxFeePerGas"),ys(e.gasLimit,"gasLimit"),e.to||"0x",ys(e.value,"value"),e.data,gs(e.accessList||[])];return t&&(n.push(ys(t.yParity,"yParity")),n.push((0,l.c4)(t.r)),n.push((0,l.c4)(t.s))),(0,c.xW)(["0x02",ss(n)])}(this,n);case 3:return function(e,t,n){const s=[ys(e.chainId,"chainId"),ys(e.nonce,"nonce"),ys(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ys(e.maxFeePerGas||0,"maxFeePerGas"),ys(e.gasLimit,"gasLimit"),e.to||Q,ys(e.value,"value"),e.data,gs(e.accessList||[]),ys(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),ws(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(s.push(ys(t.yParity,"yParity")),s.push((0,l.c4)(t.r)),s.push((0,l.c4)(t.s)),n)?(0,c.xW)(["0x03",ss([s,n.map((e=>e.data)),n.map((e=>e.commitment)),n.map((e=>e.proof))])]):(0,c.xW)(["0x03",ss(s)])}(this,n,t?this.blobs:null)}(0,d.vA)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#me(!0,!0)}get unsignedSerialized(){return this.#me(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,s=null!=this.#ue||this.#pe;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&(0,d.vA)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,d.vA)(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,d.vA)(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const a=[];return null!=this.type?a.push(this.type):t?a.push(2):e?(a.push(1),n||a.push(0)):n?(a.push(1),a.push(2)):(s&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return bs.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new bs;if("string"==typeof e){const t=(0,c.q5)(e);if(t[0]>=127)return bs.from(function(e){const t=Yn(e);(0,d.MR)(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:fs(t[0],"nonce"),gasPrice:ms(t[1],"gasPrice"),gasLimit:ms(t[2],"gasLimit"),to:ps(t[3]),value:ms(t[4],"value"),data:(0,c.c$)(t[5]),chainId:as};if(6===t.length)return n;const s=ms(t[6],"v"),a=ms(t[7],"r"),r=ms(t[8],"s");if(a===as&&r===as)n.chainId=s;else{let e=(s-cs)/rs;e<as&&(e=as),n.chainId=e,(0,d.MR)(e!==as||s===is||s===os,"non-canonical legacy v","v",t[6]),n.signature=Vt.from({r:(0,c.nx)(t[7],32),s:(0,c.nx)(t[8],32),v:s})}return n}(t));switch(t[0]){case 1:return bs.from(function(e){const t=Yn((0,c.q5)(e).slice(1));(0,d.MR)(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",(0,c.c$)(e));const n={type:1,chainId:ms(t[0],"chainId"),nonce:fs(t[1],"nonce"),gasPrice:ms(t[2],"gasPrice"),gasLimit:ms(t[3],"gasLimit"),to:ps(t[4]),value:ms(t[5],"value"),data:(0,c.c$)(t[6]),accessList:hs(t[7],"accessList")};return 8===t.length||As(n,t.slice(8)),n}(t));case 2:return bs.from(function(e){const t=Yn((0,c.q5)(e).slice(1));(0,d.MR)(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",(0,c.c$)(e));const n={type:2,chainId:ms(t[0],"chainId"),nonce:fs(t[1],"nonce"),maxPriorityFeePerGas:ms(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ms(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ms(t[4],"gasLimit"),to:ps(t[5]),value:ms(t[6],"value"),data:(0,c.c$)(t[7]),accessList:hs(t[8],"accessList")};return 9===t.length||As(n,t.slice(9)),n}(t));case 3:return bs.from(function(e){let t=Yn((0,c.q5)(e).slice(1)),n="3",s=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],a=t[2],r=t[3];(0,d.MR)(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),(0,d.MR)(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),(0,d.MR)(Array.isArray(r),"invalid network format: proofs not an array","fields[3]",r),(0,d.MR)(e.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",t),(0,d.MR)(e.length===r.length,"invalid network format: blobs/proofs length mismatch","fields",t),s=[];for(let n=0;n<t[1].length;n++)s.push({data:e[n],commitment:a[n],proof:r[n]});t=t[0]}(0,d.MR)(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${n}`,"data",(0,c.c$)(e));const a={type:3,chainId:ms(t[0],"chainId"),nonce:fs(t[1],"nonce"),maxPriorityFeePerGas:ms(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ms(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ms(t[4],"gasLimit"),to:ps(t[5]),value:ms(t[6],"value"),data:(0,c.c$)(t[7]),accessList:hs(t[8],"accessList"),maxFeePerBlobGas:ms(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};s&&(a.blobs=s),(0,d.MR)(null!=a.to,`invalid address for transaction type: ${n}`,"data",e),(0,d.MR)(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<a.blobVersionedHashes.length;t++)(0,d.MR)((0,c.Lo)(a.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||As(a,t.slice(11)),a}(t))}(0,d.vA)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new bs;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=Vt.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&((0,d.MR)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,d.MR)(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&((0,d.MR)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,d.MR)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}var Es=n(9381);const vs="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const ks=BigInt(58);function Cs(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):(0,d.MR)(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class Ts{name;constructor(e){(0,u.n)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Ls=new RegExp("^(ipfs)://(.*)$","i"),xs=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ls,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Is{provider;address;name;#ye;#ge;constructor(e,t,n){(0,u.n)(this,{provider:e,address:t,name:n}),this.#ye=null,this.#ge=new J.NZ(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#ye&&(this.#ye=(async()=>{try{return await this.#ge.supportsInterface("0x9061b923")}catch(e){if((0,d.bJ)(e,"CALL_EXCEPTION"))return!1;throw this.#ye=null,e}})()),await this.#ye}async#we(e,t){t=(t||[]).slice();const n=this.#ge.interface;t.unshift(lt(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),(0,d.vA)(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[dt(this.name,255),n.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const a=await this.#ge[e](...t);return s?n.decodeFunctionResult(s,a)[0]:a}catch(e){if(!(0,d.bJ)(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#we("addr(bytes32)");return null==e||e===Q?null:e}catch(e){if((0,d.bJ)(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await this.#we("addr(bytes32,uint)",[t]);if((0,c.Lo)(n,20))return(0,r.b)(n)}let t=null;for(const n of this.provider.plugins)if(n instanceof Ts&&n.supportsCoinType(e)){t=n;break}if(null==t)return null;const n=await this.#we("addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const s=await t.decodeAddress(e,n);if(null!=s)return s;(0,d.vA)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#we("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#we("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return`${e}://${function(e){const t=(0,c.q5)(e);let n=(0,l.Dg)(t),s="";for(;n;)s=vs[Number(n%ks)]+s,n/=ks;for(let e=0;e<t.length&&!t[e];e++)s=vs[0]+s;return s}("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return`bzz://${n[1]}`;(0,d.vA)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<xs.length;n++){const s=t.match(xs[n]);if(null==s)continue;const a=s[1].toLowerCase();switch(a){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const n=Cs(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:n}),{linkage:e,url:n}}case"erc721":case"erc1155":{const n="erc721"===a?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:t});const r=await this.getAddress();if(null==r)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const i=(s[2]||"").split("/");if(2!==i.length)return e.push({type:`!${a}caip`,value:s[2]||""}),{url:null,linkage:e};const o=i[1],d=new J.NZ(i[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===a){const t=await d.ownerOf(o);if(r!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===a){const t=await d.balanceOf(r,o);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await d[n](o);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===a&&(u=u.replace("{id}",(0,l.up)(o,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=Cs(u)),e.push({type:"metadata-url",value:u});let p={};const h=await new G(u).send();h.assertOk();try{p=h.bodyJson}catch(t){try{e.push({type:"!metadata",value:h.bodyText})}catch(t){const n=h.body;return n&&e.push({type:"!metadata",value:(0,c.c$)(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let f=p.image;if("string"!=typeof f)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(Ls))return e.push({type:"!imageUrl-ipfs",value:f}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:f}),f=Cs(f)}return e.push({type:"url",value:f}),{linkage:e,url:f}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return(0,d.vA)(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#Ae(e,t){const n=await Is.getEnsAddress(e);try{const s=new J.NZ(n,["function resolver(bytes32) view returns (address)"],e),a=await s.resolver(lt(t),{enableCcipRead:!0});return a===Q?null:a}catch(e){throw e}return null}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const s=await Is.#Ae(e,n);if(null!=s){const a=new Is(e,s,t);return n===t||await a.supportsWildcard()?a:null}n=n.split(".").slice(1).join(".")}}}const Bs=BigInt(0);function Ms(e,t){return function(n){return null==n?t:e(n)}}function Ns(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map((t=>e(t)))}}function Rs(e,t){return n=>{const s={};for(const a in e){let r=a;if(t&&a in t&&!(r in n))for(const e of t[a])if(e in n){r=e;break}try{const t=e[a](n[r]);void 0!==t&&(s[a]=t)}catch(e){const t=e instanceof Error?e.message:"not-an-error";(0,d.vA)(!1,`invalid value for value.${a} (${t})`,"BAD_DATA",{value:n})}}return s}}function Os(e){return(0,d.MR)((0,c.Lo)(e,!0),"invalid data","value",e),e}function Ss(e){return(0,d.MR)((0,c.Lo)(e,32),"invalid hash","value",e),e}const Ps=Rs({address:r.b,blockHash:Ss,blockNumber:l.WZ,data:Os,index:l.WZ,removed:Ms((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}(0,d.MR)(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:Ns(Ss),transactionHash:Ss,transactionIndex:l.WZ},{index:["logIndex"]}),_s=Rs({hash:Ms(Ss),parentHash:Ss,parentBeaconBlockRoot:Ms(Ss,null),number:l.WZ,timestamp:l.WZ,nonce:Ms(Os),difficulty:l.Ab,gasLimit:l.Ab,gasUsed:l.Ab,stateRoot:Ms(Ss,null),receiptsRoot:Ms(Ss,null),blobGasUsed:Ms(l.Ab,null),excessBlobGas:Ms(l.Ab,null),miner:Ms(r.b),prevRandao:Ms(Ss,null),extraData:Os,baseFeePerGas:Ms(l.Ab)},{prevRandao:["mixHash"]}),Ds=Rs({transactionIndex:l.WZ,blockNumber:l.WZ,transactionHash:Ss,address:r.b,topics:Ns(Ss),data:Os,index:l.WZ,blockHash:Ss},{index:["logIndex"]}),Us=Rs({to:Ms(r.b,null),from:Ms(r.b,null),contractAddress:Ms(r.b,null),index:l.WZ,root:Ms(c.c$),gasUsed:l.Ab,blobGasUsed:Ms(l.Ab,null),logsBloom:Ms(Os),blockHash:Ss,hash:Ss,logs:Ns((function(e){return Ds(e)})),blockNumber:l.WZ,cumulativeGasUsed:l.Ab,effectiveGasPrice:Ms(l.Ab),blobGasPrice:Ms(l.Ab,null),status:Ms(l.WZ),type:Ms(l.WZ,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Fs(e){e.to&&(0,l.Ab)(e.to)===Bs&&(e.to="0x0000000000000000000000000000000000000000");const t=Rs({hash:Ss,index:Ms(l.WZ,void 0),type:e=>"0x"===e||null==e?0:(0,l.WZ)(e),accessList:Ms(I.$,null),blobVersionedHashes:Ms(Ns(Ss,!0),null),blockHash:Ms(Ss,null),blockNumber:Ms(l.WZ,null),transactionIndex:Ms(l.WZ,null),from:r.b,gasPrice:Ms(l.Ab),maxPriorityFeePerGas:Ms(l.Ab),maxFeePerGas:Ms(l.Ab),maxFeePerBlobGas:Ms(l.Ab,null),gasLimit:l.Ab,to:Ms(r.b,null),value:l.Ab,nonce:l.WZ,data:Os,creates:Ms(r.b,null),chainId:Ms(l.Ab,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=(0,r.b)(e.from);let n=(0,l.Ab)(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,(0,r.b)((0,c.ZG)((0,o.S)(ss([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=Vt.from(e.signature):t.signature=Vt.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&(0,l.Ab)(t.blockHash)===Bs&&(t.blockHash=null),t}class Hs{name;constructor(e){(0,u.n)(this,{name:e})}clone(){return new Hs(this.name)}}class Gs extends Hs{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function s(e,s){let a=(t||{})[e];null==a&&(a=s),(0,d.MR)("number"==typeof a,`invalud value for ${e}`,"costs",t),n[e]=a}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),(0,u.n)(this,n)}clone(){return new Gs(this.effectiveBlock,this)}}class js extends Hs{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,u.n)(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new js(this.address,this.targetNetwork)}}class zs extends Hs{#P;#be;get url(){return this.#P}get processFunc(){return this.#be}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#P=e,this.#be=t}clone(){return this}}const Qs=new Map;class Js{#Ee;#ce;#ve;constructor(e,t){this.#Ee=e,this.#ce=(0,l.Ab)(t),this.#ve=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#Ee}set name(e){this.#Ee=e}get chainId(){return this.#ce}set chainId(e){this.#ce=(0,l.Ab)(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===(0,l.Ab)(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===(0,l.Ab)(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===(0,l.Ab)(e.chainId)}catch(e){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#ve.values())}attachPlugin(e){if(this.#ve.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#ve.set(e.name,e.clone()),this}getPlugin(e){return this.#ve.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new Js(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Gs;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)"00"===e.data.substring(s,s+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const s=(0,I.$)(e.accessList);for(const e in s)n+=t.txAccessListAddress+t.txAccessListStorageKey*s[e].storageKeys.length}return n}static from(e){if(function(){function e(e,t,n){const s=function(){const s=new Js(e,t);return null!=n.ensNetwork&&s.attachPlugin(new js(null,n.ensNetwork)),s.attachPlugin(new Gs),(n.plugins||[]).forEach((e=>{s.attachPlugin(e)})),s};Js.register(e,s),Js.register(t,s),n.altNames&&n.altNames.forEach((e=>{Js.register(e,s)}))}Ks||(Ks=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[Ws("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Ws("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1}))}(),null==e)return Js.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const t=Qs.get(e);if(t)return t();if("bigint"==typeof e)return new Js("unknown",e);(0,d.MR)(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){(0,d.MR)("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Js(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new js(e.ensAddress,e.ensNetwork)),t}(0,d.MR)(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));const n=Qs.get(e);n&&(0,d.MR)(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Qs.set(e,t)}}function Vs(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const s=n.split(".");if(1===s.length&&s.push(""),2!==s.length)throw new Error(`invalid gwei value: ${e}`);for(;s[1].length<t;)s[1]+="0";if(s[1].length>9){let e=BigInt(s[1].substring(0,9));s[1].substring(9).match(/^0+$/)||e++,s[1]=e.toString()}return BigInt(s[0]+s[1])}function Ws(e){return new zs(e,(async(e,t,n)=>{let s;n.setHeader("User-Agent","ethers");try{const[t,a]=await Promise.all([n.send(),e()]);s=t;const r=s.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:Vs(r.maxFee,9),maxPriorityFeePerGas:Vs(r.maxPriorityFee,9)}}catch(e){(0,d.vA)(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:e})}}))}let Ks=!1;var Zs=n(3948);function qs(e){return JSON.parse(JSON.stringify(e))}class Xs{#ke;#Ce;#Te;#Le;constructor(e){this.#ke=e,this.#Ce=null,this.#Te=4e3,this.#Le=-2}get pollingInterval(){return this.#Te}set pollingInterval(e){this.#Te=e}async#xe(){try{const e=await this.#ke.getBlockNumber();if(-2===this.#Le)return void(this.#Le=e);if(e!==this.#Le){for(let t=this.#Le+1;t<=e;t++){if(null==this.#Ce)return;await this.#ke.emit("block",t)}this.#Le=e}}catch(e){}null!=this.#Ce&&(this.#Ce=this.#ke._setTimeout(this.#xe.bind(this),this.#Te))}start(){this.#Ce||(this.#Ce=this.#ke._setTimeout(this.#xe.bind(this),this.#Te),this.#xe())}stop(){this.#Ce&&(this.#ke._clearTimeout(this.#Ce),this.#Ce=null)}pause(e){this.stop(),e&&(this.#Le=-2)}resume(){this.start()}}class $s{#ke;#xe;#Ie;constructor(e){this.#ke=e,this.#Ie=!1,this.#xe=e=>{this._poll(e,this.#ke)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Ie||(this.#Ie=!0,this.#xe(-2),this.#ke.on("block",this.#xe))}stop(){this.#Ie&&(this.#Ie=!1,this.#ke.off("block",this.#xe))}pause(e){this.stop()}resume(){this.start()}}class Ys extends $s{#Be;#Me;constructor(e,t){super(e),this.#Be=t,this.#Me=-2}pause(e){e&&(this.#Me=-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(this.#Be);null!=n&&(-2===this.#Me?this.#Me=n.number:n.number>this.#Me&&(t.emit(this.#Be,n.number),this.#Me=n.number))}}class ea extends $s{#v;constructor(e,t){super(e),this.#v=qs(t)}async _poll(e,t){throw new Error("@TODO")}}class ta extends $s{#Ne;constructor(e,t){super(e),this.#Ne=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#Ne);n&&t.emit(this.#Ne,n)}}class na{#ke;#v;#Ce;#Ie;#Le;constructor(e,t){this.#ke=e,this.#v=qs(t),this.#Ce=this.#xe.bind(this),this.#Ie=!1,this.#Le=-2}async#xe(e){if(-2===this.#Le)return;const t=qs(this.#v);t.fromBlock=this.#Le+1,t.toBlock=e;const n=await this.#ke.getLogs(t);if(0!==n.length)for(const e of n)this.#ke.emit(this.#v,e),this.#Le=e.blockNumber;else this.#Le<e-60&&(this.#Le=e-60)}start(){this.#Ie||(this.#Ie=!0,-2===this.#Le&&this.#ke.getBlockNumber().then((e=>{this.#Le=e})),this.#ke.on("block",this.#Ce))}stop(){this.#Ie&&(this.#Ie=!1,this.#ke.off("block",this.#Ce))}pause(e){this.stop(),e&&(this.#Le=-2)}resume(){this.start()}}const sa=BigInt(2);function aa(e){return e&&"function"==typeof e.then}function ra(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,n)=>(e[n]=t[n],e)),{})}return t}))}class ia{name;constructor(e){(0,u.n)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function oa(e){return(e=Array.from(new Set(e).values())).sort(),e}async function ca(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if((0,c.Lo)(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:ra("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:ra("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,s={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?oa(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const e=[],a=[],r=n=>{(0,c.Lo)(n)?e.push(n):a.push((async()=>{e.push(await(0,i.tG)(n,t))})())};Array.isArray(n.address)?n.address.forEach(r):r(n.address),a.length&&await Promise.all(a),s.address=oa(e.map((e=>e.toLowerCase())))}return{filter:s,tag:ra("event",s),type:"event"}}(0,d.MR)(!1,"unknown ProviderEvent","event",e)}function la(){return(new Date).getTime()}const da={cacheTimeout:250,pollingInterval:4e3};class ua{#Re;#ve;#Oe;#Se;#Pe;#_e;#De;#Ue;#Fe;#He;#Ge;#f;constructor(e,t){if(this.#f=Object.assign({},da,t||{}),"any"===e)this.#_e=!0,this.#Pe=null;else if(e){const t=Js.from(e);this.#_e=!1,this.#Pe=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#_e=!1,this.#Pe=null;this.#Ue=-1,this.#De=new Map,this.#Re=new Map,this.#ve=new Map,this.#Oe=null,this.#Se=!1,this.#Fe=1,this.#He=new Map,this.#Ge=!1}get pollingInterval(){return this.#f.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#ve.values())}attachPlugin(e){if(this.#ve.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#ve.set(e.name,e.connect(this)),this}getPlugin(e){return this.#ve.get(e)||null}get disableCcipRead(){return this.#Ge}set disableCcipRead(e){this.#Ge=!!e}async#je(e){const t=this.#f.cacheTimeout;if(t<0)return await this._perform(e);const n=ra(e.method,e);let s=this.#De.get(n);return s||(s=this._perform(e),this.#De.set(n,s),setTimeout((()=>{this.#De.get(n)===s&&this.#De.delete(n)}),t)),await s}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const s=e.to.toLowerCase(),a=t.toLowerCase(),r=[];for(let t=0;t<n.length;t++){const i=n[t],o=i.replace("{sender}",s).replace("{data}",a),c=new G(o);-1===i.indexOf("{data}")&&(c.body={data:a,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:t,urls:n});let l="unknown error";const u=await c.send();try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:e}),e.data;e.message&&(l=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:e})}catch(e){}(0,d.vA)(u.statusCode<400||u.statusCode>=500,`response not found during CCIP fetch: ${l}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:i,errorMessage:l}}),r.push(l)}(0,d.vA)(!1,`error encountered during CCIP fetch: ${r.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:r}})}_wrapBlock(e,t){return new Zs.eB(function(e){const t=_s(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:Fs(e))),t}(e),this)}_wrapLog(e,t){return new Zs.tG(function(e){return Ps(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Zs.z5(function(e){return Us(e)}(e),this)}_wrapTransactionResponse(e,t){return new Zs.uI(Fs(e),this)}_detectNetwork(){(0,d.vA)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,d.vA)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=(0,l.WZ)(await this.#je({method:"getBlockNumber"}),"%response");return this.#Ue>=0&&(this.#Ue=e),e}_getAddress(e){return(0,i.tG)(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return(0,c.Lo)(e)?(0,c.Lo)(e,32)?e:(0,l.nD)(e):("bigint"==typeof e&&(e=(0,l.WZ)(e,"blockTag")),"number"==typeof e?e>=0?(0,l.nD)(e):this.#Ue>=0?(0,l.nD)(this.#Ue+e):this.getBlockNumber().then((t=>(0,l.nD)(t+e))):void(0,d.MR)(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?oa(e.map((e=>e.toLowerCase()))):e.toLowerCase())),n="blockHash"in e?e.blockHash:void 0,s=(e,s,a)=>{let r;switch(e.length){case 0:break;case 1:r=e[0];break;default:e.sort(),r=e}if(n&&(null!=s||null!=a))throw new Error("invalid filter");const i={};return r&&(i.address=r),t.length&&(i.topics=t),s&&(i.fromBlock=s),a&&(i.toBlock=a),n&&(i.blockHash=n),i};let a,r,i=[];if(e.address)if(Array.isArray(e.address))for(const t of e.address)i.push(this._getAddress(t));else i.push(this._getAddress(e.address));return"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(r=this._getBlockTag(e.toBlock)),i.filter((e=>"string"!=typeof e)).length||null!=a&&"string"!=typeof a||null!=r&&"string"!=typeof r?Promise.all([Promise.all(i),a,r]).then((e=>s(e[0],e[1],e[2]))):s(i,a,r)}_getTransactionRequest(e){const t=(0,Zs.VS)(e),n=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const s=(0,i.tG)(t[e],this);aa(s)?n.push(async function(){t[e]=await s}()):t[e]=s})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);aa(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==this.#Pe){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#Pe===e&&(this.#Pe=null),t}})();return this.#Pe=e,(await e).clone()}const e=this.#Pe,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#_e?(this.emit("network",n,t),this.#Pe===e&&(this.#Pe=Promise.resolve(n))):(0,d.vA)(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:s}=await(0,u.k)({_block:this.#ze("latest",!1),gasPrice:(async()=>{try{const e=await this.#je({method:"getGasPrice"});return(0,l.Ab)(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{const e=await this.#je({method:"getPriorityFee"});return(0,l.Ab)(e,"%response")}catch(e){}return null})()});let a=null,r=null;const i=this._wrapBlock(t,e);return i&&i.baseFeePerGas&&(r=null!=s?s:BigInt("1000000000"),a=i.baseFeePerGas*sa+r),new Zs.J9(n,a,r)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new G(n.url),s=await n.processFunc(t,this,e);return new Zs.J9(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return aa(t)&&(t=await t),(0,l.Ab)(await this.#je({method:"estimateGas",transaction:t}),"%response")}async#Qe(e,t,n){(0,d.vA)(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=(0,Zs.VS)(e);try{return(0,c.c$)(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(e){if(!this.disableCcipRead&&(0,d.E)(e)&&e.data&&n>=0&&"latest"===t&&null!=s.to&&"0x556f1830"===(0,c.ZG)(e.data,0,4)){const a=e.data,r=await(0,i.tG)(s.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,d.vA)((0,c.pO)(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=(0,c.ZG)(e,0,32);(0,d.vA)((0,c.ZG)(n,0,12)===(0,c.ZG)(wa,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=(0,c.ZG)(n,12);try{const n=[],s=(0,l.WZ)((0,c.ZG)(e,32,64)),a=(0,l.WZ)((0,c.ZG)(e,s,s+32)),r=(0,c.ZG)(e,s+32);for(let e=0;e<a;e++){const t=pa(r,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(e){(0,d.vA)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=ha(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(e){(0,d.vA)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,d.vA)((0,c.ZG)(e,100,128)===(0,c.ZG)(wa,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=(0,c.ZG)(e,96,100);try{const n=ha(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(e){(0,d.vA)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}((0,c.ZG)(e.data,4))}catch(e){(0,d.vA)(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:a}})}(0,d.vA)(o.sender.toLowerCase()===r.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const u=await this.ccipReadFetch(s,o.calldata,o.urls);(0,d.vA)(null!=u,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:e.data,errorArgs:o.errorArgs}});const p={to:r,data:(0,c.xW)([o.selector,ga([u,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:p});try{const e=await this.#Qe(p,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},p),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},p),error:e}),e}}throw e}}async#Je(e){const{value:t}=await(0,u.k)({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await(0,u.k)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#Je(this.#Qe(t,n,e.enableCcipRead?0:-1))}async#Ve(e,t,n){let s=this._getAddress(t),a=this._getBlockTag(n);return"string"==typeof s&&"string"==typeof a||([s,a]=await Promise.all([s,a])),await this.#Je(this.#je(Object.assign(e,{address:s,blockTag:a})))}async getBalance(e,t){return(0,l.Ab)(await this.#Ve({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,l.WZ)(await this.#Ve({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,c.c$)(await this.#Ve({method:"getCode"},e,t))}async getStorage(e,t,n){const s=(0,l.Ab)(t,"position");return(0,c.c$)(await this.#Ve({method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:s}=await(0,u.k)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),a=bs.from(e);if(a.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(a,s).replaceableTransaction(t)}async#ze(e,t){if((0,c.Lo)(e,32))return await this.#je({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!=typeof n&&(n=await n),await this.#je({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:s}=await(0,u.k)({network:this.getNetwork(),params:this.#ze(e,!!t)});return null==s?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:t,params:n}=await(0,u.k)({network:this.getNetwork(),params:this.#je({method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await(0,u.k)({network:this.getNetwork(),params:this.#je({method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await this.#je({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await(0,u.k)({network:this.getNetwork(),result:this.#je({method:"getTransactionResult",hash:e})});return null==t?null:(0,c.c$)(t)}async getLogs(e){let t=this._getFilter(e);aa(t)&&(t=await t);const{network:n,params:s}=await(0,u.k)({network:this.getNetwork(),params:this.#je({method:"getLogs",filter:t})});return s.map((e=>this._wrapLog(e,n)))}_getProvider(e){(0,d.vA)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Is.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=lt((e=(0,r.b)(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await Is.getEnsAddress(this),s=new J.NZ(n,["function resolver(bytes32) view returns (address)"],this),a=await s.resolver(t);if(null==a||a===Q)return null;const r=new J.NZ(a,["function name(bytes32) view returns (string)"],this),i=await r.name(t);return await this.resolveName(i)!==e?null:i}catch(e){if((0,d.bJ)(e,"BAD_DATA")&&"0x"===e.value)return null;if((0,d.bJ)(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,n){const s=null!=t?t:1;return 0===s?this.getTransactionReceipt(e):new Promise((async(t,a)=>{let r=null;const i=async n=>{try{const a=await this.getTransactionReceipt(e);if(null!=a&&n-a.blockNumber+1>=s)return t(a),void(r&&(clearTimeout(r),r=null))}catch(e){console.log("EEE",e)}this.once("block",i)};null!=n&&(r=setTimeout((()=>{null!=r&&(r=null,this.off("block",i),a((0,d.xz)("timeout","TIMEOUT",{reason:"timeout"})))}),n)),i(await this.getBlockNumber())}))}async waitForBlock(e){(0,d.vA)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#He.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#He.delete(e))}_setTimeout(e,t){null==t&&(t=0);const n=this.#Fe++,s=()=>{this.#He.delete(n),e()};if(this.paused)this.#He.set(n,{timer:null,func:s,time:t});else{const e=setTimeout(s,t);this.#He.set(n,{timer:e,func:s,time:la()})}return n}_forEachSubscriber(e){for(const t of this.#Re.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new ia(e.type);case"block":{const e=new Xs(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Ys(this,e.type);case"event":return new na(this,e.filter);case"transaction":return new ta(this,e.hash);case"orphan":return new ea(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#Re.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=this.#Oe&&t.pause(this.#Oe);break}}async#We(e,t){let n=await ca(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await ca({orphan:"drop-log",log:t[0]},this)),this.#Re.get(n.tag)||null}async#Ke(e){const t=await ca(e,this),n=t.tag;let s=this.#Re.get(n);return s||(s={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Re.set(n,s)),s}async on(e,t){const n=await this.#Ke(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Oe&&n.subscriber.pause(this.#Oe)),this}async once(e,t){const n=await this.#Ke(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Oe&&n.subscriber.pause(this.#Oe)),this}async emit(e,...t){const n=await this.#We(e,t);if(!n||0===n.listeners.length)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter((({listener:n,once:s})=>{const a=new Es.z(this,s?null:n,e);try{n.call(this,...t,a)}catch(e){}return!s})),0===n.listeners.length&&(n.started&&n.subscriber.stop(),this.#Re.delete(n.tag)),s>0}async listenerCount(e){if(e){const t=await this.#We(e);return t?t.listeners.length:0}let t=0;for(const{listeners:e}of this.#Re.values())t+=e.length;return t}async listeners(e){if(e){const t=await this.#We(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:e}of this.#Re.values())t=t.concat(e.map((({listener:e})=>e)));return t}async off(e,t){const n=await this.#We(e);if(!n)return this;if(t){const e=n.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),this.#Re.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:s}=await this.#Ke(e);n&&s.stop(),this.#Re.delete(t)}else for(const[e,{started:t,subscriber:n}]of this.#Re)t&&n.stop(),this.#Re.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Se}destroy(){this.removeAllListeners();for(const e of this.#He.keys())this._clearTimeout(e);this.#Se=!0}get paused(){return null!=this.#Oe}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#Ue=-1,null!=this.#Oe){if(this.#Oe==!!e)return;(0,d.vA)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#Oe=!!e;for(const e of this.#He.values())e.timer&&clearTimeout(e.timer),e.time=la()-e.time}resume(){if(null!=this.#Oe){this._forEachSubscriber((e=>e.resume())),this.#Oe=null;for(const e of this.#He.values()){let t=e.time;t<0&&(t=0),e.time=la(),setTimeout(e.func,t)}}}}function pa(e,t){try{const n=ha(e,t);if(n)return(0,B._v)(n)}catch(e){}return null}function ha(e,t){if("0x"===e)return null;try{const n=(0,l.WZ)((0,c.ZG)(e,t,t+32)),s=(0,l.WZ)((0,c.ZG)(e,n,n+32));return(0,c.ZG)(e,n+32,n+32+s)}catch(e){}return null}function fa(e){const t=(0,l.c4)(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function ma(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const ya=new Uint8Array([]);function ga(e){const t=[];let n=0;for(let s=0;s<e.length;s++)t.push(ya),n+=32;for(let s=0;s<e.length;s++){const a=(0,c.q5)(e[s]);t[s]=fa(n),t.push(fa(a.length)),t.push(ma(a)),n+=32+32*Math.ceil(a.length/32)}return(0,c.xW)(t)}const wa="0x0000000000000000000000000000000000000000000000000000000000000000";function Aa(e,t){if(e.provider)return e.provider;(0,d.vA)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function ba(e,t){let n=(0,Zs.VS)(t);if(null!=n.to&&(n.to=(0,i.tG)(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),(0,i.tG)(t,e)]).then((([e,t])=>((0,d.MR)(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else n.from=e.getAddress();return await(0,u.k)(n)}class Ea{provider;constructor(e){(0,u.n)(this,{provider:e||null})}async getNonce(e){return Aa(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await ba(this,e)}async populateTransaction(e){const t=Aa(this,"populateTransaction"),n=await ba(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(null!=n.chainId){const t=(0,l.Ab)(n.chainId);(0,d.MR)(t===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const a=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!a?0!==n.type&&1!==n.type||!a||(0,d.MR)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):(0,d.MR)(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();(0,d.vA)(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?((0,d.vA)(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):(0,d.vA)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await(0,u.k)(n)}async estimateGas(e){return Aa(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Aa(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Aa(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Aa(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=bs.from(n);return await t.broadcastTransaction(await this.signTransaction(s))}}class va{#ke;#Ze;#Ce;#Ie;#qe;#Xe;constructor(e){this.#ke=e,this.#Ze=null,this.#Ce=this.#xe.bind(this),this.#Ie=!1,this.#qe=null,this.#Xe=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#xe(e){try{null==this.#Ze&&(this.#Ze=this._subscribe(this.#ke));let e=null;try{e=await this.#Ze}catch(e){if(!(0,d.bJ)(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e)return this.#Ze=null,void this.#ke._recoverSubscriber(this,this._recover(this.#ke));const t=await this.#ke.getNetwork();if(this.#qe||(this.#qe=t),this.#qe.chainId!==t.chainId)throw new Error("chaid changed");if(this.#Xe)return;const n=await this.#ke.send("eth_getFilterChanges",[e]);await this._emitResults(this.#ke,n)}catch(e){console.log("@TODO",e)}this.#ke.once("block",this.#Ce)}#$e(){const e=this.#Ze;e&&(this.#Ze=null,e.then((e=>{this.#ke.destroyed||this.#ke.send("eth_uninstallFilter",[e])})))}start(){this.#Ie||(this.#Ie=!0,this.#xe(-2))}stop(){this.#Ie&&(this.#Ie=!1,this.#Xe=!0,this.#$e(),this.#ke.off("block",this.#Ce))}pause(e){e&&this.#$e(),this.#ke.off("block",this.#Ce)}resume(){this.start()}}class ka extends va{#Ye;constructor(e,t){var n;super(e),this.#Ye=(n=t,JSON.parse(JSON.stringify(n)))}_recover(e){return new na(e,this.#Ye)}async _subscribe(e){return await e.send("eth_newFilter",[this.#Ye])}async _emitResults(e,t){for(const n of t)e.emit(this.#Ye,e._wrapLog(n,e._network))}}class Ca extends va{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const Ta="bigint,boolean,function,number,string,symbol".split(/,/g);function La(e){if(null==e||Ta.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(La);if("object"==typeof e)return Object.keys(e).reduce(((t,n)=>(t[n]=e[n],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function xa(e){return new Promise((t=>{setTimeout(t,e)}))}function Ia(e){return e?e.toLowerCase():e}function Ba(e){return e&&"number"==typeof e.pollingInterval}const Ma={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Na extends Ea{address;constructor(e,t){super(e),t=(0,r.b)(t),(0,u.n)(this,{address:t})}connect(e){(0,d.vA)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=La(e),n=[];if(t.from){const s=t.from;n.push((async()=>{const n=await(0,i.tG)(s,this.provider);(0,d.MR)(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await(0,i.tG)(e,this.provider)})())}n.length&&await Promise.all(n);const s=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise(((e,s)=>{const a=[1e3,100];let r=0;const i=async()=>{try{const s=await this.provider.getTransaction(n);if(null!=s)return void e(s.replaceableTransaction(t))}catch(e){if((0,d.bJ)(e,"CANCELLED")||(0,d.bJ)(e,"BAD_DATA")||(0,d.bJ)(e,"NETWORK_ERROR"))return null==e.info&&(e.info={}),e.info.sendTransactionHash=n,void s(e);if((0,d.bJ)(e,"INVALID_ARGUMENT")&&(r++,null==e.info&&(e.info={}),e.info.sendTransactionHash=n,r>10))return void s(e);this.provider.emit("error",(0,d.xz)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout((()=>{i()}),a.pop()||4e3)};i()}))}async signTransaction(e){const t=La(e);if(t.from){const n=await(0,i.tG)(t.from,this.provider);(0,d.MR)(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"==typeof e?(0,B.YW)(e):e;return await this.provider.send("personal_sign",[(0,c.c$)(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const s=La(n),a=await x.resolveNames(e,t,s,(async e=>{const t=await(0,i.tG)(e);return(0,d.MR)(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(x.getPayload(a.domain,t,a.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?(0,B.YW)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,c.c$)(t)])}}class Ra extends ua{#f;#et;#tt;#nt;#st;#qe;#at;#rt(){if(this.#nt)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#nt=setTimeout((()=>{this.#nt=null;const e=this.#tt;for(this.#tt=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#f.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map((e=>e.payload))).length>this.#f.batchMaxSize){e.unshift(t.pop());break}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:s,payload:a}of t){if(this.destroyed){s((0,d.xz)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:a.method}));continue}const t=n.filter((e=>e.id===a.id))[0];if(null!=t)"error"in t?s(this.getRpcError(a,t)):e(t.result);else{const e=(0,d.xz)("missing response for request","BAD_DATA",{value:n,info:{payload:a}});this.emit("error",e),s(e)}}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:n}of t)n(e)}})()}}),e)}constructor(e,t){super(e,t),this.#et=1,this.#f=Object.assign({},Ma,t||{}),this.#tt=[],this.#nt=null,this.#qe=null,this.#at=null;{let e=null;const t=new Promise((t=>{e=t}));this.#st={promise:t,resolve:e}}const n=this._getOption("staticNetwork");"boolean"==typeof n?((0,d.MR)(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&(this.#qe=Js.from(e))):n&&((0,d.MR)(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),this.#qe=n)}_getOption(e){return this.#f[e]}get _network(){return(0,d.vA)(this.#qe,"network is not available yet","NETWORK_ERROR"),this.#qe}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&(0,l.Ab)(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#qe)return this.#qe}return this.#at?await this.#at:this.ready?(this.#at=(async()=>{try{const e=Js.from((0,l.Ab)(await this.send("eth_chainId",[])));return this.#at=null,e}catch(e){throw this.#at=null,e}})(),await this.#at):(this.#at=(async()=>{const e={id:this.#et++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#at=null}catch(e){throw this.#at=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return Js.from((0,l.Ab)(t.result));throw this.getRpcError(e,t)})(),await this.#at)}_start(){null!=this.#st&&null!=this.#st.resolve&&(this.#st.resolve(),this.#st=null,(async()=>{for(;null==this.#qe&&!this.destroyed;)try{this.#qe=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,d.xz)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await xa(1e3)}this.#rt()})())}async _waitUntilReady(){if(null!=this.#st)return await this.#st.promise}_getSubscriber(e){return"pending"===e.type?new Ca(this):"event"===e.type?this._getOption("polling")?new na(this,e.filter):new ka(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new ia("orphan"):super._getSubscriber(e)}get ready(){return null==this.#st}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((n=>{if(null==e[n])return;let s=n;"gasLimit"===n&&(s="gas"),t[s]=(0,l.nD)((0,l.Ab)(e[n],`tx.${n}`))})),["from","to","data"].forEach((n=>{null!=e[n]&&(t[n]=(0,c.c$)(e[n]))})),e.accessList&&(t.accessList=(0,I.$)(e.accessList)),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ia(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ia(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ia(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ia(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Ia):e.filter.address=Ia(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:s}=t;if("eth_estimateGas"===n&&s.message){const t=s.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return(0,d.xz)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Pa(s),r=a.y.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return r.info={error:s,payload:e},r}const r=JSON.stringify(function(e){const t=[];return _a(e,t),t}(s));if("string"==typeof s.message&&s.message.match(/user denied|ethers-user-denied/i)){const t={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,d.xz)("user rejected action","ACTION_REJECTED",{action:t[n]||"unknown",reason:"rejected",info:{payload:e,error:s}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(r.match(/insufficient funds|base fee exceeds gas limit/i))return(0,d.xz)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:s}});if(r.match(/nonce/i)&&r.match(/too low/i))return(0,d.xz)("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:s}});if(r.match(/replacement transaction/i)&&r.match(/underpriced/i))return(0,d.xz)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:s}});if(r.match(/only replay-protected/i))return(0,d.xz)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:s}}})}let i=!!r.match(/the method .* does not exist/i);return i||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(i=!0),i?(0,d.xz)("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):(0,d.xz)("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,t){if(this.destroyed)return Promise.reject((0,d.xz)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#et++,s=new Promise(((s,a)=>{this.#tt.push({resolve:s,reject:a,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})}));return this.#rt(),s}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"==typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new Na(this,n[e])}const{accounts:n}=await(0,u.k)({network:this.getNetwork(),accounts:t});e=(0,r.b)(e);for(const t of n)if((0,r.b)(t)===e)return new Na(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new Na(this,e)))}destroy(){this.#nt&&(clearTimeout(this.#nt),this.#nt=null);for(const{payload:e,reject:t}of this.#tt)t((0,d.xz)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#tt=[],super.destroy()}}class Oa extends Ra{#it;constructor(e,t){super(e,t);let n=this._getOption("pollingInterval");null==n&&(n=Ma.pollingInterval),this.#it=n}_getSubscriber(e){const t=super._getSubscriber(e);return Ba(t)&&(t.pollingInterval=this.#it),t}get pollingInterval(){return this.#it}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#it=e,this._forEachSubscriber((e=>{Ba(e)&&(e.pollingInterval=this.#it)}))}}class Sa extends Oa{#ot;constructor(e,t,n){null==e&&(e="http://localhost:8545"),super(t,n),this.#ot="string"==typeof e?new G(e):e.clone()}_getConnection(){return this.#ot.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const n=await t.send();n.assertOk();let s=n.bodyJson;return Array.isArray(s)||(s=[s]),s}}function Pa(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&(0,c.Lo)(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const n=Pa(e[t]);if(n)return n}return null}if("string"==typeof e)try{return Pa(JSON.parse(e))}catch(e){}return null}function _a(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const n in e)_a(e[n],t);if("string"==typeof e)try{return _a(JSON.parse(e),t)}catch(e){}}}},3948:(e,t,n)=>{"use strict";n.d(t,{J9:()=>u,VS:()=>p,eB:()=>h,tG:()=>f,uI:()=>y,z5:()=>m});var s=n(8081),a=n(6212),r=n(7033),i=n(5309),o=n(8177);const c=BigInt(0);function l(e){return null==e?null:e}function d(e){return null==e?null:e.toString()}class u{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){(0,s.n)(this,{gasPrice:l(e),maxFeePerGas:l(t),maxPriorityFeePerGas:l(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:d(e),maxFeePerGas:d(t),maxPriorityFeePerGas:d(n)}}}function p(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=(0,a.c$)(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)s in e&&null!=e[s]&&(t[s]=(0,r.Ab)(e[s],`request.${s}`));const s="type,nonce".split(/,/);for(const n of s)n in e&&null!=e[n]&&(t[n]=(0,r.WZ)(e[n],`request.${n}`));return e.accessList&&(t.accessList=(0,o.$)(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>(0,a.f)(e)?(0,a.c$)(e):Object.assign({},e)))),t}class h{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#ct;constructor(e,t){this.#ct=e.transactions.map((e=>"string"!=typeof e?new y(e,t):e)),(0,s.n)(this,{provider:t,hash:l(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:l(e.prevRandao),extraData:e.extraData,baseFeePerGas:l(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#ct.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#ct.slice();return 0===e.length?[]:((0,i.vA)("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:s,gasUsed:a,hash:r,miner:i,prevRandao:o,nonce:c,number:l,parentHash:u,parentBeaconBlockRoot:p,stateRoot:h,receiptsRoot:f,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:d(e),difficulty:d(t),extraData:n,gasLimit:d(s),gasUsed:d(a),blobGasUsed:d(this.blobGasUsed),excessBlobGas:d(this.excessBlobGas),hash:r,miner:i,prevRandao:o,nonce:c,number:l,parentHash:u,timestamp:m,parentBeaconBlockRoot:p,stateRoot:h,receiptsRoot:f,transactions:y}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#ct.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#ct[e];else{const n=e.toLowerCase();for(const e of this.#ct){if("string"==typeof e){if(e!==n)continue;t=e;break}if(e.hash!==n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"==typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;(0,i.MR)(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:this.hash,number:this.number}}}class f{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());(0,s.n)(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:s,index:a,removed:r,topics:i,transactionHash:o,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:s,index:a,removed:r,topics:i,transactionHash:o,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return(0,i.vA)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return(0,i.vA)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return(0,i.vA)(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class m{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#lt;constructor(e,t){this.#lt=Object.freeze(e.logs.map((e=>new f(e,t))));let n=c;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),(0,s.n)(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#lt}toJSON(){const{to:e,from:t,contractAddress:n,hash:s,index:a,blockHash:r,blockNumber:i,logsBloom:o,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:r,blockNumber:i,contractAddress:n,cumulativeGasUsed:d(this.cumulativeGasUsed),from:t,gasPrice:d(this.gasPrice),blobGasUsed:d(this.blobGasUsed),blobGasPrice:d(this.blobGasPrice),gasUsed:d(this.gasUsed),hash:s,index:a,logs:c,logsBloom:o,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return w(this)}reorderedEvent(e){return(0,i.vA)(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),g(this,e)}}class y{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#dt;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#dt=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:s,type:a,to:r,from:i,nonce:o,data:c,signature:l,accessList:u,blobVersionedHashes:p}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:p,chainId:d(this.chainId),data:c,from:i,gasLimit:d(this.gasLimit),gasPrice:d(this.gasPrice),hash:s,maxFeePerGas:d(this.maxFeePerGas),maxPriorityFeePerGas:d(this.maxPriorityFeePerGas),maxFeePerBlobGas:d(this.maxFeePerBlobGas),nonce:o,signature:l,to:r,index:n,type:a,value:d(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await(0,s.k)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,a=null==t?0:t;let r=this.#dt,o=-1,l=-1===r;const d=async()=>{if(l)return null;const{blockNumber:e,nonce:t}=await(0,s.k)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(r=e);if(l)return null;const a=await this.getTransaction();if(!a||null==a.blockNumber)for(-1===o&&(o=r-3,o<this.#dt&&(o=this.#dt));o<=e;){if(l)return null;const t=await this.provider.getBlock(o,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let s=0;s<t.length;s++){const a=await t.getTransaction(s);if(a.from===this.from&&a.nonce===this.nonce){if(l)return null;const t=await this.provider.getTransactionReceipt(a.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let s="replaced";a.data===this.data&&a.to===this.to&&a.value===this.value?s="repriced":"0x"===a.data&&a.from===a.to&&a.value===c&&(s="cancelled"),(0,i.vA)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===s||"cancelled"===s,reason:s,replacement:a.replaceableTransaction(r),hash:a.hash,receipt:t})}}o++}},u=e=>{if(null==e||0!==e.status)return e;(0,i.vA)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},p=await this.provider.getTransactionReceipt(this.hash);if(0===n)return u(p);if(p){if(await p.confirmations()>=n)return u(p)}else if(await d(),0===n)return null;const h=new Promise(((e,t)=>{const s=[],o=()=>{s.forEach((e=>e()))};if(s.push((()=>{l=!0})),a>0){const e=setTimeout((()=>{o(),t((0,i.xz)("wait for transaction timeout","TIMEOUT"))}),a);s.push((()=>{clearTimeout(e)}))}const c=async s=>{if(await s.confirmations()>=n){o();try{e(u(s))}catch(e){t(e)}}};if(s.push((()=>{this.provider.off(this.hash,c)})),this.provider.on(this.hash,c),r>=0){const e=async()=>{try{await d()}catch(e){if((0,i.bJ)(e,"TRANSACTION_REPLACED"))return o(),void t(e)}l||this.provider.once("block",e)};s.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await h}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return(0,i.vA)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),w(this)}reorderedEvent(e){return(0,i.vA)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,i.vA)(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),g(this,e)}replaceableTransaction(e){(0,i.MR)(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new y(this,this.provider);return t.#dt=e,t}}function g(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function w(e){return{orphan:"drop-transaction",tx:e}}},8177:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var s=n(31),a=n(5309),r=n(6212);function i(e,t){return{address:(0,s.b)(e),storageKeys:t.map(((e,t)=>((0,a.MR)((0,r.Lo)(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function o(e){if(Array.isArray(e))return e.map(((t,n)=>Array.isArray(t)?((0,a.MR)(2===t.length,"invalid slot set",`value[${n}]`,t),i(t[0],t[1])):((0,a.MR)(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),i(t.address,t.storageKeys))));(0,a.MR)(null!=e&&"object"==typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return i(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}},6212:(e,t,n)=>{"use strict";n.d(t,{Lm:()=>i,Lo:()=>o,X_:()=>y,ZG:()=>h,c$:()=>d,f:()=>c,nx:()=>m,pO:()=>p,q5:()=>r,xW:()=>u});var s=n(5309);function a(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let s=0;s<t.length;s++)t[s]=parseInt(e.substring(n,n+2),16),n+=2;return t}(0,s.MR)(!1,"invalid BytesLike value",t||"value",e)}function r(e,t){return a(e,t,!1)}function i(e,t){return a(e,t,!0)}function o(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||"number"==typeof t&&e.length!==2+2*t||!0===t&&e.length%2!=0)}function c(e){return o(e,!0)||e instanceof Uint8Array}const l="0123456789abcdef";function d(e){const t=r(e);let n="0x";for(let e=0;e<t.length;e++){const s=t[e];n+=l[(240&s)>>4]+l[15&s]}return n}function u(e){return"0x"+e.map((e=>d(e).substring(2))).join("")}function p(e){return o(e,!0)?(e.length-2)/2:r(e).length}function h(e,t,n){const a=r(e);return null!=n&&n>a.length&&(0,s.vA)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:a,length:a.length,offset:n}),d(a.slice(null==t?0:t,null==n?a.length:n))}function f(e,t,n){const a=r(e);(0,s.vA)(t>=a.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(a),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(a,t-a.length):i.set(a,0),d(i)}function m(e,t){return f(e,t,!0)}function y(e,t){return f(e,t,!1)}},5309:(e,t,n)=>{"use strict";n.d(t,{vA:()=>l,MR:()=>d,dd:()=>u,SP:()=>h,gk:()=>f,E:()=>o,bJ:()=>i,xz:()=>c});const s="6.12.1";var a=n(8081);function r(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(r).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let s=0;s<e.length;s++)n+=t[e[s]>>4],n+=t[15&e[s]];return n}if("object"==typeof e&&"function"==typeof e.toJSON)return r(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${r(t)}: ${r(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function i(e,t){return e&&e.code===t}function o(e){return i(e,"CALL_EXCEPTION")}function c(e,t,n){let i,o=e;{const a=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${r(n)}`);for(const e in n){if("shortMessage"===e)continue;const t=n[e];a.push(e+"="+r(t))}}a.push(`code=${t}`),a.push(`version=${s}`),a.length&&(e+=" ("+a.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":i=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(e);break;default:i=new Error(e)}return(0,a.n)(i,{code:t}),n&&Object.assign(i,n),null==i.shortMessage&&(0,a.n)(i,{shortMessage:o}),i}function l(e,t,n,s){if(!e)throw c(t,n,s)}function d(e,t,n,s){l(e,t,"INVALID_ARGUMENT",{argument:n,value:s})}function u(e,t,n){null==n&&(n=""),n&&(n=": "+n),l(e>=t,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),l(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const p=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function h(e){l(p.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function f(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),l(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}},9381:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var s=n(8081);class a{filter;emitter;#ut;constructor(e,t,n){this.#ut=t,(0,s.n)(this,{emitter:e,filter:n})}async removeListener(){null!=this.#ut&&await this.emitter.off(this.filter,this.#ut)}}},7033:(e,t,n)=>{"use strict";n.d(t,{Ab:()=>u,Dg:()=>f,JJ:()=>l,Ro:()=>y,ST:()=>c,WZ:()=>m,c4:()=>w,dK:()=>d,nD:()=>A,up:()=>g});var s=n(6212),a=n(5309);const r=BigInt(0),i=BigInt(1),o=9007199254740991;function c(e,t){const n=p(e,"value"),s=BigInt(m(t,"width"));return(0,a.vA)(n>>s===r,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>s-i?-((~n&(i<<s)-i)+i):n}function l(e,t){let n=u(e,"value");const s=BigInt(m(t,"width")),o=i<<s-i;return n<r?(n=-n,(0,a.vA)(n<=o,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~n&(i<<s)-i)+i):((0,a.vA)(n<o,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n)}function d(e,t){const n=p(e,"value"),s=BigInt(m(t,"bits"));return n&(i<<s)-i}function u(e,t){switch(typeof e){case"bigint":return e;case"number":return(0,a.MR)(Number.isInteger(e),"underflow",t||"value",e),(0,a.MR)(e>=-o&&e<=o,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(n){(0,a.MR)(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}(0,a.MR)(!1,"invalid BigNumberish value",t||"value",e)}function p(e,t){const n=u(e,t);return(0,a.vA)(n>=r,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const h="0123456789abcdef";function f(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=h[n>>4],t+=h[15&n];return BigInt(t)}return u(e)}function m(e,t){switch(typeof e){case"bigint":return(0,a.MR)(e>=-o&&e<=o,"overflow",t||"value",e),Number(e);case"number":return(0,a.MR)(Number.isInteger(e),"underflow",t||"value",e),(0,a.MR)(e>=-o&&e<=o,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return m(BigInt(e),t)}catch(n){(0,a.MR)(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}(0,a.MR)(!1,"invalid numeric value",t||"value",e)}function y(e){return m(f(e))}function g(e,t){let n=p(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const s=m(t,"width");for((0,a.vA)(2*s>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*s;)n="0"+n}return"0x"+n}function w(e){const t=p(e,"value");if(t===r)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const s=new Uint8Array(n.length/2);for(let e=0;e<s.length;e++){const t=2*e;s[e]=parseInt(n.substring(t,t+2),16)}return s}function A(e){let t=(0,s.c$)((0,s.f)(e)?e:w(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}},8081:(e,t,n)=>{"use strict";function s(e,t,n){const s=t.split("|").map((e=>e.trim()));for(let n=0;n<s.length;n++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const a=new Error(`invalid value for type ${t}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${n}`,a.value=e,a}async function a(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,n,s)=>(e[t[s]]=n,e)),{})}function r(e,t,n){for(let a in t){let r=t[a];const i=n?n[a]:null;i&&s(r,i,a),Object.defineProperty(e,a,{enumerable:!0,value:r,writable:!1})}}n.d(t,{k:()=>a,n:()=>r})},7303:(e,t,n)=>{"use strict";n.d(t,{YW:()=>o,_v:()=>c});var s=n(6212),a=n(5309);function r(e,t,n,s,a){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let s=t+1;s<n.length&&n[s]>>6==2;s++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const i=Object.freeze({error:function(e,t,n,s,r){(0,a.MR)(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:r,replace:function(e,t,n,s,i){return"OVERLONG"===e?((0,a.MR)("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),s.push(i),0):(s.push(65533),r(e,t,n))}});function o(e,t){(0,a.MR)("string"==typeof e,"invalid string value","str",e),null!=t&&((0,a.SP)(t),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const s=e.charCodeAt(t);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(63&s|128);else if(55296==(64512&s)){t++;const r=e.charCodeAt(t);(0,a.MR)(t<e.length&&56320==(64512&r),"invalid surrogate pair","str",e);const i=65536+((1023&s)<<10)+(1023&r);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(63&i|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(63&s|128)}return new Uint8Array(n)}function c(e,t){return function(e,t){null==t&&(t=i.error);const n=(0,s.q5)(e,"bytes"),a=[];let r=0;for(;r<n.length;){const e=n[r++];if(!(e>>7)){a.push(e);continue}let s=null,i=null;if(192==(224&e))s=1,i=127;else if(224==(240&e))s=2,i=2047;else{if(240!=(248&e)){r+=t(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",r-1,n,a);continue}s=3,i=65535}if(r-1+s>=n.length){r+=t("OVERRUN",r-1,n,a);continue}let o=e&(1<<8-s-1)-1;for(let e=0;e<s;e++){let e=n[r];if(128!=(192&e)){r+=t("MISSING_CONTINUE",r,n,a),o=null;break}o=o<<6|63&e,r++}null!==o&&(o>1114111?r+=t("OUT_OF_RANGE",r-1-s,n,a,o):o>=55296&&o<=57343?r+=t("UTF16_SURROGATE",r-1-s,n,a,o):o<=i?r+=t("OVERLONG",r-1-s,n,a,o):a.push(o))}return a}(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}},23:(e,t,n)=>{"use strict";n.d(t,{xI:()=>de});let s={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function a(e){s=e}const r=/[&<>"']/,i=new RegExp(r.source,"g"),o=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,c=new RegExp(o.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=e=>l[e];function u(e,t){if(t){if(r.test(e))return e.replace(i,d)}else if(o.test(e))return e.replace(c,d);return e}const p=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e){return e.replace(p,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const f=/(^|[^\[])\^/g;function m(e,t){let n="string"==typeof e?e:e.source;t=t||"";const s={replace:(e,t)=>{let a="string"==typeof t?t:t.source;return a=a.replace(f,"$1"),n=n.replace(e,a),s},getRegex:()=>new RegExp(n,t)};return s}function y(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const g={exec:()=>null};function w(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let s=!1,a=t;for(;--a>=0&&"\\"===n[a];)s=!s;return s?"|":" |"})).split(/ \|/);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(/\\\|/g,"|");return n}function A(e,t,n){const s=e.length;if(0===s)return"";let a=0;for(;a<s;){const r=e.charAt(s-a-1);if(r!==t||n){if(r===t||!n)break;a++}else a++}return e.slice(0,s-a)}function b(e,t,n,s){const a=t.href,r=t.title?u(t.title):null,i=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){s.state.inLink=!0;const e={type:"link",raw:n,href:a,title:r,text:i,tokens:s.inlineTokens(i)};return s.state.inLink=!1,e}return{type:"image",raw:n,href:a,title:r,text:u(i)}}class E{options;rules;lexer;constructor(e){this.options=e||s}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:A(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const s=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=s.length?e.slice(s.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=A(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1");e=A(e.replace(/^ *>[ \t]?/gm,""),"\n");const n=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:s,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const s=n.length>1,a={type:"list",raw:"",ordered:s,start:s?+n.slice(0,-1):"",loose:!1,items:[]};n=s?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=s?n:"[*+-]");const r=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let i="",o="",c=!1;for(;e;){let n=!1;if(!(t=r.exec(e)))break;if(this.rules.block.hr.test(e))break;i=t[0],e=e.substring(i.length);let s=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),l=e.split("\n",1)[0],d=0;this.options.pedantic?(d=2,o=s.trimStart()):(d=t[2].search(/[^ ]/),d=d>4?1:d,o=s.slice(d),d+=t[1].length);let u=!1;if(!s&&/^ *$/.test(l)&&(i+=l+"\n",e=e.substring(l.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),a=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),r=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;e;){const c=e.split("\n",1)[0];if(l=c,this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),a.test(l))break;if(r.test(l))break;if(t.test(l))break;if(n.test(e))break;if(l.search(/[^ ]/)>=d||!l.trim())o+="\n"+l.slice(d);else{if(u)break;if(s.search(/[^ ]/)>=4)break;if(a.test(s))break;if(r.test(s))break;if(n.test(s))break;o+="\n"+l}u||l.trim()||(u=!0),i+=c+"\n",e=e.substring(c.length+1),s=l.slice(d)}}a.loose||(c?a.loose=!0:/\n *\n *$/.test(i)&&(c=!0));let p,h=null;this.options.gfm&&(h=/^\[[ xX]\] /.exec(o),h&&(p="[ ] "!==h[0],o=o.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:i,task:!!h,checked:p,loose:!1,text:o,tokens:[]}),a.raw+=i}a.items[a.items.length-1].raw=i.trimEnd(),a.items[a.items.length-1].text=o.trimEnd(),a.raw=a.raw.trimEnd();for(let e=0;e<a.items.length;e++)if(this.lexer.state.top=!1,a.items[e].tokens=this.lexer.blockTokens(a.items[e].text,[]),!a.loose){const t=a.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));a.loose=n}if(a.loose)for(let e=0;e<a.items.length;e++)a.items[e].loose=!0;return a}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=w(t[1]),s=t[2].replace(/^\||\| *$/g,"").split("|"),a=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],r={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===s.length){for(const e of s)/^ *-+: *$/.test(e)?r.align.push("right"):/^ *:-+: *$/.test(e)?r.align.push("center"):/^ *:-+ *$/.test(e)?r.align.push("left"):r.align.push(null);for(const e of n)r.header.push({text:e,tokens:this.lexer.inline(e)});for(const e of a)r.rows.push(w(e,r.header.length).map((e=>({text:e,tokens:this.lexer.inline(e)}))));return r}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:u(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=A(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let s=0;s<e.length;s++)if("\\"===e[s])s++;else if(e[s]===t[0])n++;else if(e[s]===t[1]&&(n--,n<0))return s;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],s="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],s=e[3])}else s=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),b(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:s?s.replace(this.rules.inline.anyPunctuation,"$1"):s},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return b(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(s&&(!s[3]||!n.match(/[\p{L}\p{N}]/u))&&(!s[1]&&!s[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...s[0]].length-1;let a,r,i=n,o=0;const c="*"===s[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+n);null!=(s=c.exec(t));){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(r=[...a].length,s[3]||s[4]){i+=r;continue}if((s[5]||s[6])&&n%3&&!((n+r)%3)){o+=r;continue}if(i-=r,i>0)continue;r=Math.min(r,r+i+o);const t=[...s[0]][0].length,c=e.slice(0,n+s.index+t+r);if(Math.min(n,r)%2){const e=c.slice(1,-1);return{type:"em",raw:c,text:e,tokens:this.lexer.inlineTokens(e)}}const l=c.slice(2,-2);return{type:"strong",raw:c,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),s=/^ /.test(e)&&/ $/.test(e);return n&&s&&(e=e.substring(1,e.length-1)),e=u(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=u(t[1]),n="mailto:"+e):(e=u(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=u(t[0]),n="mailto:"+e;else{let s;do{s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(s!==t[0]);e=u(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:u(t[0]),{type:"text",raw:t[0],text:e}}}}const v=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,k=/(?:[*+-]|\d{1,9}[.)])/,C=m(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,k).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),T=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,L=/(?!\s*\])(?:\\.|[^\[\]\\])+/,x=m(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",L).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),I=m(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,k).getRegex(),B="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",M=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,N=m("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",M).replace("tag",B).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),R=m(T).replace("hr",v).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B).getRegex(),O={blockquote:m(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",R).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:x,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:v,html:N,lheading:C,list:I,newline:/^(?: *(?:\n|$))+/,paragraph:R,table:g,text:/^[^\n]+/},S=m("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",v).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B).getRegex(),P={...O,table:S,paragraph:m(T).replace("hr",v).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",S).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B).getRegex()},_={...O,html:m("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",M).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:g,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:m(T).replace("hr",v).replace("heading"," *#{1,6} *[^\n]").replace("lheading",C).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},D=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,U=/^( {2,}|\\)\n(?!\s*$)/,F="\\p{P}\\p{S}",H=m(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,F).getRegex(),G=m(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,F).getRegex(),j=m("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,F).getRegex(),z=m("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,F).getRegex(),Q=m(/\\([punct])/,"gu").replace(/punct/g,F).getRegex(),J=m(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),V=m(M).replace("(?:--\x3e|$)","--\x3e").getRegex(),W=m("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",V).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),K=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Z=m(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",K).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),q=m(/^!?\[(label)\]\[(ref)\]/).replace("label",K).replace("ref",L).getRegex(),X=m(/^!?\[(ref)\](?:\[\])?/).replace("ref",L).getRegex(),$={_backpedal:g,anyPunctuation:Q,autolink:J,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:U,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:g,emStrongLDelim:G,emStrongRDelimAst:j,emStrongRDelimUnd:z,escape:D,link:Z,nolink:X,punctuation:H,reflink:q,reflinkSearch:m("reflink|nolink(?!\\()","g").replace("reflink",q).replace("nolink",X).getRegex(),tag:W,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:g},Y={...$,link:m(/^!?\[(label)\]\((.*?)\)/).replace("label",K).getRegex(),reflink:m(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",K).getRegex()},ee={...$,escape:m(D).replace("])","~|])").getRegex(),url:m(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},te={...ee,br:m(U).replace("{2,}","*").getRegex(),text:m(ee.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ne={normal:O,gfm:P,pedantic:_},se={normal:$,gfm:ee,breaks:te,pedantic:Y};class ae{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||s,this.options.tokenizer=this.options.tokenizer||new E,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ne.normal,inline:se.normal};this.options.pedantic?(t.block=ne.pedantic,t.inline=se.pedantic):this.options.gfm&&(t.block=ne.gfm,this.options.breaks?t.inline=se.breaks:t.inline=se.gfm),this.tokenizer.rules=t}static get rules(){return{block:ne,inline:se}}static lex(e,t){return new ae(t).lex(e)}static lexInline(e,t){return new ae(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){let n,s,a,r;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((s=>!!(n=s.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?t.push(n):(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(s.raw+="\n"+n.raw,s.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(a=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startBlock.forEach((e=>{s=e.call({lexer:this},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(a)))s=t[t.length-1],r&&"paragraph"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n),r=a.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,s,a,r,i,o,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(c));)c=c.slice(0,r.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(i||(o=""),i=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((s=>!!(n=s.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===n.type&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===n.type&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,o))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(a=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startInline.forEach((e=>{s=e.call({lexer:this},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(a))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(o=n.raw.slice(-1)),i=!0,s=t[t.length-1],s&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class re{options;constructor(e){this.options=e||s}code(e,t,n){const s=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",s?'<pre><code class="language-'+u(s)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,n){const s=t?"ol":"ul";return"<"+s+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+s+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const s=y(e);if(null===s)return n;let a='<a href="'+(e=s)+'"';return t&&(a+=' title="'+t+'"'),a+=">"+n+"</a>",a}image(e,t,n){const s=y(e);if(null===s)return n;let a=`<img src="${e=s}" alt="${n}"`;return t&&(a+=` title="${t}"`),a+=">",a}text(e){return e}}class ie{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class oe{options;renderer;textRenderer;constructor(e){this.options=e||s,this.options.renderer=this.options.renderer||new re,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ie}static parse(e,t){return new oe(t).parse(e)}static parseInline(e,t){return new oe(t).parseInline(e)}parse(e,t=!0){let n="";for(let s=0;s<e.length;s++){const a=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const e=a,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}switch(a.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const e=a;n+=this.renderer.heading(this.parseInline(e.tokens),e.depth,h(this.parseInline(e.tokens,this.textRenderer)));continue}case"code":{const e=a;n+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=a;let t="",s="";for(let t=0;t<e.header.length;t++)s+=this.renderer.tablecell(this.parseInline(e.header[t].tokens),{header:!0,align:e.align[t]});t+=this.renderer.tablerow(s);let r="";for(let t=0;t<e.rows.length;t++){const n=e.rows[t];s="";for(let t=0;t<n.length;t++)s+=this.renderer.tablecell(this.parseInline(n[t].tokens),{header:!1,align:e.align[t]});r+=this.renderer.tablerow(s)}n+=this.renderer.table(t,r);continue}case"blockquote":{const e=a,t=this.parse(e.tokens);n+=this.renderer.blockquote(t);continue}case"list":{const e=a,t=e.ordered,s=e.start,r=e.loose;let i="";for(let t=0;t<e.items.length;t++){const n=e.items[t],s=n.checked,a=n.task;let o="";if(n.task){const e=this.renderer.checkbox(!!s);r?n.tokens.length>0&&"paragraph"===n.tokens[0].type?(n.tokens[0].text=e+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=e+" "+n.tokens[0].tokens[0].text)):n.tokens.unshift({type:"text",text:e+" "}):o+=e+" "}o+=this.parse(n.tokens,r),i+=this.renderer.listitem(o,a,!!s)}n+=this.renderer.list(i,t,s);continue}case"html":{const e=a;n+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=a;n+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let r=a,i=r.tokens?this.parseInline(r.tokens):r.text;for(;s+1<e.length&&"text"===e[s+1].type;)r=e[++s],i+="\n"+(r.tokens?this.parseInline(r.tokens):r.text);n+=t?this.renderer.paragraph(i):i;continue}default:{const e='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let s=0;s<e.length;s++){const a=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const e=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=e||"";continue}}switch(a.type){case"escape":{const e=a;n+=t.text(e.text);break}case"html":{const e=a;n+=t.html(e.text);break}case"link":{const e=a;n+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=a;n+=t.image(e.href,e.title,e.text);break}case"strong":{const e=a;n+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=a;n+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=a;n+=t.codespan(e.text);break}case"br":n+=t.br();break;case"del":{const e=a;n+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=a;n+=t.text(e.text);break}default:{const e='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class ce{options;constructor(e){this.options=e||s}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}const le=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#pt(ae.lex,oe.parse);parseInline=this.#pt(ae.lexInline,oe.parseInline);Parser=oe;Renderer=re;TextRenderer=ie;Lexer=ae;Tokenizer=E;Hooks=ce;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{const e=s;for(const s of e.header)n=n.concat(this.walkTokens(s.tokens,t));for(const s of e.rows)for(const e of s)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=s;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=s;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((s=>{const a=e[s].flat(1/0);n=n.concat(this.walkTokens(a,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let s=e.renderer.apply(this,t);return!1===s&&(s=n.apply(this,t)),s}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new re(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if("options"===n)continue;const s=n,a=e.renderer[s],r=t[s];t[s]=(...e)=>{let n=a.apply(t,e);return!1===n&&(n=r.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new E(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const s=n,a=e.tokenizer[s],r=t[s];t[s]=(...e)=>{let n=a.apply(t,e);return!1===n&&(n=r.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new ce;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if("options"===n)continue;const s=n,a=e.hooks[s],r=t[s];ce.passThroughHooks.has(n)?t[s]=e=>{if(this.defaults.async)return Promise.resolve(a.call(t,e)).then((e=>r.call(t,e)));const n=a.call(t,e);return r.call(t,n)}:t[s]=(...e)=>{let n=a.apply(t,e);return!1===n&&(n=r.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,s=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(s.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ae.lex(e,t??this.defaults)}parser(e,t){return oe.parse(e,t??this.defaults)}#pt(e,t){return(n,s)=>{const a={...s},r={...this.defaults,...a};!0===this.defaults.async&&!1===a.async&&(r.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),r.async=!0);const i=this.#ht(!!r.silent,!!r.async);if(null==n)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(r.hooks&&(r.hooks.options=r),r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then((t=>e(t,r))).then((e=>r.hooks?r.hooks.processAllTokens(e):e)).then((e=>r.walkTokens?Promise.all(this.walkTokens(e,r.walkTokens)).then((()=>e)):e)).then((e=>t(e,r))).then((e=>r.hooks?r.hooks.postprocess(e):e)).catch(i);try{r.hooks&&(n=r.hooks.preprocess(n));let s=e(n,r);r.hooks&&(s=r.hooks.processAllTokens(s)),r.walkTokens&&this.walkTokens(s,r.walkTokens);let a=t(s,r);return r.hooks&&(a=r.hooks.postprocess(a)),a}catch(e){return i(e)}}}#ht(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+u(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function de(e,t){return le.parse(e,t)}de.options=de.setOptions=function(e){return le.setOptions(e),de.defaults=le.defaults,a(de.defaults),de},de.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},de.defaults=s,de.use=function(...e){return le.use(...e),de.defaults=le.defaults,a(de.defaults),de},de.walkTokens=function(e,t){return le.walkTokens(e,t)},de.parseInline=le.parseInline,de.Parser=oe,de.parser=oe.parse,de.Renderer=re,de.TextRenderer=ie,de.Lexer=ae,de.lexer=ae.lex,de.Tokenizer=E,de.Hooks=ce,de.parse=de,de.options,de.setOptions,de.use,de.walkTokens,de.parseInline,oe.parse,ae.lex}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return a[e].call(n.exports,n,n.exports,i),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},i.a=(a,r,i)=>{var o;i&&((o=[]).d=-1);var c,l,d,u=new Set,p=a.exports,h=new Promise(((e,t)=>{d=t,l=e}));h[t]=p,h[e]=e=>(o&&e(o),u.forEach(e),h.catch((e=>{}))),a.exports=h,r((a=>{var r;c=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var r=[];r.d=0,a.then((e=>{i[t]=e,s(r)}),(e=>{i[n]=e,s(r)}));var i={};return i[e]=e=>e(r),i}}var o={};return o[e]=e=>{},o[t]=a,o})))(a);var i=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(r=()=>t(i)).r=0;var n=e=>e!==o&&!u.has(e)&&(u.add(e),e&&!e.d&&(r.r++,e.push(r)));c.map((t=>t[e](n)))}));return r.r?l:i()}),(e=>(e?d(h[n]=e):l(p),s(o)))),o&&o.d<0&&(o.d=0)},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(7927)})();